(function(){var e,t,n,i,r,a,s=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){null==e&&(e={}),null!=e.discoveryUrl&&(this.discoveryUrl=e.discoveryUrl),null!=e.debug&&(this.debug=e.debug),this.apiKeyName=null!=e.apiKeyName?e.apiKeyName:"api_key",null!=e.apiKey&&(this.api_key=e.apiKey),null!=e.api_key&&(this.api_key=e.api_key),null!=e.verbose&&(this.verbose=e.verbose),this.supportHeaderParams=null!=e.supportHeaderParams?e.supportHeaderParams:!1,this.supportedSubmitMethods=null!=e.supportedSubmitMethods?e.supportedSubmitMethods:["get"],null!=e.success&&(this.success=e.success),this.failure=null!=e.failure?e.failure:function(){},this.progress=null!=e.progress?e.progress:function(){},this.headers=null!=e.headers?e.headers:{},this.booleanValues=null!=e.booleanValues?e.booleanValues:new Array("true","false"),this.discoveryUrl=this.suffixApiKey(this.discoveryUrl),null!=e.success&&this.build()}return e.prototype.discoveryUrl="http://api.wordnik.com/v4/resources.json",e.prototype.debug=!1,e.prototype.api_key=null,e.prototype.basePath="v1",e.prototype.build=function(){var e=this;return this.progress("fetching resource list: "+this.discoveryUrl),jQuery.getJSON(this.discoveryUrl,function(t){var n,i,r,s,o,l,u,c;if(null!=t.apiVersion&&(e.apiVersion=t.apiVersion),null!=t.basePath&&jQuery.trim(t.basePath).length>0?(e.basePath=t.basePath,null==e.basePath.match(/^HTTP/i)&&e.fail("discoveryUrl basePath must be a URL."),e.basePath=e.basePath.replace(/\/$/,"")):(e.basePath=e.discoveryUrl.substring(0,e.discoveryUrl.lastIndexOf("/")),log("derived basepath from discoveryUrl as "+e.basePath)),e.resources={},e.resourcesArray=[],null!=t.resourcePath){for(e.resourcePath=t.resourcePath,n=null,u=t.apis,r=0,o=u.length;o>r;r++)i=u[r],null===n?n=new a(i,e):n.addOperations(i.path,i.operations);null!=n&&(e.resources[n.name]=n,e.resourcesArray.push(n),n.ready=!0,e.selfReflect())}else for(c=t.apis,s=0,l=c.length;l>s;s++)i=c[s],n=new a(i,e),e.resources[n.name]=n,e.resourcesArray.push(n);return e}).error(function(t){return e.fail(t.status+" : "+t.statusText+" "+e.discoveryUrl)})},e.prototype.selfReflect=function(){var e,t,n;if(null==this.resources)return!1;n=this.resources;for(t in n)if(e=n[t],null==e.ready)return!1;return this.setConsolidatedModels(),this.ready=!0,null!=this.success?this.success():void 0},e.prototype.fail=function(e){throw this.failure(e),e},e.prototype.setConsolidatedModels=function(){var e,t,n,i,r,a,s,o,l;this.modelsArray=[],this.models={},s=this.resources;for(i in s){n=s[i];for(t in n.models)null==this.models[t]&&(this.models[t]=n.models[t],this.modelsArray.push(n.models[t]))}for(o=this.modelsArray,l=[],r=0,a=o.length;a>r;r++)e=o[r],l.push(e.setReferencedModels(this.models));return l},e.prototype.suffixApiKey=function(e){var t;return null!=this.api_key&&jQuery.trim(this.api_key).length>0&&null!=e?(t=e.indexOf("?")>0?"&":"?",e+t+this.apiKeyName+"="+this.api_key):e},e.prototype.help=function(){var e,t,n,i,r,a,s,o,l,u;o=this.resources;for(r in o){i=o[r],console.log(r),l=i.operations;for(t in l)for(e=l[t],console.log("  "+e.nickname),u=e.parameters,a=0,s=u.length;s>a;a++)n=u[a],console.log("    "+n.name+(n.required?" (required)":"")+" - "+n.description)}return this},e}(),a=function(){function e(e,t){var n,i=this;this.api=t,this.path=null!=this.api.resourcePath?this.api.resourcePath:e.path,this.description=e.description,n=this.path.split("/"),this.name=n[n.length-1].replace(".{format}",""),this.basePath=this.api.basePath,this.operations={},this.operationsArray=[],this.modelsArray=[],this.models={},null!=e.operations&&null!=this.api.resourcePath?(this.api.progress("reading resource "+this.name+" models and operations"),this.addModels(e.models),this.addOperations(e.path,e.operations),this.api[this.name]=this):(null==this.path&&this.api.fail("SwaggerResources must have a path."),this.url=this.api.suffixApiKey(this.api.basePath+this.path.replace("{format}","json")),this.api.progress("fetching resource "+this.name+": "+this.url),jQuery.getJSON(this.url,function(e){var t,n,r,a;if(null!=e.basePath&&jQuery.trim(e.basePath).length>0&&(i.basePath=e.basePath,i.basePath=i.basePath.replace(/\/$/,"")),i.addModels(e.models),e.apis)for(a=e.apis,n=0,r=a.length;r>n;n++)t=a[n],i.addOperations(t.path,t.operations);return i.api[i.name]=i,i.ready=!0,i.api.selfReflect()}).error(function(e){return i.api.fail(e.status+" : "+e.statusText+" "+i.url)}))}return e.prototype.addModels=function(e){var n,i,r,a,s,o,l;if(null!=e){for(i in e)null==this.models[i]&&(r=new t(i,e[i]),this.modelsArray.push(r),this.models[i]=r);for(o=this.modelsArray,l=[],a=0,s=o.length;s>a;a++)n=o[a],l.push(n.setReferencedModels(this.models));return l}},e.prototype.addOperations=function(e,t){var n,r,a,s,o;if(t){for(o=[],a=0,s=t.length;s>a;a++)n=t[a],r=new i(n.nickname,e,n.httpMethod,n.parameters,n.summary,n.notes,n.responseClass,n.errorResponses,this,n.supportedContentTypes),this.operations[r.nickname]=r,o.push(this.operationsArray.push(r));return o}},e.prototype.help=function(){var e,t,n,i,r,a,s;a=this.operations;for(t in a)for(e=a[t],console.log("  "+e.nickname),s=e.parameters,i=0,r=s.length;r>i;i++)n=s[i],console.log("    "+n.name+(n.required?" (required)":"")+" - "+n.description);return this},e}(),t=function(){function e(e,t){var i;this.name=null!=t.id?t.id:e,this.properties=[];for(i in t.properties)this.properties.push(new n(i,t.properties[i]))}return e.prototype.setReferencedModels=function(e){var t,n,i,r,a;for(r=this.properties,a=[],n=0,i=r.length;i>n;n++)t=r[n],null!=e[t.dataType]?a.push(t.refModel=e[t.dataType]):null!=t.refDataType&&null!=e[t.refDataType]?a.push(t.refModel=e[t.refDataType]):a.push(void 0);return a},e.prototype.getMockSignature=function(e,t){var n,i,r,a,s,o,l,u,c,h,f,d,p,m;for(a=[],p=this.properties,c=0,f=p.length;f>c;c++)r=p[c],a.push(r.toString());for(o='<span style="font-weight: bold; color: #000; font-size: 1.0em">',u='<span style="font-weight: bold; color: #000; font-size: 1.1em">',l="</span>",i=o+"class "+this.name+"("+l,n=o+")"+l,s=i+"<span>"+a.join("</span>, <span>")+"</span>"+n,null!=e&&(s=u+e+l+"<br/>"+s),m=this.properties,h=0,d=m.length;d>h;h++)r=m[h],null!=r.refModel&&r.refModel!==t&&(s+="<br>"+r.refModel.getMockSignature(void 0,this));return s},e.prototype.createJSONSample=function(e){var t,n,i,r,a;for(n={},a=this.properties,i=0,r=a.length;r>i;i++)t=a[i],n[t.name]=t.getSampleValue(e);return n},e}(),n=function(){function e(e,t){this.name=e,this.dataType=t.type,this.isArray="array"===this.dataType.toLowerCase(),this.descr=t.description,null!=t.items&&(null!=t.items.type&&(this.refDataType=t.items.type),null!=t.items.$ref&&(this.refDataType=t.items.$ref)),this.dataTypeWithRef=null!=this.refDataType?this.dataType+"["+this.refDataType+"]":this.dataType,null!=t.allowableValues&&(this.valueType=t.allowableValues.valueType,this.values=t.allowableValues.values,null!=this.values&&(this.valuesString="'"+this.values.join("' or '")+"'"))}return e.prototype.getSampleValue=function(e){var t;return t=null!=this.refModel&&this.refModel!==e?this.refModel.createJSONSample(this.refModel):this.isArray?this.refDataType:this.dataType,this.isArray?[t]:t},e.prototype.toString=function(){var e;return e=this.name+": "+this.dataTypeWithRef,null!=this.values&&(e+=" = ['"+this.values.join("' or '")+"']"),null!=this.descr&&(e+=" {"+this.descr+"}"),e},e}(),i=function(){function e(e,t,n,i,r,a,o,l,u,c){var h,f,d,p,m,g,v,b,y,w=this;for(this.nickname=e,this.path=t,this.httpMethod=n,this.parameters=null!=i?i:[],this.summary=r,this.notes=a,this.responseClass=o,this.errorResponses=l,this.resource=u,this.supportedContentTypes=c,this["do"]=s(this["do"],this),null==this.nickname&&this.resource.api.fail("SwaggerOperations must have a nickname."),null==this.path&&this.resource.api.fail("SwaggerOperation "+e+" is missing path."),null==this.httpMethod&&this.resource.api.fail("SwaggerOperation "+e+" is missing httpMethod."),this.path=this.path.replace("{format}","json"),this.httpMethod=this.httpMethod.toLowerCase(),this.isGetMethod="get"===this.httpMethod,this.resourceName=this.resource.name,"void"===(null!=(v=this.responseClass)?v.toLowerCase():void 0)&&(this.responseClass=void 0),null!=this.responseClass&&(this.responseClassSignature=this.getSignature(this.responseClass,this.resource.models),this.responseSampleJSON=this.getSampleJSON(this.responseClass,this.resource.models)),this.errorResponses=this.errorResponses||[],b=this.parameters,d=0,m=b.length;m>d;d++)if(h=b[d],h.name=h.name||h.dataType,"boolean"===h.dataType.toLowerCase()&&(h.allowableValues={},h.allowableValues.values=this.resource.api.booleanValues),h.signature=this.getSignature(h.dataType,this.resource.models),h.sampleJSON=this.getSampleJSON(h.dataType,this.resource.models),null!=h.allowableValues&&("RANGE"===h.allowableValues.valueType?h.isRange=!0:h.isList=!0,null!=h.allowableValues.values))for(h.allowableValues.descriptiveValues=[],y=h.allowableValues.values,p=0,g=y.length;g>p;p++)f=y[p],null!=h.defaultValue&&h.defaultValue===f?h.allowableValues.descriptiveValues.push({value:f,isDefault:!0}):h.allowableValues.descriptiveValues.push({value:f,isDefault:!1});this.resource[this.nickname]=function(e,t,n){return w["do"](e,t,n)}}return e.prototype.isListType=function(e){return e.indexOf("[")>=0?e.substring(e.indexOf("[")+1,e.indexOf("]")):void 0},e.prototype.getSignature=function(e,t){var n,i;return i=this.isListType(e),n=null!=i&&t[i]||null!=t[e]?!1:!0,n?e:null!=i?t[i].getMockSignature(e):t[e].getMockSignature(e)},e.prototype.getSampleJSON=function(e,t){var n,i,r;return i=this.isListType(e),n=null!=i&&t[i]||null!=t[e]?!1:!0,r=n?void 0:null!=i?t[i].createJSONSample():t[e].createJSONSample(),r?(r=i?[r]:r,JSON.stringify(r,null,2)):void 0},e.prototype["do"]=function(e,t,n){var i,a;return null==e&&(e={}),"function"==typeof e&&(n=t,t=e,e={}),null==n&&(n=function(e,t,n){return console.log(e,t,n)}),null==t&&(t=function(e){return console.log(e)}),null!=e.headers&&(a=e.headers,delete e.headers),null!=e.body&&(i=e.body,delete e.body),new r(this.httpMethod,this.urlify(e),a,i,t,n,this)},e.prototype.pathJson=function(){return this.path.replace("{format}","json")},e.prototype.pathXml=function(){return this.path.replace("{format}","xml")},e.prototype.urlify=function(e,t){var n,i,r,a,s,o,l;for(null==t&&(t=!0),a=this.resource.basePath+this.pathJson(),l=this.parameters,s=0,o=l.length;o>s;s++)if(n=l[s],"path"===n.paramType){if(!e[n.name])throw""+n.name+" is a required path param.";r=new RegExp("{"+n.name+"[^}]*}","gi"),a=a.replace(r,encodeURIComponent(e[n.name])),delete e[n.name]}return t&&null!=this.resource.api.api_key&&this.resource.api.api_key.length>0&&(e[this.apiKeyName]=this.resource.api.api_key),i=this.supportHeaderParams()?jQuery.param(this.getQueryParams(e,t)):jQuery.param(this.getQueryAndHeaderParams(e,t)),null!=i&&i.length>0&&(a+="?"+i),a},e.prototype.supportHeaderParams=function(){return this.resource.api.supportHeaderParams},e.prototype.supportedSubmitMethods=function(){return this.resource.api.supportedSubmitMethods},e.prototype.getQueryAndHeaderParams=function(e,t){return null==t&&(t=!0),this.getMatchingParams(["query","header"],e,t)},e.prototype.getQueryParams=function(e,t){return null==t&&(t=!0),this.getMatchingParams(["query"],e,t)},e.prototype.getHeaderParams=function(e,t){return null==t&&(t=!0),this.getMatchingParams(["header"],e,t)},e.prototype.getMatchingParams=function(e,t,n){var i,r,a,s,o,l,u,c;for(i={},u=this.parameters,o=0,l=u.length;l>o;o++)a=u[o],jQuery.inArray(a.paramType,e)>=0&&t[a.name]&&(i[a.name]=t[a.name]);if(n&&null!=this.resource.api.api_key&&this.resource.api.api_key.length>0&&(i[this.resource.api.apiKeyName]=this.resource.api.api_key),jQuery.inArray("header",e)>=0){c=this.resource.api.headers;for(r in c)s=c[r],i[r]=s}return i},e.prototype.help=function(){var e,t,n,i;for(i=this.parameters,t=0,n=i.length;n>t;t++)e=i[t],console.log("    "+e.name+(e.required?" (required)":"")+" - "+e.description);return this},e}(),r=function(){function e(e,t,n,i,r,a,s){var o,l=this;if(this.type=e,this.url=t,this.headers=n,this.body=i,this.successCallback=r,this.errorCallback=a,this.operation=s,null==this.type)throw"SwaggerRequest type is required (get/post/put/delete).";if(null==this.url)throw"SwaggerRequest url is required.";if(null==this.successCallback)throw"SwaggerRequest successCallback is required.";if(null==this.errorCallback)throw"SwaggerRequest error callback is required.";if(null==this.operation)throw"SwaggerRequest operation is required.";this.operation.resource.api.verbose&&console.log(this.asCurl()),this.headers||(this.headers={}),null!=this.operation.resource.api.api_key&&(this.headers[this.apiKeyName]=this.operation.resource.api.api_key),null==this.headers.mock&&(o={type:this.type,url:this.url,data:JSON.stringify(this.body),dataType:"json",error:function(e,t,n){return l.errorCallback(e,t,n)},success:function(e){return l.successCallback(e)}},("post"===o.type.toLowerCase()||"put"===o.type.toLowerCase())&&(o.contentType="application/json"),jQuery.ajax(o))}return e.prototype.asCurl=function(){var e,t,n;return e=function(){var e,i;e=this.headers,i=[];for(t in e)n=e[t],i.push('--header "'+t+": "+n+'"');return i}.call(this),"curl "+e.join(" ")+" "+this.url},e}(),window.SwaggerApi=e,window.SwaggerResource=a,window.SwaggerOperation=i,window.SwaggerRequest=r}).call(this);