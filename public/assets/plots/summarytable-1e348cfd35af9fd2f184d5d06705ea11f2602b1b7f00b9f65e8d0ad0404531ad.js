define([require],function(){function t(t){this.caption=t.caption||"",this.selector=t.selector||"body",this.classes=t.classes||"",this.width=t.width||200,this.fontSize=t.fontSize||12,this.titleWidth=t.titleWidth||100,this.bar=t.bar||{maxWidth:100},this.dataset=t.dataset||[],this.icon=t.icon||{path:"/assets/language",height:20};var e=this;this.templates={titleCell:function(t){return['<img src="'+e.icon.path+"/"+t.toLowerCase()+'.png"',' style = "height:'+e.icon.height+'px;" class = "pull-left"',' title = "'+t+'" />',"<strong>"+t+"</strong>"].join(" ")},valueCell:function(t){return['<small style="text-align: center;">'+t+"</small>"].join(" ")},caretCell:function(t){var e=parseInt(t)>=0;return['<i class = "icon-caret-',e?"up":"down",'" style = "color:',e?"green":"red",';"></i>'].join("")}}}return t.prototype.render=function(t){var e=this;e.dataset=t;var n=d3.select(e.selector).append("div");n.attr({"class":e.classes}).html("<h5>"+e.caption+"</h5>");var i=n.append("table");i.style({width:function(){return e.width+"px"},"font-size":function(){return e.fontSize+"px"}}).attr("class","table table-hover table-condensed");{var r=(i.append("thead"),i.append("tbody")),o=r.selectAll("tr").data(e.dataset).enter().append("tr").style("width",e.width);o.selectAll("td").data(function(t){return[t.title,t.value,t.t1]}).enter().append("td").attr("class",function(t,e){return 1==e?"value":"title"}).html(function(t,n){switch(n){case 0:return e.templates.titleCell(t);case 1:return e.templates.valueCell(t);case 2:return e.templates.caretCell(t)}})}},t.prototype.loadAndRender=function(t){var e=this;d3.json(t,function(n,i){return n?(console.error("Can not load data from "+t+"for SummaryTable"),console.error(n),1):void e.render(i)})},t});