d3=function(){function e(e){return null!=e&&!isNaN(e)}function t(e){return e.length}function i(e){for(var t=1;e*t%1;)t*=10;return t}function n(e,t){try{for(var i in t)Object.defineProperty(e.prototype,i,{value:t[i],enumerable:!1})}catch(n){e.prototype=t}}function a(){}function r(){}function s(e,t,i){return function(){var n=i.apply(t,arguments);return n===t?e:n}}function o(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.substring(1);for(var i=0,n=Ts.length;n>i;++i){var a=Ts[i]+t;if(a in e)return a}}function l(e){for(var t=-1,i=e.length,n=[];++t<i;)n.push(e[t]);return n}function c(e){return Array.prototype.slice.call(e)}function u(){}function h(){}function f(e){function t(){for(var t,n=i,a=-1,r=n.length;++a<r;)(t=n[a].on)&&t.apply(this,arguments);return e}var i=[],n=new a;return t.on=function(t,a){var r,s=n.get(t);return arguments.length<2?s&&s.on:(s&&(s.on=null,i=i.slice(0,r=i.indexOf(s)).concat(i.slice(r+1)),n.remove(t)),a&&i.push(n.set(t,{on:a})),e)},t}function d(){gs.event.preventDefault()}function p(){for(var e,t=gs.event;e=t.sourceEvent;)t=e;return t}function m(e){for(var t=new h,i=0,n=arguments.length;++i<n;)t[arguments[i]]=f(t);return t.of=function(i,n){return function(a){try{var r=a.sourceEvent=gs.event;a.target=e,gs.event=a,t[a.type].apply(i,n)}finally{gs.event=r}}},t}function g(e){return Ps(e,Ls),e}function b(e){return"function"==typeof e?e:function(){return Bs(e,this)}}function v(e){return"function"==typeof e?e:function(){return Ns(e,this)}}function y(e,t){function i(){this.removeAttribute(e)}function n(){this.removeAttributeNS(e.space,e.local)}function a(){this.setAttribute(e,t)}function r(){this.setAttributeNS(e.space,e.local,t)}function s(){var i=t.apply(this,arguments);null==i?this.removeAttribute(e):this.setAttribute(e,i)}function o(){var i=t.apply(this,arguments);null==i?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}return e=gs.ns.qualify(e),null==t?e.local?n:i:"function"==typeof t?e.local?o:s:e.local?r:a}function w(e){return e.trim().replace(/\s+/g," ")}function _(e){return new RegExp("(?:^|\\s+)"+gs.requote(e)+"(?:\\s+|$)","g")}function x(e,t){function i(){for(var i=-1;++i<a;)e[i](this,t)}function n(){for(var i=-1,n=t.apply(this,arguments);++i<a;)e[i](this,n)}e=e.trim().split(/\s+/).map(k);var a=e.length;return"function"==typeof t?n:i}function k(e){var t=_(e);return function(i,n){if(a=i.classList)return n?a.add(e):a.remove(e);var a=i.getAttribute("class")||"";n?(t.lastIndex=0,t.test(a)||i.setAttribute("class",w(a+" "+e))):i.setAttribute("class",w(a.replace(t," ")))}}function C(e,t,i){function n(){this.style.removeProperty(e)}function a(){this.style.setProperty(e,t,i)}function r(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,i)}return null==t?n:"function"==typeof t?r:a}function S(e,t){function i(){delete this[e]}function n(){this[e]=t}function a(){var i=t.apply(this,arguments);null==i?delete this[e]:this[e]=i}return null==t?i:"function"==typeof t?a:n}function j(e){return"function"==typeof e?e:(e=gs.ns.qualify(e)).local?function(){return bs.createElementNS(e.space,e.local)}:function(){return bs.createElementNS(this.namespaceURI,e)}}function E(e){return{__data__:e}}function M(e){return function(){return Is(this,e)}}function T(e){return arguments.length||(e=gs.ascending),function(t,i){return!t-!i||e(t.__data__,i.__data__)}}function F(e,t){for(var i=0,n=e.length;n>i;i++)for(var a,r=e[i],s=0,o=r.length;o>s;s++)(a=r[s])&&t(a,s,i);return e}function D(e){return Ps(e,$s),e}function A(e){var t,i;return function(n,a,r){var s,o=e[r].update,l=o.length;for(r!=i&&(i=r,t=0),a>=t&&(t=a+1);!(s=o[t])&&++t<l;);return s}}function P(e,t,i){function n(){var t=this[s];t&&(this.removeEventListener(e,t,t.$),delete this[s])}function a(){var a=l(t,Fs(arguments));n.call(this),this.addEventListener(e,this[s]=a,a.$=i),a._=t}function r(){var t,i=new RegExp("^__on([^.]+)"+gs.requote(e)+"$");for(var n in this)if(t=n.match(i)){var a=this[n];this.removeEventListener(t[1],a,a.$),delete this[n]}}var s="__on"+e,o=e.indexOf("."),l=B;o>0&&(e=e.substring(0,o));var c=Hs.get(e);return c&&(e=c,l=N),o?t?a:n:t?u:r}function B(e,t){return function(i){var n=gs.event;gs.event=i,t[0]=this.__data__;try{e.apply(this,t)}finally{gs.event=n}}}function N(e,t){var i=B(e,t);return function(e){var t=this,n=e.relatedTarget;n&&(n===t||8&n.compareDocumentPosition(t))||i.call(t,e)}}function q(){var e=".dragsuppress-"+ ++zs,t="touchmove"+e,i="selectstart"+e,n="dragstart"+e,a="click"+e,r=gs.select(ys).on(t,d).on(i,d).on(n,d),s=vs.style,o=s[Rs];return s[Rs]="none",function(t){function i(){r.on(a,null)}r.on(e,null),s[Rs]=o,t&&(r.on(a,function(){d(),i()},!0),setTimeout(i,0))}}function I(e,t){var i=e.ownerSVGElement||e;if(i.createSVGPoint){var n=i.createSVGPoint();if(0>Us&&(ys.scrollX||ys.scrollY)){i=gs.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=i[0][0].getScreenCTM();Us=!(a.f||a.e),i.remove()}return Us?(n.x=t.pageX,n.y=t.pageY):(n.x=t.clientX,n.y=t.clientY),n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}function L(){}function Q(e,t,i){return new $(e,t,i)}function $(e,t,i){this.h=e,this.s=t,this.l=i}function O(e,t,i){function n(e){return e>360?e-=360:0>e&&(e+=360),60>e?r+(s-r)*e/60:180>e?s:240>e?r+(s-r)*(240-e)/60:r}function a(e){return Math.round(255*n(e))}var r,s;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,i=0>i?0:i>1?1:i,s=.5>=i?i*(1+t):i+t-i*t,r=2*i-s,at(a(e+120),a(e),a(e-120))}function H(e){return e>0?1:0>e?-1:0}function R(e){return e>1?0:-1>e?Ys:Math.acos(e)}function z(e){return e>1?Ys/2:-1>e?-Ys/2:Math.asin(e)}function U(e){return(Math.exp(e)-Math.exp(-e))/2}function W(e){return(Math.exp(e)+Math.exp(-e))/2}function K(e){return(e=Math.sin(e/2))*e}function X(e,t,i){return new V(e,t,i)}function V(e,t,i){this.h=e,this.c=t,this.l=i}function Y(e,t,i){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),Z(i,Math.cos(e*=Gs)*t,Math.sin(e)*t)}function Z(e,t,i){return new J(e,t,i)}function J(e,t,i){this.l=e,this.a=t,this.b=i}function G(e,t,i){var n=(e+16)/116,a=n+t/500,r=n-i/200;return a=tt(a)*no,n=tt(n)*ao,r=tt(r)*ro,at(nt(3.2404542*a-1.5371385*n-.4985314*r),nt(-.969266*a+1.8760108*n+.041556*r),nt(.0556434*a-.2040259*n+1.0572252*r))}function et(e,t,i){return e>0?X(Math.atan2(i,t)*eo,Math.sqrt(t*t+i*i),e):X(0/0,0/0,e)}function tt(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function it(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function nt(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function at(e,t,i){return new rt(e,t,i)}function rt(e,t,i){this.r=e,this.g=t,this.b=i}function st(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function ot(e,t,i){var n,a,r,s=0,o=0,l=0;if(n=/([a-z]+)\((.*)\)/i.exec(e))switch(a=n[2].split(","),n[1]){case"hsl":return i(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100);case"rgb":return t(ht(a[0]),ht(a[1]),ht(a[2]))}return(r=lo.get(e))?t(r.r,r.g,r.b):(null!=e&&"#"===e.charAt(0)&&(4===e.length?(s=e.charAt(1),s+=s,o=e.charAt(2),o+=o,l=e.charAt(3),l+=l):7===e.length&&(s=e.substring(1,3),o=e.substring(3,5),l=e.substring(5,7)),s=parseInt(s,16),o=parseInt(o,16),l=parseInt(l,16)),t(s,o,l))}function lt(e,t,i){var n,a,r=Math.min(e/=255,t/=255,i/=255),s=Math.max(e,t,i),o=s-r,l=(s+r)/2;return o?(a=.5>l?o/(s+r):o/(2-s-r),n=e==s?(t-i)/o+(i>t?6:0):t==s?(i-e)/o+2:(e-t)/o+4,n*=60):(n=0/0,a=l>0&&1>l?0:n),Q(n,a,l)}function ct(e,t,i){e=ut(e),t=ut(t),i=ut(i);var n=it((.4124564*e+.3575761*t+.1804375*i)/no),a=it((.2126729*e+.7151522*t+.072175*i)/ao),r=it((.0193339*e+.119192*t+.9503041*i)/ro);return Z(116*a-16,500*(n-a),200*(a-r))}function ut(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function ht(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function ft(e){return"function"==typeof e?e:function(){return e}}function dt(e){return e}function pt(e){return function(t,i,n){return 2===arguments.length&&"function"==typeof i&&(n=i,i=null),mt(t,i,e,n)}}function mt(e,t,i,n){function a(){var e,t=l.status;if(!t&&l.responseText||t>=200&&300>t||304===t){try{e=i.call(r,l)}catch(n){return s.error.call(r,n),void 0}s.load.call(r,e)}else s.error.call(r,l)}var r={},s=gs.dispatch("progress","load","error"),o={},l=new XMLHttpRequest,c=null;return!ys.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(e)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=a:l.onreadystatechange=function(){l.readyState>3&&a()},l.onprogress=function(e){var t=gs.event;gs.event=e;try{s.progress.call(r,l)}finally{gs.event=t}},r.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?o[e]:(null==t?delete o[e]:o[e]=t+"",r)},r.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",r):t},r.responseType=function(e){return arguments.length?(c=e,r):c},r.response=function(e){return i=e,r},["get","post"].forEach(function(e){r[e]=function(){return r.send.apply(r,[e].concat(Fs(arguments)))}}),r.send=function(i,n,a){if(2===arguments.length&&"function"==typeof n&&(a=n,n=null),l.open(i,e,!0),null==t||"accept"in o||(o.accept=t+",*/*"),l.setRequestHeader)for(var s in o)l.setRequestHeader(s,o[s]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=c&&(l.responseType=c),null!=a&&r.on("error",a).on("load",function(e){a(null,e)}),l.send(null==n?null:n),r},r.abort=function(){return l.abort(),r},gs.rebind(r,s,"on"),null==n?r:r.get(gt(n))}function gt(e){return 1===e.length?function(t,i){e(null==t?i:null)}:e}function bt(){var e=vt(),t=yt()-e;t>24?(isFinite(t)&&(clearTimeout(fo),fo=setTimeout(bt,t)),ho=0):(ho=1,po(bt))}function vt(){for(var e=Date.now(),t=co;t;)e>=t.time&&(t.flush=t.callback(e-t.time)),t=t.next;return e}function yt(){for(var e,t=co,i=1/0;t;)t.flush?t=e?e.next=t.next:co=t.next:(t.time<i&&(i=t.time),t=(e=t).next);return uo=e,i}function wt(e,t){var i=Math.pow(10,3*Math.abs(8-t));return{scale:t>8?function(e){return e/i}:function(e){return e*i},symbol:e}}function _t(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function xt(e){return e+""}function kt(){}function Ct(e,t,i){var n=i.s=e+t,a=n-e,r=n-a;i.t=e-r+(t-a)}function St(e,t){e&&jo.hasOwnProperty(e.type)&&jo[e.type](e,t)}function jt(e,t,i){var n,a=-1,r=e.length-i;for(t.lineStart();++a<r;)n=e[a],t.point(n[0],n[1]);t.lineEnd()}function Et(e,t){var i=-1,n=e.length;for(t.polygonStart();++i<n;)jt(e[i],t,1);t.polygonEnd()}function Mt(){function e(e,t){e*=Gs,t=t*Gs/2+Ys/4;var i=e-n,s=Math.cos(t),o=Math.sin(t),l=r*o,c=a*s+l*Math.cos(i),u=l*Math.sin(i);Mo.add(Math.atan2(u,c)),n=e,a=s,r=o}var t,i,n,a,r;To.point=function(s,o){To.point=e,n=(t=s)*Gs,a=Math.cos(o=(i=o)*Gs/2+Ys/4),r=Math.sin(o)},To.lineEnd=function(){e(t,i)}}function Tt(e){var t=e[0],i=e[1],n=Math.cos(i);return[n*Math.cos(t),n*Math.sin(t),Math.sin(i)]}function Ft(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Dt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function At(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Pt(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Bt(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Nt(e){return[Math.atan2(e[1],e[0]),z(e[2])]}function qt(e,t){return Math.abs(e[0]-t[0])<Zs&&Math.abs(e[1]-t[1])<Zs}function It(e,t){e*=Gs;var i=Math.cos(t*=Gs);Lt(i*Math.cos(e),i*Math.sin(e),Math.sin(t))}function Lt(e,t,i){++Fo,Ao+=(e-Ao)/Fo,Po+=(t-Po)/Fo,Bo+=(i-Bo)/Fo}function Qt(){function e(e,a){e*=Gs;var r=Math.cos(a*=Gs),s=r*Math.cos(e),o=r*Math.sin(e),l=Math.sin(a),c=Math.atan2(Math.sqrt((c=i*l-n*o)*c+(c=n*s-t*l)*c+(c=t*o-i*s)*c),t*s+i*o+n*l);Do+=c,No+=c*(t+(t=s)),qo+=c*(i+(i=o)),Io+=c*(n+(n=l)),Lt(t,i,n)}var t,i,n;Oo.point=function(a,r){a*=Gs;var s=Math.cos(r*=Gs);t=s*Math.cos(a),i=s*Math.sin(a),n=Math.sin(r),Oo.point=e,Lt(t,i,n)}}function $t(){Oo.point=It}function Ot(){function e(e,t){e*=Gs;var i=Math.cos(t*=Gs),s=i*Math.cos(e),o=i*Math.sin(e),l=Math.sin(t),c=a*l-r*o,u=r*s-n*l,h=n*o-a*s,f=Math.sqrt(c*c+u*u+h*h),d=n*s+a*o+r*l,p=f&&-R(d)/f,m=Math.atan2(f,d);Lo+=p*c,Qo+=p*u,$o+=p*h,Do+=m,No+=m*(n+(n=s)),qo+=m*(a+(a=o)),Io+=m*(r+(r=l)),Lt(n,a,r)}var t,i,n,a,r;Oo.point=function(s,o){t=s,i=o,Oo.point=e,s*=Gs;var l=Math.cos(o*=Gs);n=l*Math.cos(s),a=l*Math.sin(s),r=Math.sin(o),Lt(n,a,r)},Oo.lineEnd=function(){e(t,i),Oo.lineEnd=$t,Oo.point=It}}function Ht(){return!0}function Rt(e,t,i,n,a){var r=[],s=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,i=e[0],n=e[t];if(qt(i,n)){a.lineStart();for(var o=0;t>o;++o)a.point((i=e[o])[0],i[1]);return a.lineEnd(),void 0}var l={point:i,points:e,other:null,visited:!1,entry:!0,subject:!0},c={point:i,points:[i],other:l,visited:!1,entry:!1,subject:!1};l.other=c,r.push(l),s.push(c),l={point:n,points:[n],other:null,visited:!1,entry:!1,subject:!0},c={point:n,points:[n],other:l,visited:!1,entry:!0,subject:!1},l.other=c,r.push(l),s.push(c)}}),s.sort(t),zt(r),zt(s),r.length){if(i)for(var o=1,l=!i(s[0].point),c=s.length;c>o;++o)s[o].entry=l=!l;for(var u,h,f,d=r[0];;){for(u=d;u.visited;)if((u=u.next)===d)return;h=u.points,a.lineStart();do{if(u.visited=u.other.visited=!0,u.entry){if(u.subject)for(var o=0;o<h.length;o++)a.point((f=h[o])[0],f[1]);else n(u.point,u.next.point,1,a);u=u.next}else{if(u.subject){h=u.prev.points;for(var o=h.length;--o>=0;)a.point((f=h[o])[0],f[1])}else n(u.point,u.prev.point,-1,a);u=u.prev}u=u.other,h=u.points}while(!u.visited);a.lineEnd()}}}function zt(e){if(t=e.length){for(var t,i,n=0,a=e[0];++n<t;)a.next=i=e[n],i.prev=a,a=i;a.next=i=e[0],i.prev=a}}function Ut(e,t,i,n){return function(a){function r(t,i){e(t,i)&&a.point(t,i)}function s(e,t){m.point(e,t)}function o(){g.point=s,m.lineStart()}function l(){g.point=r,m.lineEnd()}function c(e,t){v.point(e,t),p.push([e,t])}function u(){v.lineStart(),p=[]}function h(){c(p[0][0],p[0][1]),v.lineEnd();var e,t=v.clean(),i=b.buffer(),n=i.length;if(p.pop(),d.push(p),p=null,n){if(1&t){e=i[0];var r,n=e.length-1,s=-1;for(a.lineStart();++s<n;)a.point((r=e[s])[0],r[1]);return a.lineEnd(),void 0}n>1&&2&t&&i.push(i.pop().concat(i.shift())),f.push(i.filter(Wt))}}var f,d,p,m=t(a),g={point:r,lineStart:o,lineEnd:l,polygonStart:function(){g.point=c,g.lineStart=u,g.lineEnd=h,f=[],d=[],a.polygonStart()},polygonEnd:function(){g.point=r,g.lineStart=o,g.lineEnd=l,f=gs.merge(f),f.length?Rt(f,Xt,null,i,a):n(d)&&(a.lineStart(),i(null,null,1,a),a.lineEnd()),a.polygonEnd(),f=d=null},sphere:function(){a.polygonStart(),a.lineStart(),i(null,null,1,a),a.lineEnd(),a.polygonEnd()}},b=Kt(),v=t(b);return g}}function Wt(e){return e.length>1}function Kt(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,i){e.push([t,i])},lineEnd:u,buffer:function(){var i=t;return t=[],e=null,i},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Xt(e,t){return((e=e.point)[0]<0?e[1]-Ys/2-Zs:Ys/2-e[1])-((t=t.point)[0]<0?t[1]-Ys/2-Zs:Ys/2-t[1])}function Vt(e,t){var i=e[0],n=e[1],a=[Math.sin(i),-Math.cos(i),0],r=0,s=!1,o=!1,l=0;Mo.reset();for(var c=0,u=t.length;u>c;++c){var h=t[c],f=h.length;if(f){for(var d=h[0],p=d[0],m=d[1]/2+Ys/4,g=Math.sin(m),b=Math.cos(m),v=1;;){v===f&&(v=0),e=h[v];var y=e[0],w=e[1]/2+Ys/4,_=Math.sin(w),x=Math.cos(w),k=y-p,C=Math.abs(k)>Ys,S=g*_;if(Mo.add(Math.atan2(S*Math.sin(k),b*x+S*Math.cos(k))),Math.abs(w)<Zs&&(o=!0),r+=C?k+(k>=0?2:-2)*Ys:k,C^p>=i^y>=i){var j=Dt(Tt(d),Tt(e));Bt(j);var E=Dt(a,j);Bt(E);var M=(C^k>=0?-1:1)*z(E[2]);n>M&&(l+=C^k>=0?1:-1)}if(!v++)break;p=y,g=_,b=x,d=e}Math.abs(r)>Zs&&(s=!0)}}return(!o&&!s&&0>Mo||-Zs>r)^1&l}function Yt(e){var t,i=0/0,n=0/0,a=0/0;return{lineStart:function(){e.lineStart(),t=1},point:function(r,s){var o=r>0?Ys:-Ys,l=Math.abs(r-i);Math.abs(l-Ys)<Zs?(e.point(i,n=(n+s)/2>0?Ys/2:-Ys/2),e.point(a,n),e.lineEnd(),e.lineStart(),e.point(o,n),e.point(r,n),t=0):a!==o&&l>=Ys&&(Math.abs(i-a)<Zs&&(i-=a*Zs),Math.abs(r-o)<Zs&&(r-=o*Zs),n=Zt(i,n,r,s),e.point(a,n),e.lineEnd(),e.lineStart(),e.point(o,n),t=0),e.point(i=r,n=s),a=o},lineEnd:function(){e.lineEnd(),i=n=0/0},clean:function(){return 2-t}}}function Zt(e,t,i,n){var a,r,s=Math.sin(e-i);return Math.abs(s)>Zs?Math.atan((Math.sin(t)*(r=Math.cos(n))*Math.sin(i)-Math.sin(n)*(a=Math.cos(t))*Math.sin(e))/(a*r*s)):(t+n)/2}function Jt(e,t,i,n){var a;if(null==e)a=i*Ys/2,n.point(-Ys,a),n.point(0,a),n.point(Ys,a),n.point(Ys,0),n.point(Ys,-a),n.point(0,-a),n.point(-Ys,-a),n.point(-Ys,0),n.point(-Ys,a);else if(Math.abs(e[0]-t[0])>Zs){var r=(e[0]<t[0]?1:-1)*Ys;a=i*r/2,n.point(-r,a),n.point(0,a),n.point(r,a)}else n.point(t[0],t[1])}function Gt(e){return Vt(Ro,e)}function ei(e){function t(e,t){return Math.cos(e)*Math.cos(t)>s}function i(e){var i,r,s,l,u;return{lineStart:function(){l=s=!1,u=1},point:function(h,f){var d,p=[h,f],m=t(h,f),g=o?m?0:a(h,f):m?a(h+(0>h?Ys:-Ys),f):0;if(!i&&(l=s=m)&&e.lineStart(),m!==s&&(d=n(i,p),(qt(i,d)||qt(p,d))&&(p[0]+=Zs,p[1]+=Zs,m=t(p[0],p[1]))),m!==s)u=0,m?(e.lineStart(),d=n(p,i),e.point(d[0],d[1])):(d=n(i,p),e.point(d[0],d[1]),e.lineEnd()),i=d;else if(c&&i&&o^m){var b;g&r||!(b=n(p,i,!0))||(u=0,o?(e.lineStart(),e.point(b[0][0],b[0][1]),e.point(b[1][0],b[1][1]),e.lineEnd()):(e.point(b[1][0],b[1][1]),e.lineEnd(),e.lineStart(),e.point(b[0][0],b[0][1])))}!m||i&&qt(i,p)||e.point(p[0],p[1]),i=p,s=m,r=g},lineEnd:function(){s&&e.lineEnd(),i=null},clean:function(){return u|(l&&s)<<1}}}function n(e,t,i){var n=Tt(e),a=Tt(t),r=[1,0,0],o=Dt(n,a),l=Ft(o,o),c=o[0],u=l-c*c;if(!u)return!i&&e;var h=s*l/u,f=-s*c/u,d=Dt(r,o),p=Pt(r,h),m=Pt(o,f);At(p,m);var g=d,b=Ft(p,g),v=Ft(g,g),y=b*b-v*(Ft(p,p)-1);if(!(0>y)){var w=Math.sqrt(y),_=Pt(g,(-b-w)/v);if(At(_,p),_=Nt(_),!i)return _;var x,k=e[0],C=t[0],S=e[1],j=t[1];k>C&&(x=k,k=C,C=x);var E=C-k,M=Math.abs(E-Ys)<Zs,T=M||Zs>E;if(!M&&S>j&&(x=S,S=j,j=x),T?M?S+j>0^_[1]<(Math.abs(_[0]-k)<Zs?S:j):S<=_[1]&&_[1]<=j:E>Ys^(k<=_[0]&&_[0]<=C)){var F=Pt(g,(-b+w)/v);return At(F,p),[_,Nt(F)]}}}function a(t,i){var n=o?e:Ys-e,a=0;return-n>t?a|=1:t>n&&(a|=2),-n>i?a|=4:i>n&&(a|=8),a}function r(e){return Vt(l,e)}var s=Math.cos(e),o=s>0,l=[e,0],c=Math.abs(s)>Zs,u=Si(e,6*Gs);return Ut(t,i,u,r)}function ti(e,t,i,n){function a(n,a){return Math.abs(n[0]-e)<Zs?a>0?0:3:Math.abs(n[0]-i)<Zs?a>0?2:1:Math.abs(n[1]-t)<Zs?a>0?1:0:a>0?3:2}function r(e,t){return s(e.point,t.point)}function s(e,t){var i=a(e,1),n=a(t,1);return i!==n?i-n:0===i?t[1]-e[1]:1===i?e[0]-t[0]:2===i?e[1]-t[1]:t[0]-e[0]}function o(a,r){var s=r[0]-a[0],o=r[1]-a[1],l=[0,1];return Math.abs(s)<Zs&&Math.abs(o)<Zs?e<=a[0]&&a[0]<=i&&t<=a[1]&&a[1]<=n:ii(e-a[0],s,l)&&ii(a[0]-i,-s,l)&&ii(t-a[1],o,l)&&ii(a[1]-n,-o,l)?(l[1]<1&&(r[0]=a[0]+l[1]*s,r[1]=a[1]+l[1]*o),l[0]>0&&(a[0]+=l[0]*s,a[1]+=l[0]*o),!0):!1}return function(l){function c(r){var s=a(r,-1),o=u([0===s||3===s?e:i,s>1?n:t]);return o}function u(e){for(var t=0,i=y.length,n=e[1],a=0;i>a;++a)for(var r,s=1,o=y[a],l=o.length,c=o[0];l>s;++s)r=o[s],c[1]<=n?r[1]>n&&h(c,r,e)>0&&++t:r[1]<=n&&h(c,r,e)<0&&--t,c=r;return 0!==t}function h(e,t,i){return(t[0]-e[0])*(i[1]-e[1])-(i[0]-e[0])*(t[1]-e[1])}function f(r,o,l,c){var u=0,h=0;if(null==r||(u=a(r,l))!==(h=a(o,l))||s(r,o)<0^l>0){do c.point(0===u||3===u?e:i,u>1?n:t);while((u=(u+l+4)%4)!==h)}else c.point(o[0],o[1])}function d(a,r){return a>=e&&i>=a&&r>=t&&n>=r}function p(e,t){d(e,t)&&l.point(e,t)}function m(){F.point=b,y&&y.push(w=[]),E=!0,j=!1,C=S=0/0}function g(){v&&(b(_,x),k&&j&&T.rejoin(),v.push(T.buffer())),F.point=p,j&&l.lineEnd()}function b(e,t){e=Math.max(-zo,Math.min(zo,e)),t=Math.max(-zo,Math.min(zo,t));var i=d(e,t);if(y&&w.push([e,t]),E)_=e,x=t,k=i,E=!1,i&&(l.lineStart(),l.point(e,t));else if(i&&j)l.point(e,t);else{var n=[C,S],a=[e,t];o(n,a)?(j||(l.lineStart(),l.point(n[0],n[1])),l.point(a[0],a[1]),i||l.lineEnd()):i&&(l.lineStart(),l.point(e,t))}C=e,S=t,j=i}var v,y,w,_,x,k,C,S,j,E,M=l,T=Kt(),F={point:p,lineStart:m,lineEnd:g,polygonStart:function(){l=T,v=[],y=[]},polygonEnd:function(){l=M,(v=gs.merge(v)).length?(l.polygonStart(),Rt(v,r,c,f,l),l.polygonEnd()):u([e,t])&&(l.polygonStart(),l.lineStart(),f(null,null,1,l),l.lineEnd(),l.polygonEnd()),v=y=w=null}};return F}}function ii(e,t,i){if(Math.abs(t)<Zs)return 0>=e;var n=e/t;if(t>0){if(n>i[1])return!1;n>i[0]&&(i[0]=n)}else{if(n<i[0])return!1;n<i[1]&&(i[1]=n)}return!0}function ni(e,t){function i(i,n){return i=e(i,n),t(i[0],i[1])}return e.invert&&t.invert&&(i.invert=function(i,n){return i=t.invert(i,n),i&&e.invert(i[0],i[1])}),i}function ai(e){var t=0,i=Ys/3,n=vi(e),a=n(t,i);return a.parallels=function(e){return arguments.length?n(t=e[0]*Ys/180,i=e[1]*Ys/180):[180*(t/Ys),180*(i/Ys)]},a}function ri(e,t){function i(e,t){var i=Math.sqrt(r-2*a*Math.sin(t))/a;return[i*Math.sin(e*=a),s-i*Math.cos(e)]}var n=Math.sin(e),a=(n+Math.sin(t))/2,r=1+n*(2*a-n),s=Math.sqrt(r)/a;return i.invert=function(e,t){var i=s-t;return[Math.atan2(e,i)/a,z((r-(e*e+i*i)*a*a)/(2*a))]},i}function si(){function e(e,t){Wo+=a*e-n*t,n=e,a=t}var t,i,n,a;Zo.point=function(r,s){Zo.point=e,t=n=r,i=a=s},Zo.lineEnd=function(){e(t,i)}}function oi(e,t){Ko>e&&(Ko=e),e>Vo&&(Vo=e),Xo>t&&(Xo=t),t>Yo&&(Yo=t)}function li(){function e(e,t){s.push("M",e,",",t,r)}function t(e,t){s.push("M",e,",",t),o.point=i}function i(e,t){s.push("L",e,",",t)}function n(){o.point=e}function a(){s.push("Z")}var r=ci(4.5),s=[],o={point:e,lineStart:function(){o.point=t},lineEnd:n,polygonStart:function(){o.lineEnd=a},polygonEnd:function(){o.lineEnd=n,o.point=e},pointRadius:function(e){return r=ci(e),o},result:function(){if(s.length){var e=s.join("");return s=[],e}}};return o}function ci(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function ui(e,t){Ao+=e,Po+=t,++Bo}function hi(){function e(e,n){var a=e-t,r=n-i,s=Math.sqrt(a*a+r*r);No+=s*(t+e)/2,qo+=s*(i+n)/2,Io+=s,ui(t=e,i=n)}var t,i;Go.point=function(n,a){Go.point=e,ui(t=n,i=a)}}function fi(){Go.point=ui}function di(){function e(e,t){var i=e-n,r=t-a,s=Math.sqrt(i*i+r*r);No+=s*(n+e)/2,qo+=s*(a+t)/2,Io+=s,s=a*e-n*t,Lo+=s*(n+e),Qo+=s*(a+t),$o+=3*s,ui(n=e,a=t)}var t,i,n,a;Go.point=function(r,s){Go.point=e,ui(t=n=r,i=a=s)},Go.lineEnd=function(){e(t,i)}}function pi(e){function t(t,i){e.moveTo(t,i),e.arc(t,i,s,0,2*Ys)}function i(t,i){e.moveTo(t,i),o.point=n}function n(t,i){e.lineTo(t,i)}function a(){o.point=t}function r(){e.closePath()}var s=4.5,o={point:t,lineStart:function(){o.point=i},lineEnd:a,polygonStart:function(){o.lineEnd=r},polygonEnd:function(){o.lineEnd=a,o.point=t},pointRadius:function(e){return s=e,o},result:u};return o}function mi(e){function t(t){function n(i,n){i=e(i,n),t.point(i[0],i[1])}function a(){y=0/0,C.point=s,t.lineStart()}function s(n,a){var s=Tt([n,a]),o=e(n,a);i(y,w,v,_,x,k,y=o[0],w=o[1],v=n,_=s[0],x=s[1],k=s[2],r,t),t.point(y,w)}function o(){C.point=n,t.lineEnd()}function l(){a(),C.point=c,C.lineEnd=u}function c(e,t){s(h=e,f=t),d=y,p=w,m=_,g=x,b=k,C.point=s}function u(){i(y,w,v,_,x,k,d,p,h,m,g,b,r,t),C.lineEnd=o,o()}var h,f,d,p,m,g,b,v,y,w,_,x,k,C={point:n,lineStart:a,lineEnd:o,polygonStart:function(){t.polygonStart(),C.lineStart=l},polygonEnd:function(){t.polygonEnd(),C.lineStart=a}};return C}function i(t,r,s,o,l,c,u,h,f,d,p,m,g,b){var v=u-t,y=h-r,w=v*v+y*y;if(w>4*n&&g--){var _=o+d,x=l+p,k=c+m,C=Math.sqrt(_*_+x*x+k*k),S=Math.asin(k/=C),j=Math.abs(Math.abs(k)-1)<Zs?(s+f)/2:Math.atan2(x,_),E=e(j,S),M=E[0],T=E[1],F=M-t,D=T-r,A=y*F-v*D;(A*A/w>n||Math.abs((v*F+y*D)/w-.5)>.3||a>o*d+l*p+c*m)&&(i(t,r,s,o,l,c,M,T,j,_/=C,x/=C,k,g,b),b.point(M,T),i(M,T,j,_,x,k,u,h,f,d,p,m,g,b))}}var n=.5,a=Math.cos(30*Gs),r=16;return t.precision=function(e){return arguments.length?(r=(n=e*e)>0&&16,t):Math.sqrt(n)},t}function gi(e){var t=mi(function(t,i){return e([t*eo,i*eo])});return function(e){return e=t(e),{point:function(t,i){e.point(t*Gs,i*Gs)},sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}}function bi(e){return vi(function(){return e})()}function vi(e){function t(e){return e=o(e[0]*Gs,e[1]*Gs),[e[0]*f+l,c-e[1]*f]}function i(e){return e=o.invert((e[0]-l)/f,(c-e[1])/f),e&&[e[0]*eo,e[1]*eo]}function n(){o=ni(s=_i(b,v,y),r);var e=r(m,g);return l=d-e[0]*f,c=p+e[1]*f,a()}function a(){return u&&(u.valid=!1,u=null),t}var r,s,o,l,c,u,h=mi(function(e,t){return e=r(e,t),[e[0]*f+l,c-e[1]*f]}),f=150,d=480,p=250,m=0,g=0,b=0,v=0,y=0,w=Ho,_=dt,x=null,k=null;return t.stream=function(e){return u&&(u.valid=!1),u=yi(s,w(h(_(e)))),u.valid=!0,u},t.clipAngle=function(e){return arguments.length?(w=null==e?(x=e,Ho):ei((x=+e)*Gs),a()):x},t.clipExtent=function(e){return arguments.length?(k=e,_=null==e?dt:ti(e[0][0],e[0][1],e[1][0],e[1][1]),a()):k},t.scale=function(e){return arguments.length?(f=+e,n()):f},t.translate=function(e){return arguments.length?(d=+e[0],p=+e[1],n()):[d,p]},t.center=function(e){return arguments.length?(m=e[0]%360*Gs,g=e[1]%360*Gs,n()):[m*eo,g*eo]},t.rotate=function(e){return arguments.length?(b=e[0]%360*Gs,v=e[1]%360*Gs,y=e.length>2?e[2]%360*Gs:0,n()):[b*eo,v*eo,y*eo]},gs.rebind(t,h,"precision"),function(){return r=e.apply(this,arguments),t.invert=r.invert&&i,n()}}function yi(e,t){return{point:function(i,n){n=e(i*Gs,n*Gs),i=n[0],t.point(i>Ys?i-2*Ys:-Ys>i?i+2*Ys:i,n[1])},sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function wi(e,t){return[e,t]}function _i(e,t,i){return e?t||i?ni(ki(e),Ci(t,i)):ki(e):t||i?Ci(t,i):wi}function xi(e){return function(t,i){return t+=e,[t>Ys?t-2*Ys:-Ys>t?t+2*Ys:t,i]}}function ki(e){var t=xi(e);return t.invert=xi(-e),t}function Ci(e,t){function i(e,t){var i=Math.cos(t),o=Math.cos(e)*i,l=Math.sin(e)*i,c=Math.sin(t),u=c*n+o*a;return[Math.atan2(l*r-u*s,o*n-c*a),z(u*r+l*s)]}var n=Math.cos(e),a=Math.sin(e),r=Math.cos(t),s=Math.sin(t);return i.invert=function(e,t){var i=Math.cos(t),o=Math.cos(e)*i,l=Math.sin(e)*i,c=Math.sin(t),u=c*r-l*s;return[Math.atan2(l*r+c*s,o*n+u*a),z(u*n-o*a)]},i}function Si(e,t){var i=Math.cos(e),n=Math.sin(e);return function(a,r,s,o){null!=a?(a=ji(i,a),r=ji(i,r),(s>0?r>a:a>r)&&(a+=2*s*Ys)):(a=e+2*s*Ys,r=e);for(var l,c=s*t,u=a;s>0?u>r:r>u;u-=c)o.point((l=Nt([i,-n*Math.cos(u),-n*Math.sin(u)]))[0],l[1])}}function ji(e,t){var i=Tt(t);i[0]-=e,Bt(i);var n=R(-i[1]);return((-i[2]<0?-n:n)+2*Math.PI-Zs)%(2*Math.PI)}function Ei(e,t,i){var n=gs.range(e,t-Zs,i).concat(t);return function(e){return n.map(function(t){return[e,t]})}}function Mi(e,t,i){var n=gs.range(e,t-Zs,i).concat(t);return function(e){return n.map(function(t){return[t,e]})}}function Ti(e){return e.source}function Fi(e){return e.target}function Di(e,t,i,n){var a=Math.cos(t),r=Math.sin(t),s=Math.cos(n),o=Math.sin(n),l=a*Math.cos(e),c=a*Math.sin(e),u=s*Math.cos(i),h=s*Math.sin(i),f=2*Math.asin(Math.sqrt(K(n-t)+a*s*K(i-e))),d=1/Math.sin(f),p=f?function(e){var t=Math.sin(e*=f)*d,i=Math.sin(f-e)*d,n=i*l+t*u,a=i*c+t*h,s=i*r+t*o;return[Math.atan2(a,n)*eo,Math.atan2(s,Math.sqrt(n*n+a*a))*eo]}:function(){return[e*eo,t*eo]};return p.distance=f,p}function Ai(){function e(e,a){var r=Math.sin(a*=Gs),s=Math.cos(a),o=Math.abs((e*=Gs)-t),l=Math.cos(o);el+=Math.atan2(Math.sqrt((o=s*Math.sin(o))*o+(o=n*r-i*s*l)*o),i*r+n*s*l),t=e,i=r,n=s}var t,i,n;tl.point=function(a,r){t=a*Gs,i=Math.sin(r*=Gs),n=Math.cos(r),tl.point=e},tl.lineEnd=function(){tl.point=tl.lineEnd=u}}function Pi(e,t){function i(t,i){var n=Math.cos(t),a=Math.cos(i),r=e(n*a);return[r*a*Math.sin(t),r*Math.sin(i)]}return i.invert=function(e,i){var n=Math.sqrt(e*e+i*i),a=t(n),r=Math.sin(a),s=Math.cos(a);return[Math.atan2(e*r,n*s),Math.asin(n&&i*r/n)]},i}function Bi(e,t){function i(e,t){var i=Math.abs(Math.abs(t)-Ys/2)<Zs?0:s/Math.pow(a(t),r);return[i*Math.sin(r*e),s-i*Math.cos(r*e)]}var n=Math.cos(e),a=function(e){return Math.tan(Ys/4+e/2)},r=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(a(t)/a(e)),s=n*Math.pow(a(e),r)/r;return r?(i.invert=function(e,t){var i=s-t,n=H(r)*Math.sqrt(e*e+i*i);return[Math.atan2(e,i)/r,2*Math.atan(Math.pow(s/n,1/r))-Ys/2]},i):qi}function Ni(e,t){function i(e,t){var i=r-t;return[i*Math.sin(a*e),r-i*Math.cos(a*e)]}var n=Math.cos(e),a=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),r=n/a+e;return Math.abs(a)<Zs?wi:(i.invert=function(e,t){var i=r-t;return[Math.atan2(e,i)/a,r-H(a)*Math.sqrt(e*e+i*i)]},i)}function qi(e,t){return[e,Math.log(Math.tan(Ys/4+t/2))]}function Ii(e){var t,i=bi(e),n=i.scale,a=i.translate,r=i.clipExtent;return i.scale=function(){var e=n.apply(i,arguments);return e===i?t?i.clipExtent(null):i:e},i.translate=function(){var e=a.apply(i,arguments);return e===i?t?i.clipExtent(null):i:e},i.clipExtent=function(e){var s=r.apply(i,arguments);if(s===i){if(t=null==e){var o=Ys*n(),l=a();r([[l[0]-o,l[1]-o],[l[0]+o,l[1]+o]])}}else t&&(s=null);return s},i.clipExtent(null)}function Li(e,t){var i=Math.cos(t)*Math.sin(e);return[Math.log((1+i)/(1-i))/2,Math.atan2(Math.tan(t),Math.cos(e))]}function Qi(e){function t(t){function s(){c.push("M",r(e(u),o))}for(var l,c=[],u=[],h=-1,f=t.length,d=ft(i),p=ft(n);++h<f;)a.call(this,l=t[h],h)?u.push([+d.call(this,l,h),+p.call(this,l,h)]):u.length&&(s(),u=[]);return u.length&&s(),c.length?c.join(""):null}var i=$i,n=Oi,a=Ht,r=Hi,s=r.key,o=.7;return t.x=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(n=e,t):n},t.defined=function(e){return arguments.length?(a=e,t):a},t.interpolate=function(e){return arguments.length?(s="function"==typeof e?r=e:(r=ol.get(e)||Hi).key,t):s},t.tension=function(e){return arguments.length?(o=e,t):o},t}function $i(e){return e[0]}function Oi(e){return e[1]}function Hi(e){return e.join("L")}function Ri(e){return Hi(e)+"Z"}function zi(e){for(var t=0,i=e.length,n=e[0],a=[n[0],",",n[1]];++t<i;)a.push("H",(n[0]+(n=e[t])[0])/2,"V",n[1]);return i>1&&a.push("H",n[0]),a.join("")}function Ui(e){for(var t=0,i=e.length,n=e[0],a=[n[0],",",n[1]];++t<i;)a.push("V",(n=e[t])[1],"H",n[0]);return a.join("")}function Wi(e){for(var t=0,i=e.length,n=e[0],a=[n[0],",",n[1]];++t<i;)a.push("H",(n=e[t])[0],"V",n[1]);return a.join("")}function Ki(e,t){return e.length<4?Hi(e):e[1]+Yi(e.slice(1,e.length-1),Zi(e,t))}function Xi(e,t){return e.length<3?Hi(e):e[0]+Yi((e.push(e[0]),e),Zi([e[e.length-2]].concat(e,[e[1]]),t))}function Vi(e,t){return e.length<3?Hi(e):e[0]+Yi(e,Zi(e,t))}function Yi(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return Hi(e);var i=e.length!=t.length,n="",a=e[0],r=e[1],s=t[0],o=s,l=1;if(i&&(n+="Q"+(r[0]-2*s[0]/3)+","+(r[1]-2*s[1]/3)+","+r[0]+","+r[1],a=e[1],l=2),t.length>1){o=t[1],r=e[l],l++,n+="C"+(a[0]+s[0])+","+(a[1]+s[1])+","+(r[0]-o[0])+","+(r[1]-o[1])+","+r[0]+","+r[1];for(var c=2;c<t.length;c++,l++)r=e[l],o=t[c],n+="S"+(r[0]-o[0])+","+(r[1]-o[1])+","+r[0]+","+r[1]}if(i){var u=e[l];n+="Q"+(r[0]+2*o[0]/3)+","+(r[1]+2*o[1]/3)+","+u[0]+","+u[1]}return n}function Zi(e,t){for(var i,n=[],a=(1-t)/2,r=e[0],s=e[1],o=1,l=e.length;++o<l;)i=r,r=s,s=e[o],n.push([a*(s[0]-i[0]),a*(s[1]-i[1])]);return n}function Ji(e){if(e.length<3)return Hi(e);var t=1,i=e.length,n=e[0],a=n[0],r=n[1],s=[a,a,a,(n=e[1])[0]],o=[r,r,r,n[1]],l=[a,",",r,"L",nn(ul,s),",",nn(ul,o)];for(e.push(e[i-1]);++t<=i;)n=e[t],s.shift(),s.push(n[0]),o.shift(),o.push(n[1]),an(l,s,o);return e.pop(),l.push("L",n),l.join("")}function Gi(e){if(e.length<4)return Hi(e);for(var t,i=[],n=-1,a=e.length,r=[0],s=[0];++n<3;)t=e[n],r.push(t[0]),s.push(t[1]);for(i.push(nn(ul,r)+","+nn(ul,s)),--n;++n<a;)t=e[n],r.shift(),r.push(t[0]),s.shift(),s.push(t[1]),an(i,r,s);return i.join("")}function en(e){for(var t,i,n=-1,a=e.length,r=a+4,s=[],o=[];++n<4;)i=e[n%a],s.push(i[0]),o.push(i[1]);for(t=[nn(ul,s),",",nn(ul,o)],--n;++n<r;)i=e[n%a],s.shift(),s.push(i[0]),o.shift(),o.push(i[1]),an(t,s,o);return t.join("")}function tn(e,t){var i=e.length-1;if(i)for(var n,a,r=e[0][0],s=e[0][1],o=e[i][0]-r,l=e[i][1]-s,c=-1;++c<=i;)n=e[c],a=c/i,n[0]=t*n[0]+(1-t)*(r+a*o),n[1]=t*n[1]+(1-t)*(s+a*l);return Ji(e)}function nn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function an(e,t,i){e.push("C",nn(ll,t),",",nn(ll,i),",",nn(cl,t),",",nn(cl,i),",",nn(ul,t),",",nn(ul,i))}function rn(e,t){return(t[1]-e[1])/(t[0]-e[0])}function sn(e){for(var t=0,i=e.length-1,n=[],a=e[0],r=e[1],s=n[0]=rn(a,r);++t<i;)n[t]=(s+(s=rn(a=r,r=e[t+1])))/2;return n[t]=s,n}function on(e){for(var t,i,n,a,r=[],s=sn(e),o=-1,l=e.length-1;++o<l;)t=rn(e[o],e[o+1]),Math.abs(t)<1e-6?s[o]=s[o+1]=0:(i=s[o]/t,n=s[o+1]/t,a=i*i+n*n,a>9&&(a=3*t/Math.sqrt(a),s[o]=a*i,s[o+1]=a*n));for(o=-1;++o<=l;)a=(e[Math.min(l,o+1)][0]-e[Math.max(0,o-1)][0])/(6*(1+s[o]*s[o])),r.push([a||0,s[o]*a||0]);return r}function ln(e){return e.length<3?Hi(e):e[0]+Yi(e,on(e))}function cn(e,t,i,n){var a,r,s,o,l,c,u;return a=n[e],r=a[0],s=a[1],a=n[t],o=a[0],l=a[1],a=n[i],c=a[0],u=a[1],(u-s)*(o-r)-(l-s)*(c-r)>0}function un(e,t,i){return(i[0]-t[0])*(e[1]-t[1])<(i[1]-t[1])*(e[0]-t[0])}function hn(e,t,i,n){var a=e[0],r=i[0],s=t[0]-a,o=n[0]-r,l=e[1],c=i[1],u=t[1]-l,h=n[1]-c,f=(o*(l-c)-h*(a-r))/(h*s-o*u);
return[a+f*s,l+f*u]}function fn(e){var t=e[0],i=e[e.length-1];return!(t[0]-i[0]||t[1]-i[1])}function dn(e,t){var i={list:e.map(function(e,t){return{index:t,x:e[0],y:e[1]}}).sort(function(e,t){return e.y<t.y?-1:e.y>t.y?1:e.x<t.x?-1:e.x>t.x?1:0}),bottomSite:null},n={list:[],leftEnd:null,rightEnd:null,init:function(){n.leftEnd=n.createHalfEdge(null,"l"),n.rightEnd=n.createHalfEdge(null,"l"),n.leftEnd.r=n.rightEnd,n.rightEnd.l=n.leftEnd,n.list.unshift(n.leftEnd,n.rightEnd)},createHalfEdge:function(e,t){return{edge:e,side:t,vertex:null,l:null,r:null}},insert:function(e,t){t.l=e,t.r=e.r,e.r.l=t,e.r=t},leftBound:function(e){var t=n.leftEnd;do t=t.r;while(t!=n.rightEnd&&a.rightOf(t,e));return t=t.l},del:function(e){e.l.r=e.r,e.r.l=e.l,e.edge=null},right:function(e){return e.r},left:function(e){return e.l},leftRegion:function(e){return null==e.edge?i.bottomSite:e.edge.region[e.side]},rightRegion:function(e){return null==e.edge?i.bottomSite:e.edge.region[fl[e.side]]}},a={bisect:function(e,t){var i={region:{l:e,r:t},ep:{l:null,r:null}},n=t.x-e.x,a=t.y-e.y,r=n>0?n:-n,s=a>0?a:-a;return i.c=e.x*n+e.y*a+.5*(n*n+a*a),r>s?(i.a=1,i.b=a/n,i.c/=n):(i.b=1,i.a=n/a,i.c/=a),i},intersect:function(e,t){var i=e.edge,n=t.edge;if(!i||!n||i.region.r==n.region.r)return null;var a=i.a*n.b-i.b*n.a;if(Math.abs(a)<1e-10)return null;var r,s,o=(i.c*n.b-n.c*i.b)/a,l=(n.c*i.a-i.c*n.a)/a,c=i.region.r,u=n.region.r;c.y<u.y||c.y==u.y&&c.x<u.x?(r=e,s=i):(r=t,s=n);var h=o>=s.region.r.x;return h&&"l"===r.side||!h&&"r"===r.side?null:{x:o,y:l}},rightOf:function(e,t){var i=e.edge,n=i.region.r,a=t.x>n.x;if(a&&"l"===e.side)return 1;if(!a&&"r"===e.side)return 0;if(1===i.a){var r=t.y-n.y,s=t.x-n.x,o=0,l=0;if(!a&&i.b<0||a&&i.b>=0?l=o=r>=i.b*s:(l=t.x+t.y*i.b>i.c,i.b<0&&(l=!l),l||(o=1)),!o){var c=n.x-i.region.l.x;l=i.b*(s*s-r*r)<c*r*(1+2*s/c+i.b*i.b),i.b<0&&(l=!l)}}else{var u=i.c-i.a*t.x,h=t.y-u,f=t.x-n.x,d=u-n.y;l=h*h>f*f+d*d}return"l"===e.side?l:!l},endPoint:function(e,i,n){e.ep[i]=n,e.ep[fl[i]]&&t(e)},distance:function(e,t){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)}},r={list:[],insert:function(e,t,i){e.vertex=t,e.ystar=t.y+i;for(var n=0,a=r.list,s=a.length;s>n;n++){var o=a[n];if(!(e.ystar>o.ystar||e.ystar==o.ystar&&t.x>o.vertex.x))break}a.splice(n,0,e)},del:function(e){for(var t=0,i=r.list,n=i.length;n>t&&i[t]!=e;++t);i.splice(t,1)},empty:function(){return 0===r.list.length},nextEvent:function(e){for(var t=0,i=r.list,n=i.length;n>t;++t)if(i[t]==e)return i[t+1];return null},min:function(){var e=r.list[0];return{x:e.vertex.x,y:e.ystar}},extractMin:function(){return r.list.shift()}};n.init(),i.bottomSite=i.list.shift();for(var s,o,l,c,u,h,f,d,p,m,g,b,v,y=i.list.shift();;)if(r.empty()||(s=r.min()),y&&(r.empty()||y.y<s.y||y.y==s.y&&y.x<s.x))o=n.leftBound(y),l=n.right(o),f=n.rightRegion(o),b=a.bisect(f,y),h=n.createHalfEdge(b,"l"),n.insert(o,h),m=a.intersect(o,h),m&&(r.del(o),r.insert(o,m,a.distance(m,y))),o=h,h=n.createHalfEdge(b,"r"),n.insert(o,h),m=a.intersect(h,l),m&&r.insert(h,m,a.distance(m,y)),y=i.list.shift();else{if(r.empty())break;o=r.extractMin(),c=n.left(o),l=n.right(o),u=n.right(l),f=n.leftRegion(o),d=n.rightRegion(l),g=o.vertex,a.endPoint(o.edge,o.side,g),a.endPoint(l.edge,l.side,g),n.del(o),r.del(l),n.del(l),v="l",f.y>d.y&&(p=f,f=d,d=p,v="r"),b=a.bisect(f,d),h=n.createHalfEdge(b,v),n.insert(c,h),a.endPoint(b,fl[v],g),m=a.intersect(c,h),m&&(r.del(c),r.insert(c,m,a.distance(m,f))),m=a.intersect(h,u),m&&r.insert(h,m,a.distance(m,f))}for(o=n.right(n.leftEnd);o!=n.rightEnd;o=n.right(o))t(o.edge)}function pn(e){return e.x}function mn(e){return e.y}function gn(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function bn(e,t,i,n,a,r){if(!e(t,i,n,a,r)){var s=.5*(i+a),o=.5*(n+r),l=t.nodes;l[0]&&bn(e,l[0],i,n,s,o),l[1]&&bn(e,l[1],s,n,a,o),l[2]&&bn(e,l[2],i,o,s,r),l[3]&&bn(e,l[3],s,o,a,r)}}function vn(e,t){e=gs.rgb(e),t=gs.rgb(t);var i=e.r,n=e.g,a=e.b,r=t.r-i,s=t.g-n,o=t.b-a;return function(t){return e.r=Math.round(i+r*t),e.g=Math.round(n+s*t),e.b=Math.round(a+o*t),e}}function yn(e,t){var i,n={},a={};for(i in e)i in t?n[i]=xn(e[i],t[i]):a[i]=e[i];for(i in t)i in e||(a[i]=t[i]);return function(e){for(i in n)a[i]=n[i](e);return a}}function wn(e,t){return t-=e=+e,function(i){return e+t*i}}function _n(e,t){var i,n,a,r,s,o=0,l=0,c=[],u=[];for(e+="",t+="",dl.lastIndex=0,n=0;i=dl.exec(t);++n)i.index&&c.push(t.substring(o,l=i.index)),u.push({i:c.length,x:i[0]}),c.push(null),o=dl.lastIndex;for(o<t.length&&c.push(t.substring(o)),n=0,r=u.length;(i=dl.exec(e))&&r>n;++n)if(s=u[n],s.x==i[0]){if(s.i)if(null==c[s.i+1])for(c[s.i-1]+=s.x,c.splice(s.i,1),a=n+1;r>a;++a)u[a].i--;else for(c[s.i-1]+=s.x+c[s.i+1],c.splice(s.i,2),a=n+1;r>a;++a)u[a].i-=2;else if(null==c[s.i+1])c[s.i]=s.x;else for(c[s.i]=s.x+c[s.i+1],c.splice(s.i+1,1),a=n+1;r>a;++a)u[a].i--;u.splice(n,1),r--,n--}else s.x=wn(parseFloat(i[0]),parseFloat(s.x));for(;r>n;)s=u.pop(),null==c[s.i+1]?c[s.i]=s.x:(c[s.i]=s.x+c[s.i+1],c.splice(s.i+1,1)),r--;return 1===c.length?null==c[0]?(s=u[0].x,function(e){return s(e)+""}):function(){return t}:function(e){for(n=0;r>n;++n)c[(s=u[n]).i]=s.x(e);return c.join("")}}function xn(e,t){for(var i,n=gs.interpolators.length;--n>=0&&!(i=gs.interpolators[n](e,t)););return i}function kn(e,t){var i,n=[],a=[],r=e.length,s=t.length,o=Math.min(e.length,t.length);for(i=0;o>i;++i)n.push(xn(e[i],t[i]));for(;r>i;++i)a[i]=e[i];for(;s>i;++i)a[i]=t[i];return function(e){for(i=0;o>i;++i)a[i]=n[i](e);return a}}function Cn(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function Sn(e){return function(t){return 1-e(1-t)}}function jn(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function En(e){return e*e}function Mn(e){return e*e*e}function Tn(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,i=t*e;return 4*(.5>e?i:3*(e-t)+i-.75)}function Fn(e){return function(t){return Math.pow(t,e)}}function Dn(e){return 1-Math.cos(e*Ys/2)}function An(e){return Math.pow(2,10*(e-1))}function Pn(e){return 1-Math.sqrt(1-e*e)}function Bn(e,t){var i;return arguments.length<2&&(t=.45),arguments.length?i=t/(2*Ys)*Math.asin(1/e):(e=1,i=t/4),function(n){return 1+e*Math.pow(2,10*-n)*Math.sin(2*(n-i)*Ys/t)}}function Nn(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function qn(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function In(e,t){e=gs.hcl(e),t=gs.hcl(t);var i=e.h,n=e.c,a=e.l,r=t.h-i,s=t.c-n,o=t.l-a;return isNaN(s)&&(s=0,n=isNaN(n)?t.c:n),isNaN(r)?(r=0,i=isNaN(i)?t.h:i):r>180?r-=360:-180>r&&(r+=360),function(t){return e.h=i+r*t,e.c=n+s*t,e.l=a+o*t,e}}function Ln(e,t){e=gs.hsl(e),t=gs.hsl(t);var i=e.h,n=e.s,a=e.l,r=t.h-i,s=t.s-n,o=t.l-a;return isNaN(s)&&(s=0,n=isNaN(n)?t.s:n),isNaN(r)?(r=0,i=isNaN(i)?t.h:i):r>180?r-=360:-180>r&&(r+=360),function(t){return e.h=i+r*t,e.s=n+s*t,e.l=a+o*t,e}}function Qn(e,t){e=gs.lab(e),t=gs.lab(t);var i=e.l,n=e.a,a=e.b,r=t.l-i,s=t.a-n,o=t.b-a;return function(t){return e.l=i+r*t,e.a=n+s*t,e.b=a+o*t,e}}function $n(e,t){return t-=e,function(i){return Math.round(e+t*i)}}function On(e){var t=[e.a,e.b],i=[e.c,e.d],n=Rn(t),a=Hn(t,i),r=Rn(zn(i,t,-a))||0;t[0]*i[1]<i[0]*t[1]&&(t[0]*=-1,t[1]*=-1,n*=-1,a*=-1),this.rotate=(n?Math.atan2(t[1],t[0]):Math.atan2(-i[0],i[1]))*eo,this.translate=[e.e,e.f],this.scale=[n,r],this.skew=r?Math.atan2(a,r)*eo:0}function Hn(e,t){return e[0]*t[0]+e[1]*t[1]}function Rn(e){var t=Math.sqrt(Hn(e,e));return t&&(e[0]/=t,e[1]/=t),t}function zn(e,t,i){return e[0]+=i*t[0],e[1]+=i*t[1],e}function Un(e,t){var i,n=[],a=[],r=gs.transform(e),s=gs.transform(t),o=r.translate,l=s.translate,c=r.rotate,u=s.rotate,h=r.skew,f=s.skew,d=r.scale,p=s.scale;return o[0]!=l[0]||o[1]!=l[1]?(n.push("translate(",null,",",null,")"),a.push({i:1,x:wn(o[0],l[0])},{i:3,x:wn(o[1],l[1])})):l[0]||l[1]?n.push("translate("+l+")"):n.push(""),c!=u?(c-u>180?u+=360:u-c>180&&(c+=360),a.push({i:n.push(n.pop()+"rotate(",null,")")-2,x:wn(c,u)})):u&&n.push(n.pop()+"rotate("+u+")"),h!=f?a.push({i:n.push(n.pop()+"skewX(",null,")")-2,x:wn(h,f)}):f&&n.push(n.pop()+"skewX("+f+")"),d[0]!=p[0]||d[1]!=p[1]?(i=n.push(n.pop()+"scale(",null,",",null,")"),a.push({i:i-4,x:wn(d[0],p[0])},{i:i-2,x:wn(d[1],p[1])})):(1!=p[0]||1!=p[1])&&n.push(n.pop()+"scale("+p+")"),i=a.length,function(e){for(var t,r=-1;++r<i;)n[(t=a[r]).i]=t.x(e);return n.join("")}}function Wn(e,t){return t=t-(e=+e)?1/(t-e):0,function(i){return(i-e)*t}}function Kn(e,t){return t=t-(e=+e)?1/(t-e):0,function(i){return Math.max(0,Math.min(1,(i-e)*t))}}function Xn(e){for(var t=e.source,i=e.target,n=Yn(t,i),a=[t];t!==n;)t=t.parent,a.push(t);for(var r=a.length;i!==n;)a.splice(r,0,i),i=i.parent;return a}function Vn(e){for(var t=[],i=e.parent;null!=i;)t.push(e),e=i,i=i.parent;return t.push(e),t}function Yn(e,t){if(e===t)return e;for(var i=Vn(e),n=Vn(t),a=i.pop(),r=n.pop(),s=null;a===r;)s=a,a=i.pop(),r=n.pop();return s}function Zn(e){e.fixed|=2}function Jn(e){e.fixed&=-7}function Gn(e){e.fixed|=4,e.px=e.x,e.py=e.y}function ea(e){e.fixed&=-5}function ta(e,t,i){var n=0,a=0;if(e.charge=0,!e.leaf)for(var r,s=e.nodes,o=s.length,l=-1;++l<o;)r=s[l],null!=r&&(ta(r,t,i),e.charge+=r.charge,n+=r.charge*r.cx,a+=r.charge*r.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=t*i[e.point.index];e.charge+=e.pointCharge=c,n+=c*e.point.x,a+=c*e.point.y}e.cx=n/e.charge,e.cy=a/e.charge}function ia(e,t){return gs.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=sa,e}function na(e){return e.children}function aa(e){return e.value}function ra(e,t){return t.value-e.value}function sa(e){return gs.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function oa(e){return e.x}function la(e){return e.y}function ca(e,t,i){e.y0=t,e.y=i}function ua(e){return gs.range(e.length)}function ha(e){for(var t=-1,i=e[0].length,n=[];++t<i;)n[t]=0;return n}function fa(e){for(var t,i=1,n=0,a=e[0][1],r=e.length;r>i;++i)(t=e[i][1])>a&&(n=i,a=t);return n}function da(e){return e.reduce(pa,0)}function pa(e,t){return e+t[1]}function ma(e,t){return ga(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function ga(e,t){for(var i=-1,n=+e[0],a=(e[1]-n)/t,r=[];++i<=t;)r[i]=a*i+n;return r}function ba(e){return[gs.min(e),gs.max(e)]}function va(e,t){return e.parent==t.parent?1:2}function ya(e){var t=e.children;return t&&t.length?t[0]:e._tree.thread}function wa(e){var t,i=e.children;return i&&(t=i.length)?i[t-1]:e._tree.thread}function _a(e,t){var i=e.children;if(i&&(a=i.length))for(var n,a,r=-1;++r<a;)t(n=_a(i[r],t),e)>0&&(e=n);return e}function xa(e,t){return e.x-t.x}function ka(e,t){return t.x-e.x}function Ca(e,t){return e.depth-t.depth}function Sa(e,t){function i(e,n){var a=e.children;if(a&&(s=a.length))for(var r,s,o=null,l=-1;++l<s;)r=a[l],i(r,o),o=r;t(e,n)}i(e,null)}function ja(e){for(var t,i=0,n=0,a=e.children,r=a.length;--r>=0;)t=a[r]._tree,t.prelim+=i,t.mod+=i,i+=t.shift+(n+=t.change)}function Ea(e,t,i){e=e._tree,t=t._tree;var n=i/(t.number-e.number);e.change+=n,t.change-=n,t.shift+=i,t.prelim+=i,t.mod+=i}function Ma(e,t,i){return e._tree.ancestor.parent==t.parent?e._tree.ancestor:i}function Ta(e,t){return e.value-t.value}function Fa(e,t){var i=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=i,i._pack_prev=t}function Da(e,t){e._pack_next=t,t._pack_prev=e}function Aa(e,t){var i=t.x-e.x,n=t.y-e.y,a=e.r+t.r;return.999*a*a>i*i+n*n}function Pa(e){function t(e){u=Math.min(e.x-e.r,u),h=Math.max(e.x+e.r,h),f=Math.min(e.y-e.r,f),d=Math.max(e.y+e.r,d)}if((i=e.children)&&(c=i.length)){var i,n,a,r,s,o,l,c,u=1/0,h=-1/0,f=1/0,d=-1/0;if(i.forEach(Ba),n=i[0],n.x=-n.r,n.y=0,t(n),c>1&&(a=i[1],a.x=a.r,a.y=0,t(a),c>2))for(r=i[2],Ia(n,a,r),t(r),Fa(n,r),n._pack_prev=r,Fa(r,a),a=n._pack_next,s=3;c>s;s++){Ia(n,a,r=i[s]);var p=0,m=1,g=1;for(o=a._pack_next;o!==a;o=o._pack_next,m++)if(Aa(o,r)){p=1;break}if(1==p)for(l=n._pack_prev;l!==o._pack_prev&&!Aa(l,r);l=l._pack_prev,g++);p?(g>m||m==g&&a.r<n.r?Da(n,a=o):Da(n=l,a),s--):(Fa(n,r),a=r,t(r))}var b=(u+h)/2,v=(f+d)/2,y=0;for(s=0;c>s;s++)r=i[s],r.x-=b,r.y-=v,y=Math.max(y,r.r+Math.sqrt(r.x*r.x+r.y*r.y));e.r=y,i.forEach(Na)}}function Ba(e){e._pack_next=e._pack_prev=e}function Na(e){delete e._pack_next,delete e._pack_prev}function qa(e,t,i,n){var a=e.children;if(e.x=t+=n*e.x,e.y=i+=n*e.y,e.r*=n,a)for(var r=-1,s=a.length;++r<s;)qa(a[r],t,i,n)}function Ia(e,t,i){var n=e.r+i.r,a=t.x-e.x,r=t.y-e.y;if(n&&(a||r)){var s=t.r+i.r,o=a*a+r*r;s*=s,n*=n;var l=.5+(n-s)/(2*o),c=Math.sqrt(Math.max(0,2*s*(n+o)-(n-=o)*n-s*s))/(2*o);i.x=e.x+l*a+c*r,i.y=e.y+l*r-c*a}else i.x=e.x+n,i.y=e.y}function La(e){return 1+gs.max(e,function(e){return e.y})}function Qa(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function $a(e){var t=e.children;return t&&t.length?$a(t[0]):e}function Oa(e){var t,i=e.children;return i&&(t=i.length)?Oa(i[t-1]):e}function Ha(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Ra(e,t){var i=e.x+t[3],n=e.y+t[0],a=e.dx-t[1]-t[3],r=e.dy-t[0]-t[2];return 0>a&&(i+=a/2,a=0),0>r&&(n+=r/2,r=0),{x:i,y:n,dx:a,dy:r}}function za(e){var t=e[0],i=e[e.length-1];return i>t?[t,i]:[i,t]}function Ua(e){return e.rangeExtent?e.rangeExtent():za(e.range())}function Wa(e,t,i,n){var a=i(e[0],e[1]),r=n(t[0],t[1]);return function(e){return r(a(e))}}function Ka(e,t){var i,n=0,a=e.length-1,r=e[n],s=e[a];return r>s&&(i=n,n=a,a=i,i=r,r=s,s=i),e[n]=t.floor(r),e[a]=t.ceil(s),e}function Xa(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:kl}function Va(e,t,i,n){var a=[],r=[],s=0,o=Math.min(e.length,t.length)-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<=o;)a.push(i(e[s-1],e[s])),r.push(n(t[s-1],t[s]));return function(t){var i=gs.bisect(e,t,1,o)-1;return r[i](a[i](t))}}function Ya(e,t,i,n){function a(){var a=Math.min(e.length,t.length)>2?Va:Wa,l=n?Kn:Wn;return s=a(e,t,l,i),o=a(t,e,l,xn),r}function r(e){return s(e)}var s,o;return r.invert=function(e){return o(e)},r.domain=function(t){return arguments.length?(e=t.map(Number),a()):e},r.range=function(e){return arguments.length?(t=e,a()):t},r.rangeRound=function(e){return r.range(e).interpolate($n)},r.clamp=function(e){return arguments.length?(n=e,a()):n},r.interpolate=function(e){return arguments.length?(i=e,a()):i},r.ticks=function(t){return tr(e,t)},r.tickFormat=function(t,i){return ir(e,t,i)},r.nice=function(t){return Ja(e,t),a()},r.copy=function(){return Ya(e,t,i,n)},a()}function Za(e,t){return gs.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Ja(e,t){return Ka(e,Xa(t?er(e,t)[2]:Ga(e)))}function Ga(e){var t=za(e),i=t[1]-t[0];return Math.pow(10,Math.round(Math.log(i)/Math.LN10)-1)}function er(e,t){var i=za(e),n=i[1]-i[0],a=Math.pow(10,Math.floor(Math.log(n/t)/Math.LN10)),r=t/n*a;return.15>=r?a*=10:.35>=r?a*=5:.75>=r&&(a*=2),i[0]=Math.ceil(i[0]/a)*a,i[1]=Math.floor(i[1]/a)*a+.5*a,i[2]=a,i}function tr(e,t){return gs.range.apply(gs,er(e,t))}function ir(e,t,i){var n=-Math.floor(Math.log(er(e,t)[2])/Math.LN10+.01);return gs.format(i?i.replace(wo,function(e,t,i,a,r,s,o,l,c,u){return[t,i,a,r,s,o,l,c||"."+(n-2*("%"===u)),u].join("")}):",."+n+"f")}function nr(e,t,i,n){function a(e){return(i?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function r(e){return i?Math.pow(t,e):-Math.pow(t,-e)}function s(t){return e(a(t))}return s.invert=function(t){return r(e.invert(t))},s.domain=function(t){return arguments.length?(i=t[0]>=0,e.domain((n=t.map(Number)).map(a)),s):n},s.base=function(i){return arguments.length?(t=+i,e.domain(n.map(a)),s):t},s.nice=function(){var t=Ka(n.map(a),i?Math:Sl);return e.domain(t),n=t.map(r),s},s.ticks=function(){var e=za(n),s=[];if(e.every(isFinite)){var o=e[0],l=e[1],c=Math.floor(a(o)),u=Math.ceil(a(l)),h=t%1?2:t;if(i){for(;u>c;c++)for(var f=1;h>f;f++)s.push(r(c)*f);s.push(r(c))}else for(s.push(r(c));c++<u;)for(var f=h-1;f>0;f--)s.push(r(c)*f);for(c=0;s[c]<o;c++);for(u=s.length;s[u-1]>l;u--);s=s.slice(c,u)}return s},s.tickFormat=function(e,t){if(!arguments.length)return Cl;arguments.length<2?t=Cl:"function"!=typeof t&&(t=gs.format(t));var n,o=Math.max(.1,e/s.ticks().length),l=i?(n=1e-12,Math.ceil):(n=-1e-12,Math.floor);return function(e){return e/r(l(a(e)+n))<=o?t(e):""}},s.copy=function(){return nr(e.copy(),t,i,n)},Za(s,e)}function ar(e,t,i){function n(t){return e(a(t))}var a=rr(t),r=rr(1/t);return n.invert=function(t){return r(e.invert(t))},n.domain=function(t){return arguments.length?(e.domain((i=t.map(Number)).map(a)),n):i},n.ticks=function(e){return tr(i,e)},n.tickFormat=function(e,t){return ir(i,e,t)},n.nice=function(e){return n.domain(Ja(i,e))},n.exponent=function(s){return arguments.length?(a=rr(t=s),r=rr(1/t),e.domain(i.map(a)),n):t},n.copy=function(){return ar(e.copy(),t,i)},Za(n,e)}function rr(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function sr(e,t){function i(t){return s[((r.get(t)||r.set(t,e.push(t)))-1)%s.length]}function n(t,i){return gs.range(e.length).map(function(e){return t+i*e})}var r,s,o;return i.domain=function(n){if(!arguments.length)return e;e=[],r=new a;for(var s,o=-1,l=n.length;++o<l;)r.has(s=n[o])||r.set(s,e.push(s));return i[t.t].apply(i,t.a)},i.range=function(e){return arguments.length?(s=e,o=0,t={t:"range",a:arguments},i):s},i.rangePoints=function(a,r){arguments.length<2&&(r=0);var l=a[0],c=a[1],u=(c-l)/(Math.max(1,e.length-1)+r);return s=n(e.length<2?(l+c)/2:l+u*r/2,u),o=0,t={t:"rangePoints",a:arguments},i},i.rangeBands=function(a,r,l){arguments.length<2&&(r=0),arguments.length<3&&(l=r);var c=a[1]<a[0],u=a[c-0],h=a[1-c],f=(h-u)/(e.length-r+2*l);return s=n(u+f*l,f),c&&s.reverse(),o=f*(1-r),t={t:"rangeBands",a:arguments},i},i.rangeRoundBands=function(a,r,l){arguments.length<2&&(r=0),arguments.length<3&&(l=r);var c=a[1]<a[0],u=a[c-0],h=a[1-c],f=Math.floor((h-u)/(e.length-r+2*l)),d=h-u-(e.length-r)*f;return s=n(u+Math.round(d/2),f),c&&s.reverse(),o=Math.round(f*(1-r)),t={t:"rangeRoundBands",a:arguments},i},i.rangeBand=function(){return o},i.rangeExtent=function(){return za(t.a[0])},i.copy=function(){return sr(e,t)},i.domain(e)}function or(e,t){function i(){var i=0,r=t.length;for(a=[];++i<r;)a[i-1]=gs.quantile(e,i/r);return n}function n(e){return isNaN(e=+e)?void 0:t[gs.bisect(a,e)]}var a;return n.domain=function(t){return arguments.length?(e=t.filter(function(e){return!isNaN(e)}).sort(gs.ascending),i()):e},n.range=function(e){return arguments.length?(t=e,i()):t},n.quantiles=function(){return a},n.invertExtent=function(i){return i=t.indexOf(i),0>i?[0/0,0/0]:[i>0?a[i-1]:e[0],i<a.length?a[i]:e[e.length-1]]},n.copy=function(){return or(e,t)},i()}function lr(e,t,i){function n(t){return i[Math.max(0,Math.min(s,Math.floor(r*(t-e))))]}function a(){return r=i.length/(t-e),s=i.length-1,n}var r,s;return n.domain=function(i){return arguments.length?(e=+i[0],t=+i[i.length-1],a()):[e,t]},n.range=function(e){return arguments.length?(i=e,a()):i},n.invertExtent=function(t){return t=i.indexOf(t),t=0>t?0/0:t/r+e,[t,t+1/r]},n.copy=function(){return lr(e,t,i)},a()}function cr(e,t){function i(i){return i>=i?t[gs.bisect(e,i)]:void 0}return i.domain=function(t){return arguments.length?(e=t,i):e},i.range=function(e){return arguments.length?(t=e,i):t},i.invertExtent=function(i){return i=t.indexOf(i),[e[i-1],e[i]]},i.copy=function(){return cr(e,t)},i}function ur(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(i){return arguments.length?(e=i.map(t),t):e},t.ticks=function(t){return tr(e,t)},t.tickFormat=function(t,i){return ir(e,t,i)},t.copy=function(){return ur(e)},t}function hr(e){return e.innerRadius}function fr(e){return e.outerRadius}function dr(e){return e.startAngle}function pr(e){return e.endAngle}function mr(e){for(var t,i,n,a=-1,r=e.length;++a<r;)t=e[a],i=t[0],n=t[1]+Fl,t[0]=i*Math.cos(n),t[1]=i*Math.sin(n);return e}function gr(e){function t(t){function l(){m.push("M",o(e(b),h),u,c(e(g.reverse()),h),"Z")}for(var f,d,p,m=[],g=[],b=[],v=-1,y=t.length,w=ft(i),_=ft(a),x=i===n?function(){return d}:ft(n),k=a===r?function(){return p}:ft(r);++v<y;)s.call(this,f=t[v],v)?(g.push([d=+w.call(this,f,v),p=+_.call(this,f,v)]),b.push([+x.call(this,f,v),+k.call(this,f,v)])):g.length&&(l(),g=[],b=[]);return g.length&&l(),m.length?m.join(""):null}var i=$i,n=$i,a=0,r=Oi,s=Ht,o=Hi,l=o.key,c=o,u="L",h=.7;return t.x=function(e){return arguments.length?(i=n=e,t):n},t.x0=function(e){return arguments.length?(i=e,t):i},t.x1=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(a=r=e,t):r},t.y0=function(e){return arguments.length?(a=e,t):a},t.y1=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(s=e,t):s},t.interpolate=function(e){return arguments.length?(l="function"==typeof e?o=e:(o=ol.get(e)||Hi).key,c=o.reverse||o,u=o.closed?"M":"L",t):l},t.tension=function(e){return arguments.length?(h=e,t):h},t}function br(e){return e.radius}function vr(e){return[e.x,e.y]}function yr(e){return function(){var t=e.apply(this,arguments),i=t[0],n=t[1]+Fl;return[i*Math.cos(n),i*Math.sin(n)]}}function wr(){return 64}function _r(){return"circle"}function xr(e){var t=Math.sqrt(e/Ys);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function kr(e,t){return Ps(e,Il),e.id=t,e}function Cr(e,t,i,n){var a=e.id;return F(e,"function"==typeof i?function(e,r,s){e.__transition__[a].tween.set(t,n(i.call(e,e.__data__,r,s)))}:(i=n(i),function(e){e.__transition__[a].tween.set(t,i)}))}function Sr(e){return null==e&&(e=""),function(){this.textContent=e}}function jr(e,t,i,n){var r=e.__transition__||(e.__transition__={active:0,count:0}),s=r[i];if(!s){var o=n.time;return s=r[i]={tween:new a,time:o,ease:n.ease,delay:n.delay,duration:n.duration},++r.count,gs.timer(function(n){function a(n){return r.active>i?c():(r.active=i,s.event&&s.event.start.call(e,u,t),s.tween.forEach(function(i,n){(n=n.call(e,u,t))&&p.push(n)}),l(n)||gs.timer(l,0,o),1)}function l(n){if(r.active!==i)return c();for(var a=(n-f)/d,o=h(a),l=p.length;l>0;)p[--l].call(e,o);return a>=1?(c(),s.event&&s.event.end.call(e,u,t),1):void 0}function c(){return--r.count?delete r[i]:delete e.__transition__,1}var u=e.__data__,h=s.ease,f=s.delay,d=s.duration,p=[];return n>=f?a(n):gs.timer(a,f,o),1},0,o),s}}function Er(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function Mr(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function Tr(e,t,i){if(n=[],i&&t.length>1){for(var n,a,r,s=za(e.domain()),o=-1,l=t.length,c=(t[1]-t[0])/++i;++o<l;)for(a=i;--a>0;)(r=+t[o]-a*c)>=s[0]&&n.push(r);for(--o,a=0;++a<i&&(r=+t[o]+a*c)<s[1];)n.push(r)}return n}function Fr(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Dr(e,t,i){function n(t){var i=e(t),n=r(i,1);return n-t>t-i?i:n}function a(i){return t(i=e(new Rl(i-1)),1),i}function r(e,i){return t(e=new Rl(+e),i),e}function s(e,n,r){var s=a(e),o=[];if(r>1)for(;n>s;)i(s)%r||o.push(new Date(+s)),t(s,1);else for(;n>s;)o.push(new Date(+s)),t(s,1);return o}function o(e,t,i){try{Rl=Fr;var n=new Fr;return n._=e,s(n,t,i)}finally{Rl=Date}}e.floor=e,e.round=n,e.ceil=a,e.offset=r,e.range=s;var l=e.utc=Ar(e);return l.floor=l,l.round=Ar(n),l.ceil=Ar(a),l.offset=Ar(r),l.range=o,e}function Ar(e){return function(t,i){try{Rl=Fr;var n=new Fr;return n._=t,e(n,i)._}finally{Rl=Date}}}function Pr(e,t,i,n){for(var a,r,s=0,o=t.length,l=i.length;o>s;){if(n>=l)return-1;if(a=t.charCodeAt(s++),37===a){if(r=uc[t.charAt(s++)],!r||(n=r(e,i,n))<0)return-1}else if(a!=i.charCodeAt(n++))return-1}return n}function Br(e){return new RegExp("^(?:"+e.map(gs.requote).join("|")+")","i")}function Nr(e){for(var t=new a,i=-1,n=e.length;++i<n;)t.set(e[i].toLowerCase(),i);return t}function qr(e,t,i){var n=0>e?"-":"",a=(n?-e:e)+"",r=a.length;return n+(i>r?new Array(i-r+1).join(t)+a:a)}function Ir(e,t,i){tc.lastIndex=0;var n=tc.exec(t.substring(i));return n?(e.w=ic.get(n[0].toLowerCase()),i+n[0].length):-1}function Lr(e,t,i){Gl.lastIndex=0;var n=Gl.exec(t.substring(i));return n?(e.w=ec.get(n[0].toLowerCase()),i+n[0].length):-1}function Qr(e,t,i){hc.lastIndex=0;var n=hc.exec(t.substring(i,i+1));return n?(e.w=+n[0],i+n[0].length):-1}function $r(e,t,i){hc.lastIndex=0;var n=hc.exec(t.substring(i));return n?(e.U=+n[0],i+n[0].length):-1}function Or(e,t,i){hc.lastIndex=0;var n=hc.exec(t.substring(i));return n?(e.W=+n[0],i+n[0].length):-1}function Hr(e,t,i){rc.lastIndex=0;var n=rc.exec(t.substring(i));return n?(e.m=sc.get(n[0].toLowerCase()),i+n[0].length):-1}function Rr(e,t,i){nc.lastIndex=0;var n=nc.exec(t.substring(i));return n?(e.m=ac.get(n[0].toLowerCase()),i+n[0].length):-1}function zr(e,t,i){return Pr(e,cc.c.toString(),t,i)}function Ur(e,t,i){return Pr(e,cc.x.toString(),t,i)}function Wr(e,t,i){return Pr(e,cc.X.toString(),t,i)}function Kr(e,t,i){hc.lastIndex=0;var n=hc.exec(t.substring(i,i+4));return n?(e.y=+n[0],i+n[0].length):-1}function Xr(e,t,i){hc.lastIndex=0;var n=hc.exec(t.substring(i,i+2));return n?(e.y=Vr(+n[0]),i+n[0].length):-1}function Vr(e){return e+(e>68?1900:2e3)}function Yr(e,t,i){hc.lastIndex=0;var n=hc.exec(t.substring(i,i+2));return n?(e.m=n[0]-1,i+n[0].length):-1}function Zr(e,t,i){hc.lastIndex=0;var n=hc.exec(t.substring(i,i+2));return n?(e.d=+n[0],i+n[0].length):-1}function Jr(e,t,i){hc.lastIndex=0;var n=hc.exec(t.substring(i,i+3));return n?(e.j=+n[0],i+n[0].length):-1}function Gr(e,t,i){hc.lastIndex=0;var n=hc.exec(t.substring(i,i+2));return n?(e.H=+n[0],i+n[0].length):-1}function es(e,t,i){hc.lastIndex=0;var n=hc.exec(t.substring(i,i+2));return n?(e.M=+n[0],i+n[0].length):-1}function ts(e,t,i){hc.lastIndex=0;var n=hc.exec(t.substring(i,i+2));return n?(e.S=+n[0],i+n[0].length):-1}function is(e,t,i){hc.lastIndex=0;var n=hc.exec(t.substring(i,i+3));return n?(e.L=+n[0],i+n[0].length):-1}function ns(e,t,i){var n=fc.get(t.substring(i,i+=2).toLowerCase());return null==n?-1:(e.p=n,i)}function as(e){var t=e.getTimezoneOffset(),i=t>0?"-":"+",n=~~(Math.abs(t)/60),a=Math.abs(t)%60;return i+qr(n,"0",2)+qr(a,"0",2)}function rs(e,t,i){oc.lastIndex=0;var n=oc.exec(t.substring(i,i+1));return n?i+n[0].length:-1}function ss(e){return e.toISOString()}function os(e,t,i){function n(t){return e(t)}return n.invert=function(t){return ls(e.invert(t))},n.domain=function(t){return arguments.length?(e.domain(t),n):e.domain().map(ls)},n.nice=function(e){return n.domain(Ka(n.domain(),e))},n.ticks=function(i,a){var r=za(n.domain());if("function"!=typeof i){var s=r[1]-r[0],o=s/i,l=gs.bisect(pc,o);if(l==pc.length)return t.year(r,i);if(!l)return e.ticks(i).map(ls);Math.log(o/pc[l-1])<Math.log(pc[l]/o)&&--l,i=t[l],a=i[1],i=i[0].range}return i(r[0],new Date(+r[1]+1),a)},n.tickFormat=function(){return i},n.copy=function(){return os(e.copy(),t,i)},Za(n,e)}function ls(e){return new Date(e)}function cs(e){return function(t){for(var i=e.length-1,n=e[i];!n[1](t);)n=e[--i];return n[0](t)}}function us(e){var t=new Date(e,0,1);return t.setFullYear(e),t}function hs(e){var t=e.getFullYear(),i=us(t),n=us(t+1);return t+(e-i)/(n-i)}function fs(e){var t=new Date(Date.UTC(e,0,1));return t.setUTCFullYear(e),t}function ds(e){var t=e.getUTCFullYear(),i=fs(t),n=fs(t+1);return t+(e-i)/(n-i)}function ps(e){return JSON.parse(e.responseText)}function ms(e){var t=bs.createRange();return t.selectNode(bs.body),t.createContextualFragment(e.responseText)}var gs={version:"3.2.6"};Date.now||(Date.now=function(){return+new Date});var bs=document,vs=bs.documentElement,ys=window;try{bs.createElement("div").style.setProperty("opacity",0,"")}catch(ws){var _s=ys.Element.prototype,xs=_s.setAttribute,ks=_s.setAttributeNS,Cs=ys.CSSStyleDeclaration.prototype,Ss=Cs.setProperty;_s.setAttribute=function(e,t){xs.call(this,e,t+"")},_s.setAttributeNS=function(e,t,i){ks.call(this,e,t,i+"")},Cs.setProperty=function(e,t,i){Ss.call(this,e,t+"",i)}}gs.ascending=function(e,t){return t>e?-1:e>t?1:e>=t?0:0/0},gs.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:0/0},gs.min=function(e,t){var i,n,a=-1,r=e.length;if(1===arguments.length){for(;++a<r&&!(null!=(i=e[a])&&i>=i);)i=void 0;for(;++a<r;)null!=(n=e[a])&&i>n&&(i=n)}else{for(;++a<r&&!(null!=(i=t.call(e,e[a],a))&&i>=i);)i=void 0;for(;++a<r;)null!=(n=t.call(e,e[a],a))&&i>n&&(i=n)}return i},gs.max=function(e,t){var i,n,a=-1,r=e.length;if(1===arguments.length){for(;++a<r&&!(null!=(i=e[a])&&i>=i);)i=void 0;for(;++a<r;)null!=(n=e[a])&&n>i&&(i=n)}else{for(;++a<r&&!(null!=(i=t.call(e,e[a],a))&&i>=i);)i=void 0;for(;++a<r;)null!=(n=t.call(e,e[a],a))&&n>i&&(i=n)}return i},gs.extent=function(e,t){var i,n,a,r=-1,s=e.length;if(1===arguments.length){for(;++r<s&&!(null!=(i=a=e[r])&&i>=i);)i=a=void 0;for(;++r<s;)null!=(n=e[r])&&(i>n&&(i=n),n>a&&(a=n))}else{for(;++r<s&&!(null!=(i=a=t.call(e,e[r],r))&&i>=i);)i=void 0;for(;++r<s;)null!=(n=t.call(e,e[r],r))&&(i>n&&(i=n),n>a&&(a=n))}return[i,a]},gs.sum=function(e,t){var i,n=0,a=e.length,r=-1;if(1===arguments.length)for(;++r<a;)isNaN(i=+e[r])||(n+=i);else for(;++r<a;)isNaN(i=+t.call(e,e[r],r))||(n+=i);return n},gs.mean=function(t,i){var n,a=t.length,r=0,s=-1,o=0;if(1===arguments.length)for(;++s<a;)e(n=t[s])&&(r+=(n-r)/++o);else for(;++s<a;)e(n=i.call(t,t[s],s))&&(r+=(n-r)/++o);return o?r:void 0},gs.quantile=function(e,t){var i=(e.length-1)*t+1,n=Math.floor(i),a=+e[n-1],r=i-n;return r?a+r*(e[n]-a):a},gs.median=function(t,i){return arguments.length>1&&(t=t.map(i)),t=t.filter(e),t.length?gs.quantile(t.sort(gs.ascending),.5):void 0},gs.bisector=function(e){return{left:function(t,i,n,a){for(arguments.length<3&&(n=0),arguments.length<4&&(a=t.length);a>n;){var r=n+a>>>1;e.call(t,t[r],r)<i?n=r+1:a=r}return n},right:function(t,i,n,a){for(arguments.length<3&&(n=0),arguments.length<4&&(a=t.length);a>n;){var r=n+a>>>1;i<e.call(t,t[r],r)?a=r:n=r+1}return n}}};var js=gs.bisector(function(e){return e});gs.bisectLeft=js.left,gs.bisect=gs.bisectRight=js.right,gs.shuffle=function(e){for(var t,i,n=e.length;n;)i=0|Math.random()*n--,t=e[n],e[n]=e[i],e[i]=t;return e},gs.permute=function(e,t){for(var i=[],n=-1,a=t.length;++n<a;)i[n]=e[t[n]];return i},gs.zip=function(){if(!(a=arguments.length))return[];for(var e=-1,i=gs.min(arguments,t),n=new Array(i);++e<i;)for(var a,r=-1,s=n[e]=new Array(a);++r<a;)s[r]=arguments[r][e];return n},gs.transpose=function(e){return gs.zip.apply(gs,e)},gs.keys=function(e){var t=[];for(var i in e)t.push(i);return t},gs.values=function(e){var t=[];for(var i in e)t.push(e[i]);return t},gs.entries=function(e){var t=[];for(var i in e)t.push({key:i,value:e[i]});return t},gs.merge=function(e){return Array.prototype.concat.apply([],e)},gs.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),1/0===(t-e)/n)throw new Error("infinite range");var a,r=[],s=i(Math.abs(n)),o=-1;if(e*=s,t*=s,n*=s,0>n)for(;(a=e+n*++o)>t;)r.push(a/s);else for(;(a=e+n*++o)<t;)r.push(a/s);return r},gs.map=function(e){var t=new a;for(var i in e)t.set(i,e[i]);return t},n(a,{has:function(e){return Es+e in this},get:function(e){return this[Es+e]},set:function(e,t){return this[Es+e]=t},remove:function(e){return e=Es+e,e in this&&delete this[e]},keys:function(){var e=[];return this.forEach(function(t){e.push(t)}),e},values:function(){var e=[];return this.forEach(function(t,i){e.push(i)}),e},entries:function(){var e=[];return this.forEach(function(t,i){e.push({key:t,value:i})}),e},forEach:function(e){for(var t in this)t.charCodeAt(0)===Ms&&e.call(this,t.substring(1),this[t])}});var Es="\x00",Ms=Es.charCodeAt(0);gs.nest=function(){function e(t,o,l){if(l>=s.length)return n?n.call(r,o):i?o.sort(i):o;for(var c,u,h,f,d=-1,p=o.length,m=s[l++],g=new a;++d<p;)(f=g.get(c=m(u=o[d])))?f.push(u):g.set(c,[u]);return t?(u=t(),h=function(i,n){u.set(i,e(t,n,l))}):(u={},h=function(i,n){u[i]=e(t,n,l)}),g.forEach(h),u}function t(e,i){if(i>=s.length)return e;var n=[],a=o[i++];return e.forEach(function(e,a){n.push({key:e,values:t(a,i)})}),a?n.sort(function(e,t){return a(e.key,t.key)}):n}var i,n,r={},s=[],o=[];return r.map=function(t,i){return e(i,t,0)},r.entries=function(i){return t(e(gs.map,i,0),0)},r.key=function(e){return s.push(e),r},r.sortKeys=function(e){return o[s.length-1]=e,r},r.sortValues=function(e){return i=e,r},r.rollup=function(e){return n=e,r},r},gs.set=function(e){var t=new r;if(e)for(var i=0;i<e.length;i++)t.add(e[i]);return t},n(r,{has:function(e){return Es+e in this},add:function(e){return this[Es+e]=!0,e},remove:function(e){return e=Es+e,e in this&&delete this[e]},values:function(){var e=[];return this.forEach(function(t){e.push(t)}),e},forEach:function(e){for(var t in this)t.charCodeAt(0)===Ms&&e.call(this,t.substring(1))}}),gs.behavior={},gs.rebind=function(e,t){for(var i,n=1,a=arguments.length;++n<a;)e[i=arguments[n]]=s(e,t,t[i]);return e};var Ts=["webkit","ms","moz","Moz","o","O"],Fs=c;try{Fs(vs.childNodes)[0].nodeType}catch(Ds){Fs=l}gs.dispatch=function(){for(var e=new h,t=-1,i=arguments.length;++t<i;)e[arguments[t]]=f(e);return e},h.prototype.on=function(e,t){var i=e.indexOf("."),n="";if(i>=0&&(n=e.substring(i+1),e=e.substring(0,i)),e)return arguments.length<2?this[e].on(n):this[e].on(n,t);
if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(n,null);return this}},gs.event=null,gs.requote=function(e){return e.replace(As,"\\$&")};var As=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Ps={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)e[i]=t[i]},Bs=function(e,t){return t.querySelector(e)},Ns=function(e,t){return t.querySelectorAll(e)},qs=vs[o(vs,"matchesSelector")],Is=function(e,t){return qs.call(e,t)};"function"==typeof Sizzle&&(Bs=function(e,t){return Sizzle(e,t)[0]||null},Ns=function(e,t){return Sizzle.uniqueSort(Sizzle(e,t))},Is=Sizzle.matchesSelector),gs.selection=function(){return Os};var Ls=gs.selection.prototype=[];Ls.select=function(e){var t,i,n,a,r=[];e=b(e);for(var s=-1,o=this.length;++s<o;){r.push(t=[]),t.parentNode=(n=this[s]).parentNode;for(var l=-1,c=n.length;++l<c;)(a=n[l])?(t.push(i=e.call(a,a.__data__,l,s)),i&&"__data__"in a&&(i.__data__=a.__data__)):t.push(null)}return g(r)},Ls.selectAll=function(e){var t,i,n=[];e=v(e);for(var a=-1,r=this.length;++a<r;)for(var s=this[a],o=-1,l=s.length;++o<l;)(i=s[o])&&(n.push(t=Fs(e.call(i,i.__data__,o,a))),t.parentNode=i);return g(n)};var Qs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};gs.ns={prefix:Qs,qualify:function(e){var t=e.indexOf(":"),i=e;return t>=0&&(i=e.substring(0,t),e=e.substring(t+1)),Qs.hasOwnProperty(i)?{space:Qs[i],local:e}:e}},Ls.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var i=this.node();return e=gs.ns.qualify(e),e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}for(t in e)this.each(y(t,e[t]));return this}return this.each(y(e,t))},Ls.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var i=this.node(),n=(e=e.trim().split(/^|\s+/g)).length,a=-1;if(t=i.classList){for(;++a<n;)if(!t.contains(e[a]))return!1}else for(t=i.getAttribute("class");++a<n;)if(!_(e[a]).test(t))return!1;return!0}for(t in e)this.each(x(t,e[t]));return this}return this.each(x(e,t))},Ls.style=function(e,t,i){var n=arguments.length;if(3>n){if("string"!=typeof e){2>n&&(t="");for(i in e)this.each(C(i,e[i],t));return this}if(2>n)return ys.getComputedStyle(this.node(),null).getPropertyValue(e);i=""}return this.each(C(e,t,i))},Ls.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(S(t,e[t]));return this}return this.each(S(e,t))},Ls.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Ls.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Ls.append=function(e){return e=j(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},Ls.insert=function(e,t){return e=j(e),t=b(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments))})},Ls.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},Ls.data=function(e,t){function i(e,i){var n,r,s,o=e.length,h=i.length,f=Math.min(o,h),d=new Array(h),p=new Array(h),m=new Array(o);if(t){var g,b=new a,v=new a,y=[];for(n=-1;++n<o;)g=t.call(r=e[n],r.__data__,n),b.has(g)?m[n]=r:b.set(g,r),y.push(g);for(n=-1;++n<h;)g=t.call(i,s=i[n],n),(r=b.get(g))?(d[n]=r,r.__data__=s):v.has(g)||(p[n]=E(s)),v.set(g,s),b.remove(g);for(n=-1;++n<o;)b.has(y[n])&&(m[n]=e[n])}else{for(n=-1;++n<f;)r=e[n],s=i[n],r?(r.__data__=s,d[n]=r):p[n]=E(s);for(;h>n;++n)p[n]=E(i[n]);for(;o>n;++n)m[n]=e[n]}p.update=d,p.parentNode=d.parentNode=m.parentNode=e.parentNode,l.push(p),c.push(d),u.push(m)}var n,r,s=-1,o=this.length;if(!arguments.length){for(e=new Array(o=(n=this[0]).length);++s<o;)(r=n[s])&&(e[s]=r.__data__);return e}var l=D([]),c=g([]),u=g([]);if("function"==typeof e)for(;++s<o;)i(n=this[s],e.call(n,n.parentNode.__data__,s));else for(;++s<o;)i(n=this[s],e);return c.enter=function(){return l},c.exit=function(){return u},c},Ls.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},Ls.filter=function(e){var t,i,n,a=[];"function"!=typeof e&&(e=M(e));for(var r=0,s=this.length;s>r;r++){a.push(t=[]),t.parentNode=(i=this[r]).parentNode;for(var o=0,l=i.length;l>o;o++)(n=i[o])&&e.call(n,n.__data__,o)&&t.push(n)}return g(a)},Ls.order=function(){for(var e=-1,t=this.length;++e<t;)for(var i,n=this[e],a=n.length-1,r=n[a];--a>=0;)(i=n[a])&&(r&&r!==i.nextSibling&&r.parentNode.insertBefore(i,r),r=i);return this},Ls.sort=function(e){e=T.apply(this,arguments);for(var t=-1,i=this.length;++t<i;)this[t].sort(e);return this.order()},Ls.each=function(e){return F(this,function(t,i,n){e.call(t,t.__data__,i,n)})},Ls.call=function(e){var t=Fs(arguments);return e.apply(t[0]=this,t),this},Ls.empty=function(){return!this.node()},Ls.node=function(){for(var e=0,t=this.length;t>e;e++)for(var i=this[e],n=0,a=i.length;a>n;n++){var r=i[n];if(r)return r}return null},Ls.size=function(){var e=0;return this.each(function(){++e}),e};var $s=[];gs.selection.enter=D,gs.selection.enter.prototype=$s,$s.append=Ls.append,$s.empty=Ls.empty,$s.node=Ls.node,$s.call=Ls.call,$s.size=Ls.size,$s.select=function(e){for(var t,i,n,a,r,s=[],o=-1,l=this.length;++o<l;){n=(a=this[o]).update,s.push(t=[]),t.parentNode=a.parentNode;for(var c=-1,u=a.length;++c<u;)(r=a[c])?(t.push(n[c]=i=e.call(a.parentNode,r.__data__,c,o)),i.__data__=r.__data__):t.push(null)}return g(s)},$s.insert=function(e,t){return arguments.length<2&&(t=A(this)),Ls.insert.call(this,e,t)},Ls.transition=function(){for(var e,t,i=Pl||++Ll,n=[],a=Bl||{time:Date.now(),ease:Tn,delay:0,duration:250},r=-1,s=this.length;++r<s;){n.push(e=[]);for(var o=this[r],l=-1,c=o.length;++l<c;)(t=o[l])&&jr(t,l,i,a),e.push(t)}return kr(n,i)},gs.select=function(e){var t=["string"==typeof e?Bs(e,bs):e];return t.parentNode=vs,g([t])},gs.selectAll=function(e){var t=Fs("string"==typeof e?Ns(e,bs):e);return t.parentNode=vs,g([t])};var Os=gs.select(vs);Ls.on=function(e,t,i){var n=arguments.length;if(3>n){if("string"!=typeof e){2>n&&(t=!1);for(i in e)this.each(P(i,e[i],t));return this}if(2>n)return(n=this.node()["__on"+e])&&n._;i=!1}return this.each(P(e,t,i))};var Hs=gs.map({mouseenter:"mouseover",mouseleave:"mouseout"});Hs.forEach(function(e){"on"+e in bs&&Hs.remove(e)});var Rs=o(vs.style,"userSelect"),zs=0;gs.mouse=function(e){return I(e,p())};var Us=/WebKit/.test(ys.navigator.userAgent)?-1:0;gs.touches=function(e,t){return arguments.length<2&&(t=p().touches),t?Fs(t).map(function(t){var i=I(e,t);return i.identifier=t.identifier,i}):[]},gs.behavior.drag=function(){function e(){this.on("mousedown.drag",s).on("touchstart.drag",o)}function t(){return gs.event.changedTouches[0].identifier}function i(e,t){return gs.touches(e).filter(function(e){return e.identifier===t})[0]}function n(e,t,i,n){return function(){function s(){if(!u)return o();var e=t(u,d),i=e[0]-m[0],n=e[1]-m[1];g|=i|n,m=e,h({type:"drag",x:e[0]+l[0],y:e[1]+l[1],dx:i,dy:n})}function o(){b.on(i+"."+p,null).on(n+"."+p,null),v(g&&gs.event.target===f),h({type:"dragend"})}var l,c=this,u=c.parentNode,h=a.of(c,arguments),f=gs.event.target,d=e(),p=null==d?"drag":"drag-"+d,m=t(u,d),g=0,b=gs.select(ys).on(i+"."+p,s).on(n+"."+p,o),v=q();r?(l=r.apply(c,arguments),l=[l.x-m[0],l.y-m[1]]):l=[0,0],h({type:"dragstart"})}}var a=m(e,"drag","dragstart","dragend"),r=null,s=n(u,gs.mouse,"mousemove","mouseup"),o=n(t,i,"touchmove","touchend");return e.origin=function(t){return arguments.length?(r=t,e):r},gs.rebind(e,a,"on")},gs.behavior.zoom=function(){function e(){this.on(S,o).on(Xs+".zoom",c).on(j,u).on("dblclick.zoom",h).on("touchstart.zoom",l)}function t(e){return[(e[0]-x[0])/k,(e[1]-x[1])/k]}function i(e){return[e[0]*k+x[0],e[1]*k+x[1]]}function n(e){k=Math.max(C[0],Math.min(C[1],e))}function a(e,t){t=i(t),x[0]+=e[0]-t[0],x[1]+=e[1]-t[1]}function r(){v&&v.domain(b.range().map(function(e){return(e-x[0])/k}).map(b.invert)),w&&w.domain(y.range().map(function(e){return(e-x[1])/k}).map(y.invert))}function s(e){r(),e({type:"zoom",scale:k,translate:x})}function o(){function e(){l=1,a(gs.mouse(n),h),s(r)}function i(){c.on(j,ys===n?u:null).on(E,null),f(l&&gs.event.target===o)}var n=this,r=M.of(n,arguments),o=gs.event.target,l=0,c=gs.select(ys).on(j,e).on(E,i),h=t(gs.mouse(n)),f=q()}function l(){function e(){var e=gs.touches(r),t=e[0],i=f[t.identifier];if(l=e[1]){var l,c=f[l.identifier],u=gs.event.scale;if(null==u){var h=(h=l[0]-t[0])*h+(h=l[1]-t[1])*h;u=p&&Math.sqrt(h/p)}t=[(t[0]+l[0])/2,(t[1]+l[1])/2],i=[(i[0]+c[0])/2,(i[1]+c[1])/2],n(u*g)}_=null,a(t,i),s(o)}function i(){b.on(h,null).on(m,null),v()}var r=this,o=M.of(r,arguments),l=gs.touches(r),c=Date.now(),u="zoom-"+gs.event.changedTouches[0].identifier,h="touchmove."+u,m="touchend."+u,b=gs.select(ys).on(h,e).on(m,i).on(S,null).on(j,null),v=q();if(g=k,f={},p=0,l.forEach(function(e){f[e.identifier]=t(e)}),1===l.length){if(500>c-_){var y=l[0],w=t(l[0]);n(2*k),a(y,w),d(),s(o)}_=c}else if(l.length>1){var y=l[0],x=l[1],C=y[0]-x[0],E=y[1]-x[1];p=C*C+E*E}}function c(){d(),f||(f=t(gs.mouse(this))),n(Math.pow(2,.002*Ws())*k),a(gs.mouse(this),f),s(M.of(this,arguments))}function u(){f=null}function h(){var e=gs.mouse(this),i=t(e),r=Math.log(k)/Math.LN2;n(Math.pow(2,gs.event.shiftKey?Math.ceil(r)-1:Math.floor(r)+1)),a(e,i),s(M.of(this,arguments))}var f,p,g,b,v,y,w,_,x=[0,0],k=1,C=Ks,S="mousedown.zoom",j="mousemove.zoom",E="mouseup.zoom",M=m(e,"zoom");return e.translate=function(t){return arguments.length?(x=t.map(Number),r(),e):x},e.scale=function(t){return arguments.length?(k=+t,r(),e):k},e.scaleExtent=function(t){return arguments.length?(C=null==t?Ks:t.map(Number),e):C},e.x=function(t){return arguments.length?(v=t,b=t.copy(),x=[0,0],k=1,e):v},e.y=function(t){return arguments.length?(w=t,y=t.copy(),x=[0,0],k=1,e):w},gs.rebind(e,M,"on")};var Ws,Ks=[0,1/0],Xs="onwheel"in bs?(Ws=function(){return-gs.event.deltaY*(gs.event.deltaMode?120:1)},"wheel"):"onmousewheel"in bs?(Ws=function(){return gs.event.wheelDelta},"mousewheel"):(Ws=function(){return-gs.event.detail},"MozMousePixelScroll");L.prototype.toString=function(){return this.rgb()+""},gs.hsl=function(e,t,i){return 1===arguments.length?e instanceof $?Q(e.h,e.s,e.l):ot(""+e,lt,Q):Q(+e,+t,+i)};var Vs=$.prototype=new L;Vs.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),Q(this.h,this.s,this.l/e)},Vs.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),Q(this.h,this.s,e*this.l)},Vs.rgb=function(){return O(this.h,this.s,this.l)};var Ys=Math.PI,Zs=1e-6,Js=Zs*Zs,Gs=Ys/180,eo=180/Ys;gs.hcl=function(e,t,i){return 1===arguments.length?e instanceof V?X(e.h,e.c,e.l):e instanceof J?et(e.l,e.a,e.b):et((e=ct((e=gs.rgb(e)).r,e.g,e.b)).l,e.a,e.b):X(+e,+t,+i)};var to=V.prototype=new L;to.brighter=function(e){return X(this.h,this.c,Math.min(100,this.l+io*(arguments.length?e:1)))},to.darker=function(e){return X(this.h,this.c,Math.max(0,this.l-io*(arguments.length?e:1)))},to.rgb=function(){return Y(this.h,this.c,this.l).rgb()},gs.lab=function(e,t,i){return 1===arguments.length?e instanceof J?Z(e.l,e.a,e.b):e instanceof V?Y(e.l,e.c,e.h):ct((e=gs.rgb(e)).r,e.g,e.b):Z(+e,+t,+i)};var io=18,no=.95047,ao=1,ro=1.08883,so=J.prototype=new L;so.brighter=function(e){return Z(Math.min(100,this.l+io*(arguments.length?e:1)),this.a,this.b)},so.darker=function(e){return Z(Math.max(0,this.l-io*(arguments.length?e:1)),this.a,this.b)},so.rgb=function(){return G(this.l,this.a,this.b)},gs.rgb=function(e,t,i){return 1===arguments.length?e instanceof rt?at(e.r,e.g,e.b):ot(""+e,at,O):at(~~e,~~t,~~i)};var oo=rt.prototype=new L;oo.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,i=this.g,n=this.b,a=30;return t||i||n?(t&&a>t&&(t=a),i&&a>i&&(i=a),n&&a>n&&(n=a),at(Math.min(255,Math.floor(t/e)),Math.min(255,Math.floor(i/e)),Math.min(255,Math.floor(n/e)))):at(a,a,a)},oo.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),at(Math.floor(e*this.r),Math.floor(e*this.g),Math.floor(e*this.b))},oo.hsl=function(){return lt(this.r,this.g,this.b)},oo.toString=function(){return"#"+st(this.r)+st(this.g)+st(this.b)};var lo=gs.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});lo.forEach(function(e,t){lo.set(e,ot(t,at,O))}),gs.functor=ft,gs.xhr=pt(dt),gs.dsv=function(e,t){function i(e,i,r){arguments.length<3&&(r=i,i=null);var s=gs.xhr(e,t,r);return s.row=function(e){return arguments.length?s.response(null==(i=e)?n:a(e)):i},s.row(i)}function n(e){return i.parse(e.responseText)}function a(e){return function(t){return i.parse(t.responseText,e)}}function s(t){return t.map(o).join(e)}function o(e){return l.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var l=new RegExp('["'+e+"\n]"),c=e.charCodeAt(0);return i.parse=function(e,t){var n;return i.parseRows(e,function(e,i){if(n)return n(e,i-1);var a=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");n=t?function(e,i){return t(a(e),i)}:a})},i.parseRows=function(e,t){function i(){if(u>=l)return s;if(a)return a=!1,r;var t=u;if(34===e.charCodeAt(t)){for(var i=t;i++<l;)if(34===e.charCodeAt(i)){if(34!==e.charCodeAt(i+1))break;++i}u=i+2;var n=e.charCodeAt(i+1);return 13===n?(a=!0,10===e.charCodeAt(i+2)&&++u):10===n&&(a=!0),e.substring(t+1,i).replace(/""/g,'"')}for(;l>u;){var n=e.charCodeAt(u++),o=1;if(10===n)a=!0;else if(13===n)a=!0,10===e.charCodeAt(u)&&(++u,++o);else if(n!==c)continue;return e.substring(t,u-o)}return e.substring(t)}for(var n,a,r={},s={},o=[],l=e.length,u=0,h=0;(n=i())!==s;){for(var f=[];n!==r&&n!==s;)f.push(n),n=i();(!t||(f=t(f,h++)))&&o.push(f)}return o},i.format=function(t){if(Array.isArray(t[0]))return i.formatRows(t);var n=new r,a=[];return t.forEach(function(e){for(var t in e)n.has(t)||a.push(n.add(t))}),[a.map(o).join(e)].concat(t.map(function(t){return a.map(function(e){return o(t[e])}).join(e)})).join("\n")},i.formatRows=function(e){return e.map(s).join("\n")},i},gs.csv=gs.dsv(",","text/csv"),gs.tsv=gs.dsv("	","text/tab-separated-values");var co,uo,ho,fo;gs.timer=function(e,t,i){if(arguments.length<3){if(arguments.length<2)t=0;else if(!isFinite(t))return;i=Date.now()}var n=i+t,a={callback:e,time:n,next:null};uo?uo.next=a:co=a,uo=a,ho||(fo=clearTimeout(fo),ho=1,po(bt))},gs.timer.flush=function(){vt(),yt()};var po=ys[o(ys,"requestAnimationFrame")]||function(e){setTimeout(e,17)},mo=".",go=",",bo=[3,3],vo="$",yo=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(wt);gs.formatPrefix=function(e,t){var i=0;return e&&(0>e&&(e*=-1),t&&(e=gs.round(e,_t(e,t))),i=1+Math.floor(1e-12+Math.log(e)/Math.LN10),i=Math.max(-24,Math.min(24,3*Math.floor((0>=i?i+1:i-1)/3)))),yo[8+i/3]},gs.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)},gs.format=function(e){var t=wo.exec(e),i=t[1]||" ",n=t[2]||">",a=t[3]||"",r=t[4]||"",s=t[5],o=+t[6],l=t[7],c=t[8],u=t[9],h=1,f="",d=!1;switch(c&&(c=+c.substring(1)),(s||"0"===i&&"="===n)&&(s=i="0",n="=",l&&(o-=Math.floor((o-1)/4))),u){case"n":l=!0,u="g";break;case"%":h=100,f="%",u="f";break;case"p":h=100,f="%",u="r";break;case"b":case"o":case"x":case"X":"#"===r&&(r="0"+u.toLowerCase());case"c":case"d":d=!0,c=0;break;case"s":h=-1,u="r"}"#"===r?r="":"$"===r&&(r=vo),"r"!=u||c||(u="g"),null!=c&&("g"==u?c=Math.max(1,Math.min(21,c)):("e"==u||"f"==u)&&(c=Math.max(0,Math.min(20,c)))),u=_o.get(u)||xt;var p=s&&l;return function(e){if(d&&e%1)return"";var t=0>e||0===e&&0>1/e?(e=-e,"-"):a;if(0>h){var m=gs.formatPrefix(e,c);e=m.scale(e),f=m.symbol}else e*=h;e=u(e,c);var g=e.lastIndexOf("."),b=0>g?e:e.substring(0,g),v=0>g?"":mo+e.substring(g+1);!s&&l&&(b=xo(b));var y=r.length+b.length+v.length+(p?0:t.length),w=o>y?new Array(y=o-y+1).join(i):"";return p&&(b=xo(w+b)),t+=r,e=b+v,("<"===n?t+e+w:">"===n?w+t+e:"^"===n?w.substring(0,y>>=1)+t+e+w.substring(y):t+(p?e:w+e))+f}};var wo=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,_o=gs.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=gs.round(e,_t(e,t))).toFixed(Math.max(0,Math.min(20,_t(e*(1+1e-15),t))))}}),xo=dt;if(bo){var ko=bo.length;xo=function(e){for(var t=e.length,i=[],n=0,a=bo[0];t>0&&a>0;)i.push(e.substring(t-=a,t+a)),a=bo[n=(n+1)%ko];return i.reverse().join(go)}}gs.geo={},kt.prototype={s:0,t:0,add:function(e){Ct(e,this.t,Co),Ct(Co.s,this.s,this),this.s?this.t+=Co.t:this.s=Co.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Co=new kt;gs.geo.stream=function(e,t){e&&So.hasOwnProperty(e.type)?So[e.type](e,t):St(e,t)};var So={Feature:function(e,t){St(e.geometry,t)},FeatureCollection:function(e,t){for(var i=e.features,n=-1,a=i.length;++n<a;)St(i[n].geometry,t)}},jo={Sphere:function(e,t){t.sphere()},Point:function(e,t){var i=e.coordinates;t.point(i[0],i[1])},MultiPoint:function(e,t){for(var i,n=e.coordinates,a=-1,r=n.length;++a<r;)i=n[a],t.point(i[0],i[1])},LineString:function(e,t){jt(e.coordinates,t,0)},MultiLineString:function(e,t){for(var i=e.coordinates,n=-1,a=i.length;++n<a;)jt(i[n],t,0)},Polygon:function(e,t){Et(e.coordinates,t)},MultiPolygon:function(e,t){for(var i=e.coordinates,n=-1,a=i.length;++n<a;)Et(i[n],t)},GeometryCollection:function(e,t){for(var i=e.geometries,n=-1,a=i.length;++n<a;)St(i[n],t)}};gs.geo.area=function(e){return Eo=0,gs.geo.stream(e,To),Eo};var Eo,Mo=new kt,To={sphere:function(){Eo+=4*Ys},point:u,lineStart:u,lineEnd:u,polygonStart:function(){Mo.reset(),To.lineStart=Mt},polygonEnd:function(){var e=2*Mo;Eo+=0>e?4*Ys+e:e,To.lineStart=To.lineEnd=To.point=u}};gs.geo.bounds=function(){function e(e,t){y.push(w=[u=e,f=e]),h>t&&(h=t),t>d&&(d=t)}function t(t,i){var n=Tt([t*Gs,i*Gs]);if(b){var a=Dt(b,n),r=[a[1],-a[0],0],s=Dt(r,a);Bt(s),s=Nt(s);var l=t-p,c=l>0?1:-1,m=s[0]*eo*c,g=Math.abs(l)>180;if(g^(m>c*p&&c*t>m)){var v=s[1]*eo;v>d&&(d=v)}else if(m=(m+360)%360-180,g^(m>c*p&&c*t>m)){var v=-s[1]*eo;h>v&&(h=v)}else h>i&&(h=i),i>d&&(d=i);g?p>t?o(u,t)>o(u,f)&&(f=t):o(t,f)>o(u,f)&&(u=t):f>=u?(u>t&&(u=t),t>f&&(f=t)):t>p?o(u,t)>o(u,f)&&(f=t):o(t,f)>o(u,f)&&(u=t)}else e(t,i);b=n,p=t}function i(){_.point=t}function n(){w[0]=u,w[1]=f,_.point=e,b=null}function a(e,i){if(b){var n=e-p;v+=Math.abs(n)>180?n+(n>0?360:-360):n}else m=e,g=i;To.point(e,i),t(e,i)}function r(){To.lineStart()}function s(){a(m,g),To.lineEnd(),Math.abs(v)>Zs&&(u=-(f=180)),w[0]=u,w[1]=f,b=null}function o(e,t){return(t-=e)<0?t+360:t}function l(e,t){return e[0]-t[0]}function c(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var u,h,f,d,p,m,g,b,v,y,w,_={point:e,lineStart:i,lineEnd:n,polygonStart:function(){_.point=a,_.lineStart=r,_.lineEnd=s,v=0,To.polygonStart()},polygonEnd:function(){To.polygonEnd(),_.point=e,_.lineStart=i,_.lineEnd=n,0>Mo?(u=-(f=180),h=-(d=90)):v>Zs?d=90:-Zs>v&&(h=-90),w[0]=u,w[1]=f}};return function(e){d=f=-(u=h=1/0),y=[],gs.geo.stream(e,_);var t=y.length;if(t){y.sort(l);for(var i,n=1,a=y[0],r=[a];t>n;++n)i=y[n],c(i[0],a)||c(i[1],a)?(o(a[0],i[1])>o(a[0],a[1])&&(a[1]=i[1]),o(i[0],a[1])>o(a[0],a[1])&&(a[0]=i[0])):r.push(a=i);for(var s,i,p=-1/0,t=r.length-1,n=0,a=r[t];t>=n;a=i,++n)i=r[n],(s=o(a[1],i[0]))>p&&(p=s,u=i[0],f=a[1])}return y=w=null,1/0===u||1/0===h?[[0/0,0/0],[0/0,0/0]]:[[u,h],[f,d]]}}(),gs.geo.centroid=function(e){Fo=Do=Ao=Po=Bo=No=qo=Io=Lo=Qo=$o=0,gs.geo.stream(e,Oo);var t=Lo,i=Qo,n=$o,a=t*t+i*i+n*n;return Js>a&&(t=No,i=qo,n=Io,Zs>Do&&(t=Ao,i=Po,n=Bo),a=t*t+i*i+n*n,Js>a)?[0/0,0/0]:[Math.atan2(i,t)*eo,z(n/Math.sqrt(a))*eo]};var Fo,Do,Ao,Po,Bo,No,qo,Io,Lo,Qo,$o,Oo={sphere:u,point:It,lineStart:Qt,lineEnd:$t,polygonStart:function(){Oo.lineStart=Ot},polygonEnd:function(){Oo.lineStart=Qt}},Ho=Ut(Ht,Yt,Jt,Gt),Ro=[-Ys,0],zo=1e9;(gs.geo.conicEqualArea=function(){return ai(ri)}).raw=ri,gs.geo.albers=function(){return gs.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},gs.geo.albersUsa=function(){function e(e){var r=e[0],s=e[1];return t=null,i(r,s),t||(n(r,s),t)||a(r,s),t}var t,i,n,a,r=gs.geo.albers(),s=gs.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o=gs.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,i){t=[e,i]}};return e.invert=function(e){var t=r.scale(),i=r.translate(),n=(e[0]-i[0])/t,a=(e[1]-i[1])/t;return(a>=.12&&.234>a&&n>=-.425&&-.214>n?s:a>=.166&&.234>a&&n>=-.214&&-.115>n?o:r).invert(e)},e.stream=function(e){var t=r.stream(e),i=s.stream(e),n=o.stream(e);return{point:function(e,a){t.point(e,a),i.point(e,a),n.point(e,a)},sphere:function(){t.sphere(),i.sphere(),n.sphere()},lineStart:function(){t.lineStart(),i.lineStart(),n.lineStart()},lineEnd:function(){t.lineEnd(),i.lineEnd(),n.lineEnd()},polygonStart:function(){t.polygonStart(),i.polygonStart(),n.polygonStart()},polygonEnd:function(){t.polygonEnd(),i.polygonEnd(),n.polygonEnd()}}},e.precision=function(t){return arguments.length?(r.precision(t),s.precision(t),o.precision(t),e):r.precision()},e.scale=function(t){return arguments.length?(r.scale(t),s.scale(.35*t),o.scale(t),e.translate(r.translate())):r.scale()},e.translate=function(t){if(!arguments.length)return r.translate();var c=r.scale(),u=+t[0],h=+t[1];return i=r.translate(t).clipExtent([[u-.455*c,h-.238*c],[u+.455*c,h+.238*c]]).stream(l).point,n=s.translate([u-.307*c,h+.201*c]).clipExtent([[u-.425*c+Zs,h+.12*c+Zs],[u-.214*c-Zs,h+.234*c-Zs]]).stream(l).point,a=o.translate([u-.205*c,h+.212*c]).clipExtent([[u-.214*c+Zs,h+.166*c+Zs],[u-.115*c-Zs,h+.234*c-Zs]]).stream(l).point,e},e.scale(1070)};var Uo,Wo,Ko,Xo,Vo,Yo,Zo={point:u,lineStart:u,lineEnd:u,polygonStart:function(){Wo=0,Zo.lineStart=si},polygonEnd:function(){Zo.lineStart=Zo.lineEnd=Zo.point=u,Uo+=Math.abs(Wo/2)}},Jo={point:oi,lineStart:u,lineEnd:u,polygonStart:u,polygonEnd:u},Go={point:ui,lineStart:hi,lineEnd:fi,polygonStart:function(){Go.lineStart=di},polygonEnd:function(){Go.point=ui,Go.lineStart=hi,Go.lineEnd=fi}};gs.geo.path=function(){function e(e){return e&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),s&&s.valid||(s=a(r)),gs.geo.stream(e,s)),r.result()}function t(){return s=null,e}var i,n,a,r,s,o=4.5;return e.area=function(e){return Uo=0,gs.geo.stream(e,a(Zo)),Uo},e.centroid=function(e){return Ao=Po=Bo=No=qo=Io=Lo=Qo=$o=0,gs.geo.stream(e,a(Go)),$o?[Lo/$o,Qo/$o]:Io?[No/Io,qo/Io]:Bo?[Ao/Bo,Po/Bo]:[0/0,0/0]},e.bounds=function(e){return Vo=Yo=-(Ko=Xo=1/0),gs.geo.stream(e,a(Jo)),[[Ko,Xo],[Vo,Yo]]},e.projection=function(e){return arguments.length?(a=(i=e)?e.stream||gi(e):dt,t()):i},e.context=function(e){return arguments.length?(r=null==(n=e)?new li:new pi(e),"function"!=typeof o&&r.pointRadius(o),t()):n},e.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),e):o},e.projection(gs.geo.albersUsa()).context(null)},gs.geo.projection=bi,gs.geo.projectionMutator=vi,(gs.geo.equirectangular=function(){return bi(wi)}).raw=wi.invert=wi,gs.geo.rotation=function(e){function t(t){return t=e(t[0]*Gs,t[1]*Gs),t[0]*=eo,t[1]*=eo,t}return e=_i(e[0]%360*Gs,e[1]*Gs,e.length>2?e[2]*Gs:0),t.invert=function(t){return t=e.invert(t[0]*Gs,t[1]*Gs),t[0]*=eo,t[1]*=eo,t},t},gs.geo.circle=function(){function e(){var e="function"==typeof n?n.apply(this,arguments):n,t=_i(-e[0]*Gs,-e[1]*Gs,0).invert,a=[];return i(null,null,1,{point:function(e,i){a.push(e=t(e,i)),e[0]*=eo,e[1]*=eo}}),{type:"Polygon",coordinates:[a]}}var t,i,n=[0,0],a=6;return e.origin=function(t){return arguments.length?(n=t,e):n},e.angle=function(n){return arguments.length?(i=Si((t=+n)*Gs,a*Gs),e):t},e.precision=function(n){return arguments.length?(i=Si(t*Gs,(a=+n)*Gs),e):a},e.angle(90)},gs.geo.distance=function(e,t){var i,n=(t[0]-e[0])*Gs,a=e[1]*Gs,r=t[1]*Gs,s=Math.sin(n),o=Math.cos(n),l=Math.sin(a),c=Math.cos(a),u=Math.sin(r),h=Math.cos(r);return Math.atan2(Math.sqrt((i=h*s)*i+(i=c*u-l*h*o)*i),l*u+c*h*o)},gs.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return gs.range(Math.ceil(r/g)*g,a,g).map(f).concat(gs.range(Math.ceil(c/b)*b,l,b).map(d)).concat(gs.range(Math.ceil(n/p)*p,i,p).filter(function(e){return Math.abs(e%g)>Zs}).map(u)).concat(gs.range(Math.ceil(o/m)*m,s,m).filter(function(e){return Math.abs(e%b)>Zs}).map(h))}var i,n,a,r,s,o,l,c,u,h,f,d,p=10,m=p,g=90,b=360,v=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(d(l).slice(1),f(a).reverse().slice(1),d(c).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(r=+t[0][0],a=+t[1][0],c=+t[0][1],l=+t[1][1],r>a&&(t=r,r=a,a=t),c>l&&(t=c,c=l,l=t),e.precision(v)):[[r,c],[a,l]]},e.minorExtent=function(t){return arguments.length?(n=+t[0][0],i=+t[1][0],o=+t[0][1],s=+t[1][1],n>i&&(t=n,n=i,i=t),o>s&&(t=o,o=s,s=t),e.precision(v)):[[n,o],[i,s]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(g=+t[0],b=+t[1],e):[g,b]},e.minorStep=function(t){return arguments.length?(p=+t[0],m=+t[1],e):[p,m]},e.precision=function(t){return arguments.length?(v=+t,u=Ei(o,s,90),h=Mi(n,i,v),f=Ei(c,l,90),d=Mi(r,a,v),e):v},e.majorExtent([[-180,-90+Zs],[180,90-Zs]]).minorExtent([[-180,-80-Zs],[180,80+Zs]])},gs.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||n.apply(this,arguments),i||a.apply(this,arguments)]}}var t,i,n=Ti,a=Fi;return e.distance=function(){return gs.geo.distance(t||n.apply(this,arguments),i||a.apply(this,arguments))},e.source=function(i){return arguments.length?(n=i,t="function"==typeof i?null:i,e):n},e.target=function(t){return arguments.length?(a=t,i="function"==typeof t?null:t,e):a},e.precision=function(){return arguments.length?e:0},e},gs.geo.interpolate=function(e,t){return Di(e[0]*Gs,e[1]*Gs,t[0]*Gs,t[1]*Gs)},gs.geo.length=function(e){return el=0,gs.geo.stream(e,tl),el};var el,tl={sphere:u,point:u,lineStart:Ai,lineEnd:u,polygonStart:u,polygonEnd:u},il=Pi(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(gs.geo.azimuthalEqualArea=function(){return bi(il)}).raw=il;var nl=Pi(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},dt);(gs.geo.azimuthalEquidistant=function(){return bi(nl)}).raw=nl,(gs.geo.conicConformal=function(){return ai(Bi)}).raw=Bi,(gs.geo.conicEquidistant=function(){return ai(Ni)}).raw=Ni;var al=Pi(function(e){return 1/e},Math.atan);(gs.geo.gnomonic=function(){return bi(al)}).raw=al,qi.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Ys/2]},(gs.geo.mercator=function(){return Ii(qi)}).raw=qi;var rl=Pi(function(){return 1},Math.asin);(gs.geo.orthographic=function(){return bi(rl)}).raw=rl;var sl=Pi(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(gs.geo.stereographic=function(){return bi(sl)}).raw=sl,Li.invert=function(e,t){return[Math.atan2(U(e),Math.cos(t)),z(Math.sin(t)/W(e))]},(gs.geo.transverseMercator=function(){return Ii(Li)}).raw=Li,gs.geom={},gs.svg={},gs.svg.line=function(){return Qi(dt)};var ol=gs.map({linear:Hi,"linear-closed":Ri,step:zi,"step-before":Ui,"step-after":Wi,basis:Ji,"basis-open":Gi,"basis-closed":en,bundle:tn,cardinal:Vi,"cardinal-open":Ki,"cardinal-closed":Xi,monotone:ln});ol.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var ll=[0,2/3,1/3,0],cl=[0,1/3,2/3,0],ul=[0,1/6,2/3,1/6];gs.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,a,r,s,o,l,c,u,h,f,d,p,m=ft(i),g=ft(n),b=e.length,v=b-1,y=[],w=[],_=0;if(m===$i&&n===Oi)t=e;else for(r=0,t=[];b>r;++r)t.push([+m.call(this,a=e[r],r),+g.call(this,a,r)]);for(r=1;b>r;++r)(t[r][1]<t[_][1]||t[r][1]==t[_][1]&&t[r][0]<t[_][0])&&(_=r);for(r=0;b>r;++r)r!==_&&(l=t[r][1]-t[_][1],o=t[r][0]-t[_][0],y.push({angle:Math.atan2(l,o),index:r}));for(y.sort(function(e,t){return e.angle-t.angle}),d=y[0].angle,f=y[0].index,h=0,r=1;v>r;++r){if(s=y[r].index,d==y[r].angle){if(o=t[f][0]-t[_][0],l=t[f][1]-t[_][1],c=t[s][0]-t[_][0],u=t[s][1]-t[_][1],o*o+l*l>=c*c+u*u){y[r].index=-1;continue}y[h].index=-1}d=y[r].angle,h=r,f=s}for(w.push(_),r=0,s=0;2>r;++s)y[s].index>-1&&(w.push(y[s].index),r++);for(p=w.length;v>s;++s)if(!(y[s].index<0)){for(;!cn(w[p-2],w[p-1],y[s].index,t);)--p;w[p++]=y[s].index}var x=[];for(r=p-1;r>=0;--r)x.push(e[w[r]]);return x}var i=$i,n=Oi;return arguments.length?t(e):(t.x=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(n=e,t):n},t)},gs.geom.polygon=function(e){return Ps(e,hl),e};var hl=gs.geom.polygon.prototype=[];hl.area=function(){for(var e,t=-1,i=this.length,n=this[i-1],a=0;++t<i;)e=n,n=this[t],a+=e[1]*n[0]-e[0]*n[1];return.5*a},hl.centroid=function(e){var t,i,n=-1,a=this.length,r=0,s=0,o=this[a-1];for(arguments.length||(e=-1/(6*this.area()));++n<a;)t=o,o=this[n],i=t[0]*o[1]-o[0]*t[1],r+=(t[0]+o[0])*i,s+=(t[1]+o[1])*i;return[r*e,s*e]},hl.clip=function(e){for(var t,i,n,a,r,s,o=fn(e),l=-1,c=this.length-fn(this),u=this[c-1];++l<c;){for(t=e.slice(),e.length=0,a=this[l],r=t[(n=t.length-o)-1],i=-1;++i<n;)s=t[i],un(s,u,a)?(un(r,u,a)||e.push(hn(r,s,u,a)),e.push(s)):un(r,u,a)&&e.push(hn(r,s,u,a)),r=s;o&&e.push(e[0]),u=a}return e},gs.geom.delaunay=function(e){var t=e.map(function(){return[]}),i=[];return dn(e,function(i){t[i.region.l.index].push(e[i.region.r.index])}),t.forEach(function(t,n){var a=e[n],r=a[0],s=a[1];t.forEach(function(e){e.angle=Math.atan2(e[0]-r,e[1]-s)}),t.sort(function(e,t){return e.angle-t.angle});for(var o=0,l=t.length-1;l>o;o++)i.push([a,t[o],t[o+1]])
}),i},gs.geom.voronoi=function(e){function t(e){var t,r,s,o=e.map(function(){return[]}),l=ft(i),c=ft(n),u=e.length,h=1e6;if(l===$i&&c===Oi)t=e;else for(t=new Array(u),s=0;u>s;++s)t[s]=[+l.call(this,r=e[s],s),+c.call(this,r,s)];if(dn(t,function(e){var t,i,n,a,r,s;1===e.a&&e.b>=0?(t=e.ep.r,i=e.ep.l):(t=e.ep.l,i=e.ep.r),1===e.a?(r=t?t.y:-h,n=e.c-e.b*r,s=i?i.y:h,a=e.c-e.b*s):(n=t?t.x:-h,r=e.c-e.a*n,a=i?i.x:h,s=e.c-e.a*a);var l=[n,r],c=[a,s];o[e.region.l.index].push(l,c),o[e.region.r.index].push(l,c)}),o=o.map(function(e,i){var n=t[i][0],a=t[i][1],r=e.map(function(e){return Math.atan2(e[0]-n,e[1]-a)}),s=gs.range(e.length).sort(function(e,t){return r[e]-r[t]});return s.filter(function(e,t){return!t||r[e]-r[s[t-1]]>Zs}).map(function(t){return e[t]})}),o.forEach(function(e,i){var n=e.length;if(!n)return e.push([-h,-h],[-h,h],[h,h],[h,-h]);if(!(n>2)){var a=t[i],r=e[0],s=e[1],o=a[0],l=a[1],c=r[0],u=r[1],f=s[0],d=s[1],p=Math.abs(f-c),m=d-u;if(Math.abs(m)<Zs){var g=u>l?-h:h;e.push([-h,g],[h,g])}else if(Zs>p){var b=c>o?-h:h;e.push([b,-h],[b,h])}else{var g=(c-o)*(d-u)>(f-c)*(u-l)?h:-h,v=Math.abs(m)-p;Math.abs(v)<Zs?e.push([0>m?g:-g,g]):(v>0&&(g*=-1),e.push([-h,g],[h,g]))}}}),a)for(s=0;u>s;++s)a.clip(o[s]);for(s=0;u>s;++s)o[s].point=e[s];return o}var i=$i,n=Oi,a=null;return arguments.length?t(e):(t.x=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(n=e,t):n},t.clipExtent=function(e){if(!arguments.length)return a&&[a[0],a[2]];if(null==e)a=null;else{var i=+e[0][0],n=+e[0][1],r=+e[1][0],s=+e[1][1];a=gs.geom.polygon([[i,n],[i,s],[r,s],[r,n]])}return t},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):a&&a[2]},t.links=function(e){var t,a,r,s=e.map(function(){return[]}),o=[],l=ft(i),c=ft(n),u=e.length;if(l===$i&&c===Oi)t=e;else for(t=new Array(u),r=0;u>r;++r)t[r]=[+l.call(this,a=e[r],r),+c.call(this,a,r)];return dn(t,function(t){var i=t.region.l.index,n=t.region.r.index;s[i][n]||(s[i][n]=s[n][i]=!0,o.push({source:e[i],target:e[n]}))}),o},t.triangles=function(e){if(i===$i&&n===Oi)return gs.geom.delaunay(e);for(var t,a=new Array(l),r=ft(i),s=ft(n),o=-1,l=e.length;++o<l;)(a[o]=[+r.call(this,t=e[o],o),+s.call(this,t,o)]).data=t;return gs.geom.delaunay(a).map(function(e){return e.map(function(e){return e.data})})},t)};var fl={l:"r",r:"l"};gs.geom.quadtree=function(e,t,i,n,a){function r(e){function r(e,t,i,n,a,r,s,o){if(!isNaN(i)&&!isNaN(n))if(e.leaf){var l=e.x,u=e.y;if(null!=l)if(Math.abs(l-i)+Math.abs(u-n)<.01)c(e,t,i,n,a,r,s,o);else{var h=e.point;e.x=e.y=e.point=null,c(e,h,l,u,a,r,s,o),c(e,t,i,n,a,r,s,o)}else e.x=i,e.y=n,e.point=t}else c(e,t,i,n,a,r,s,o)}function c(e,t,i,n,a,s,o,l){var c=.5*(a+o),u=.5*(s+l),h=i>=c,f=n>=u,d=(f<<1)+h;e.leaf=!1,e=e.nodes[d]||(e.nodes[d]=gn()),h?a=c:o=c,f?s=u:l=u,r(e,t,i,n,a,s,o,l)}var u,h,f,d,p,m,g,b,v,y=ft(o),w=ft(l);if(null!=t)m=t,g=i,b=n,v=a;else if(b=v=-(m=g=1/0),h=[],f=[],p=e.length,s)for(d=0;p>d;++d)u=e[d],u.x<m&&(m=u.x),u.y<g&&(g=u.y),u.x>b&&(b=u.x),u.y>v&&(v=u.y),h.push(u.x),f.push(u.y);else for(d=0;p>d;++d){var _=+y(u=e[d],d),x=+w(u,d);m>_&&(m=_),g>x&&(g=x),_>b&&(b=_),x>v&&(v=x),h.push(_),f.push(x)}var k=b-m,C=v-g;k>C?v=g+k:b=m+C;var S=gn();if(S.add=function(e){r(S,e,+y(e,++d),+w(e,d),m,g,b,v)},S.visit=function(e){bn(e,S,m,g,b,v)},d=-1,null==t){for(;++d<p;)r(S,e[d],h[d],f[d],m,g,b,v);--d}else e.forEach(S.add);return h=f=e=u=null,S}var s,o=$i,l=Oi;return(s=arguments.length)?(o=pn,l=mn,3===s&&(a=i,n=t,i=t=0),r(e)):(r.x=function(e){return arguments.length?(o=e,r):o},r.y=function(e){return arguments.length?(l=e,r):l},r.extent=function(e){return arguments.length?(null==e?t=i=n=a=null:(t=+e[0][0],i=+e[0][1],n=+e[1][0],a=+e[1][1]),r):null==t?null:[[t,i],[n,a]]},r.size=function(e){return arguments.length?(null==e?t=i=n=a=null:(t=i=0,n=+e[0],a=+e[1]),r):null==t?null:[n-t,a-i]},r)},gs.interpolateRgb=vn,gs.interpolateObject=yn,gs.interpolateNumber=wn,gs.interpolateString=_n;var dl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;gs.interpolate=xn,gs.interpolators=[function(e,t){var i=typeof t;return("string"===i?lo.has(t)||/^(#|rgb\(|hsl\()/.test(t)?vn:_n:t instanceof L?vn:"object"===i?Array.isArray(t)?kn:yn:wn)(e,t)}],gs.interpolateArray=kn;var pl=function(){return dt},ml=gs.map({linear:pl,poly:Fn,quad:function(){return En},cubic:function(){return Mn},sin:function(){return Dn},exp:function(){return An},circle:function(){return Pn},elastic:Bn,back:Nn,bounce:function(){return qn}}),gl=gs.map({"in":dt,out:Sn,"in-out":jn,"out-in":function(e){return jn(Sn(e))}});gs.ease=function(e){var t=e.indexOf("-"),i=t>=0?e.substring(0,t):e,n=t>=0?e.substring(t+1):"in";return i=ml.get(i)||pl,n=gl.get(n)||dt,Cn(n(i.apply(null,Array.prototype.slice.call(arguments,1))))},gs.interpolateHcl=In,gs.interpolateHsl=Ln,gs.interpolateLab=Qn,gs.interpolateRound=$n,gs.transform=function(e){var t=bs.createElementNS(gs.ns.prefix.svg,"g");return(gs.transform=function(e){if(null!=e){t.setAttribute("transform",e);var i=t.transform.baseVal.consolidate()}return new On(i?i.matrix:bl)})(e)},On.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var bl={a:1,b:0,c:0,d:1,e:0,f:0};gs.interpolateTransform=Un,gs.layout={},gs.layout.bundle=function(){return function(e){for(var t=[],i=-1,n=e.length;++i<n;)t.push(Xn(e[i]));return t}},gs.layout.chord=function(){function e(){var e,c,h,f,d,p={},m=[],g=gs.range(r),b=[];for(i=[],n=[],e=0,f=-1;++f<r;){for(c=0,d=-1;++d<r;)c+=a[f][d];m.push(c),b.push(gs.range(r)),e+=c}for(s&&g.sort(function(e,t){return s(m[e],m[t])}),o&&b.forEach(function(e,t){e.sort(function(e,i){return o(a[t][e],a[t][i])})}),e=(2*Ys-u*r)/e,c=0,f=-1;++f<r;){for(h=c,d=-1;++d<r;){var v=g[f],y=b[v][d],w=a[v][y],_=c,x=c+=w*e;p[v+"-"+y]={index:v,subindex:y,startAngle:_,endAngle:x,value:w}}n[v]={index:v,startAngle:h,endAngle:c,value:(c-h)/e},c+=u}for(f=-1;++f<r;)for(d=f-1;++d<r;){var k=p[f+"-"+d],C=p[d+"-"+f];(k.value||C.value)&&i.push(k.value<C.value?{source:C,target:k}:{source:k,target:C})}l&&t()}function t(){i.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var i,n,a,r,s,o,l,c={},u=0;return c.matrix=function(e){return arguments.length?(r=(a=e)&&a.length,i=n=null,c):a},c.padding=function(e){return arguments.length?(u=e,i=n=null,c):u},c.sortGroups=function(e){return arguments.length?(s=e,i=n=null,c):s},c.sortSubgroups=function(e){return arguments.length?(o=e,i=null,c):o},c.sortChords=function(e){return arguments.length?(l=e,i&&t(),c):l},c.chords=function(){return i||e(),i},c.groups=function(){return n||e(),n},c},gs.layout.force=function(){function e(e){return function(t,i,n,a){if(t.point!==e){var r=t.cx-e.x,s=t.cy-e.y,o=1/Math.sqrt(r*r+s*s);if(m>(a-i)*o){var l=t.charge*o*o;return e.px-=r*l,e.py-=s*l,!0}if(t.point&&isFinite(o)){var l=t.pointCharge*o*o;e.px-=r*l,e.py-=s*l}}return!t.charge}}function t(e){e.px=gs.event.x,e.py=gs.event.y,o.resume()}var i,n,a,r,s,o={},l=gs.dispatch("start","tick","end"),c=[1,1],u=.9,h=vl,f=yl,d=-30,p=.1,m=.8,g=[],b=[];return o.tick=function(){if((n*=.99)<.005)return l.end({type:"end",alpha:n=0}),!0;var t,i,o,h,f,m,v,y,w,_=g.length,x=b.length;for(i=0;x>i;++i)o=b[i],h=o.source,f=o.target,y=f.x-h.x,w=f.y-h.y,(m=y*y+w*w)&&(m=n*r[i]*((m=Math.sqrt(m))-a[i])/m,y*=m,w*=m,f.x-=y*(v=h.weight/(f.weight+h.weight)),f.y-=w*v,h.x+=y*(v=1-v),h.y+=w*v);if((v=n*p)&&(y=c[0]/2,w=c[1]/2,i=-1,v))for(;++i<_;)o=g[i],o.x+=(y-o.x)*v,o.y+=(w-o.y)*v;if(d)for(ta(t=gs.geom.quadtree(g),n,s),i=-1;++i<_;)(o=g[i]).fixed||t.visit(e(o));for(i=-1;++i<_;)o=g[i],o.fixed?(o.x=o.px,o.y=o.py):(o.x-=(o.px-(o.px=o.x))*u,o.y-=(o.py-(o.py=o.y))*u);l.tick({type:"tick",alpha:n})},o.nodes=function(e){return arguments.length?(g=e,o):g},o.links=function(e){return arguments.length?(b=e,o):b},o.size=function(e){return arguments.length?(c=e,o):c},o.linkDistance=function(e){return arguments.length?(h="function"==typeof e?e:+e,o):h},o.distance=o.linkDistance,o.linkStrength=function(e){return arguments.length?(f="function"==typeof e?e:+e,o):f},o.friction=function(e){return arguments.length?(u=+e,o):u},o.charge=function(e){return arguments.length?(d="function"==typeof e?e:+e,o):d},o.gravity=function(e){return arguments.length?(p=+e,o):p},o.theta=function(e){return arguments.length?(m=+e,o):m},o.alpha=function(e){return arguments.length?(e=+e,n?n=e>0?e:0:e>0&&(l.start({type:"start",alpha:n=e}),gs.timer(o.tick)),o):n},o.start=function(){function e(e,n){for(var a,r=t(i),s=-1,o=r.length;++s<o;)if(!isNaN(a=r[s][e]))return a;return Math.random()*n}function t(){if(!l){for(l=[],n=0;p>n;++n)l[n]=[];for(n=0;m>n;++n){var e=b[n];l[e.source.index].push(e.target),l[e.target.index].push(e.source)}}return l[i]}var i,n,l,u,p=g.length,m=b.length,v=c[0],y=c[1];for(i=0;p>i;++i)(u=g[i]).index=i,u.weight=0;for(i=0;m>i;++i)u=b[i],"number"==typeof u.source&&(u.source=g[u.source]),"number"==typeof u.target&&(u.target=g[u.target]),++u.source.weight,++u.target.weight;for(i=0;p>i;++i)u=g[i],isNaN(u.x)&&(u.x=e("x",v)),isNaN(u.y)&&(u.y=e("y",y)),isNaN(u.px)&&(u.px=u.x),isNaN(u.py)&&(u.py=u.y);if(a=[],"function"==typeof h)for(i=0;m>i;++i)a[i]=+h.call(this,b[i],i);else for(i=0;m>i;++i)a[i]=h;if(r=[],"function"==typeof f)for(i=0;m>i;++i)r[i]=+f.call(this,b[i],i);else for(i=0;m>i;++i)r[i]=f;if(s=[],"function"==typeof d)for(i=0;p>i;++i)s[i]=+d.call(this,g[i],i);else for(i=0;p>i;++i)s[i]=d;return o.resume()},o.resume=function(){return o.alpha(.1)},o.stop=function(){return o.alpha(0)},o.drag=function(){return i||(i=gs.behavior.drag().origin(dt).on("dragstart.force",Zn).on("drag.force",t).on("dragend.force",Jn)),arguments.length?(this.on("mouseover.force",Gn).on("mouseout.force",ea).call(i),void 0):i},gs.rebind(o,l,"on")};var vl=20,yl=1;gs.layout.hierarchy=function(){function e(t,s,o){var l=a.call(i,t,s);if(t.depth=s,o.push(t),l&&(c=l.length)){for(var c,u,h=-1,f=t.children=[],d=0,p=s+1;++h<c;)u=e(l[h],p,o),u.parent=t,f.push(u),d+=u.value;n&&f.sort(n),r&&(t.value=d)}else r&&(t.value=+r.call(i,t,s)||0);return t}function t(e,n){var a=e.children,s=0;if(a&&(o=a.length))for(var o,l=-1,c=n+1;++l<o;)s+=t(a[l],c);else r&&(s=+r.call(i,e,n)||0);return r&&(e.value=s),s}function i(t){var i=[];return e(t,0,i),i}var n=ra,a=na,r=aa;return i.sort=function(e){return arguments.length?(n=e,i):n},i.children=function(e){return arguments.length?(a=e,i):a},i.value=function(e){return arguments.length?(r=e,i):r},i.revalue=function(e){return t(e,0),e},i},gs.layout.partition=function(){function e(t,i,n,a){var r=t.children;if(t.x=i,t.y=t.depth*a,t.dx=n,t.dy=a,r&&(s=r.length)){var s,o,l,c=-1;for(n=t.value?n/t.value:0;++c<s;)e(o=r[c],i,l=o.value*n,a),i+=l}}function t(e){var i=e.children,n=0;if(i&&(a=i.length))for(var a,r=-1;++r<a;)n=Math.max(n,t(i[r]));return 1+n}function i(i,r){var s=n.call(this,i,r);return e(s[0],0,a[0],a[1]/t(s[0])),s}var n=gs.layout.hierarchy(),a=[1,1];return i.size=function(e){return arguments.length?(a=e,i):a},ia(i,n)},gs.layout.pie=function(){function e(r){var s=r.map(function(i,n){return+t.call(e,i,n)}),o=+("function"==typeof n?n.apply(this,arguments):n),l=(("function"==typeof a?a.apply(this,arguments):a)-o)/gs.sum(s),c=gs.range(r.length);null!=i&&c.sort(i===wl?function(e,t){return s[t]-s[e]}:function(e,t){return i(r[e],r[t])});var u=[];return c.forEach(function(e){var t;u[e]={data:r[e],value:t=s[e],startAngle:o,endAngle:o+=t*l}}),u}var t=Number,i=wl,n=0,a=2*Ys;return e.value=function(i){return arguments.length?(t=i,e):t},e.sort=function(t){return arguments.length?(i=t,e):i},e.startAngle=function(t){return arguments.length?(n=t,e):n},e.endAngle=function(t){return arguments.length?(a=t,e):a},e};var wl={};gs.layout.stack=function(){function e(o,l){var c=o.map(function(i,n){return t.call(e,i,n)}),u=c.map(function(t){return t.map(function(t,i){return[r.call(e,t,i),s.call(e,t,i)]})}),h=i.call(e,u,l);c=gs.permute(c,h),u=gs.permute(u,h);var f,d,p,m=n.call(e,u,l),g=c.length,b=c[0].length;for(d=0;b>d;++d)for(a.call(e,c[0][d],p=m[d],u[0][d][1]),f=1;g>f;++f)a.call(e,c[f][d],p+=u[f-1][d][1],u[f][d][1]);return o}var t=dt,i=ua,n=ha,a=ca,r=oa,s=la;return e.values=function(i){return arguments.length?(t=i,e):t},e.order=function(t){return arguments.length?(i="function"==typeof t?t:_l.get(t)||ua,e):i},e.offset=function(t){return arguments.length?(n="function"==typeof t?t:xl.get(t)||ha,e):n},e.x=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(s=t,e):s},e.out=function(t){return arguments.length?(a=t,e):a},e};var _l=gs.map({"inside-out":function(e){var t,i,n=e.length,a=e.map(fa),r=e.map(da),s=gs.range(n).sort(function(e,t){return a[e]-a[t]}),o=0,l=0,c=[],u=[];for(t=0;n>t;++t)i=s[t],l>o?(o+=r[i],c.push(i)):(l+=r[i],u.push(i));return u.reverse().concat(c)},reverse:function(e){return gs.range(e.length).reverse()},"default":ua}),xl=gs.map({silhouette:function(e){var t,i,n,a=e.length,r=e[0].length,s=[],o=0,l=[];for(i=0;r>i;++i){for(t=0,n=0;a>t;t++)n+=e[t][i][1];n>o&&(o=n),s.push(n)}for(i=0;r>i;++i)l[i]=(o-s[i])/2;return l},wiggle:function(e){var t,i,n,a,r,s,o,l,c,u=e.length,h=e[0],f=h.length,d=[];for(d[0]=l=c=0,i=1;f>i;++i){for(t=0,a=0;u>t;++t)a+=e[t][i][1];for(t=0,r=0,o=h[i][0]-h[i-1][0];u>t;++t){for(n=0,s=(e[t][i][1]-e[t][i-1][1])/(2*o);t>n;++n)s+=(e[n][i][1]-e[n][i-1][1])/o;r+=s*e[t][i][1]}d[i]=l-=a?r/a*o:0,c>l&&(c=l)}for(i=0;f>i;++i)d[i]-=c;return d},expand:function(e){var t,i,n,a=e.length,r=e[0].length,s=1/a,o=[];for(i=0;r>i;++i){for(t=0,n=0;a>t;t++)n+=e[t][i][1];if(n)for(t=0;a>t;t++)e[t][i][1]/=n;else for(t=0;a>t;t++)e[t][i][1]=s}for(i=0;r>i;++i)o[i]=0;return o},zero:ha});gs.layout.histogram=function(){function e(e,r){for(var s,o,l=[],c=e.map(i,this),u=n.call(this,c,r),h=a.call(this,u,c,r),r=-1,f=c.length,d=h.length-1,p=t?1:1/f;++r<d;)s=l[r]=[],s.dx=h[r+1]-(s.x=h[r]),s.y=0;if(d>0)for(r=-1;++r<f;)o=c[r],o>=u[0]&&o<=u[1]&&(s=l[gs.bisect(h,o,1,d)-1],s.y+=p,s.push(e[r]));return l}var t=!0,i=Number,n=ba,a=ma;return e.value=function(t){return arguments.length?(i=t,e):i},e.range=function(t){return arguments.length?(n=ft(t),e):n},e.bins=function(t){return arguments.length?(a="number"==typeof t?function(e){return ga(e,t)}:ft(t),e):a},e.frequency=function(i){return arguments.length?(t=!!i,e):t},e},gs.layout.tree=function(){function e(e,r){function s(e,t){var n=e.children,a=e._tree;if(n&&(r=n.length)){for(var r,o,c,u=n[0],h=u,f=-1;++f<r;)c=n[f],s(c,o),h=l(c,o,h),o=c;ja(e);var d=.5*(u._tree.prelim+c._tree.prelim);t?(a.prelim=t._tree.prelim+i(e,t),a.mod=a.prelim-d):a.prelim=d}else t&&(a.prelim=t._tree.prelim+i(e,t))}function o(e,t){e.x=e._tree.prelim+t;var i=e.children;if(i&&(n=i.length)){var n,a=-1;for(t+=e._tree.mod;++a<n;)o(i[a],t)}}function l(e,t,n){if(t){for(var a,r=e,s=e,o=t,l=e.parent.children[0],c=r._tree.mod,u=s._tree.mod,h=o._tree.mod,f=l._tree.mod;o=wa(o),r=ya(r),o&&r;)l=ya(l),s=wa(s),s._tree.ancestor=e,a=o._tree.prelim+h-r._tree.prelim-c+i(o,r),a>0&&(Ea(Ma(o,e,n),e,a),c+=a,u+=a),h+=o._tree.mod,c+=r._tree.mod,f+=l._tree.mod,u+=s._tree.mod;o&&!wa(s)&&(s._tree.thread=o,s._tree.mod+=h-u),r&&!ya(l)&&(l._tree.thread=r,l._tree.mod+=c-f,n=e)}return n}var c=t.call(this,e,r),u=c[0];Sa(u,function(e,t){e._tree={ancestor:e,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}}),s(u),o(u,-u._tree.prelim);var h=_a(u,ka),f=_a(u,xa),d=_a(u,Ca),p=h.x-i(h,f)/2,m=f.x+i(f,h)/2,g=d.depth||1;return Sa(u,a?function(e){e.x*=n[0],e.y=e.depth*n[1],delete e._tree}:function(e){e.x=(e.x-p)/(m-p)*n[0],e.y=e.depth/g*n[1],delete e._tree}),c}var t=gs.layout.hierarchy().sort(null).value(null),i=va,n=[1,1],a=!1;return e.separation=function(t){return arguments.length?(i=t,e):i},e.size=function(t){return arguments.length?(a=null==(n=t),e):a?null:n},e.nodeSize=function(t){return arguments.length?(a=null!=(n=t),e):a?n:null},ia(e,t)},gs.layout.pack=function(){function e(e,r){var s=i.call(this,e,r),o=s[0],l=a[0],c=a[1],u=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(o.x=o.y=0,Sa(o,function(e){e.r=+u(e.value)}),Sa(o,Pa),n){var h=n*(t?1:Math.max(2*o.r/l,2*o.r/c))/2;Sa(o,function(e){e.r+=h}),Sa(o,Pa),Sa(o,function(e){e.r-=h})}return qa(o,l/2,c/2,t?1:1/Math.max(2*o.r/l,2*o.r/c)),s}var t,i=gs.layout.hierarchy().sort(Ta),n=0,a=[1,1];return e.size=function(t){return arguments.length?(a=t,e):a},e.radius=function(i){return arguments.length?(t=null==i||"function"==typeof i?i:+i,e):t},e.padding=function(t){return arguments.length?(n=+t,e):n},ia(e,i)},gs.layout.cluster=function(){function e(e,r){var s,o=t.call(this,e,r),l=o[0],c=0;Sa(l,function(e){var t=e.children;t&&t.length?(e.x=Qa(t),e.y=La(t)):(e.x=s?c+=i(e,s):0,e.y=0,s=e)});var u=$a(l),h=Oa(l),f=u.x-i(u,h)/2,d=h.x+i(h,u)/2;return Sa(l,a?function(e){e.x=(e.x-l.x)*n[0],e.y=(l.y-e.y)*n[1]}:function(e){e.x=(e.x-f)/(d-f)*n[0],e.y=(1-(l.y?e.y/l.y:1))*n[1]}),o}var t=gs.layout.hierarchy().sort(null).value(null),i=va,n=[1,1],a=!1;return e.separation=function(t){return arguments.length?(i=t,e):i},e.size=function(t){return arguments.length?(a=null==(n=t),e):a?null:n},e.nodeSize=function(t){return arguments.length?(a=null!=(n=t),e):a?n:null},ia(e,t)},gs.layout.treemap=function(){function e(e,t){for(var i,n,a=-1,r=e.length;++a<r;)n=(i=e[a]).value*(0>t?0:t),i.area=isNaN(n)||0>=n?0:n}function t(i){var r=i.children;if(r&&r.length){var s,o,l,c=h(i),u=[],f=r.slice(),p=1/0,m="slice"===d?c.dx:"dice"===d?c.dy:"slice-dice"===d?1&i.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(e(f,c.dx*c.dy/i.value),u.area=0;(l=f.length)>0;)u.push(s=f[l-1]),u.area+=s.area,"squarify"!==d||(o=n(u,m))<=p?(f.pop(),p=o):(u.area-=u.pop().area,a(u,m,c,!1),m=Math.min(c.dx,c.dy),u.length=u.area=0,p=1/0);u.length&&(a(u,m,c,!0),u.length=u.area=0),r.forEach(t)}}function i(t){var n=t.children;if(n&&n.length){var r,s=h(t),o=n.slice(),l=[];for(e(o,s.dx*s.dy/t.value),l.area=0;r=o.pop();)l.push(r),l.area+=r.area,null!=r.z&&(a(l,r.z?s.dx:s.dy,s,!o.length),l.length=l.area=0);n.forEach(i)}}function n(e,t){for(var i,n=e.area,a=0,r=1/0,s=-1,o=e.length;++s<o;)(i=e[s].area)&&(r>i&&(r=i),i>a&&(a=i));return n*=n,t*=t,n?Math.max(t*a*p/n,n/(t*r*p)):1/0}function a(e,t,i,n){var a,r=-1,s=e.length,o=i.x,c=i.y,u=t?l(e.area/t):0;if(t==i.dx){for((n||u>i.dy)&&(u=i.dy);++r<s;)a=e[r],a.x=o,a.y=c,a.dy=u,o+=a.dx=Math.min(i.x+i.dx-o,u?l(a.area/u):0);a.z=!0,a.dx+=i.x+i.dx-o,i.y+=u,i.dy-=u}else{for((n||u>i.dx)&&(u=i.dx);++r<s;)a=e[r],a.x=o,a.y=c,a.dx=u,c+=a.dy=Math.min(i.y+i.dy-c,u?l(a.area/u):0);a.z=!1,a.dy+=i.y+i.dy-c,i.x+=u,i.dx-=u}}function r(n){var a=s||o(n),r=a[0];return r.x=0,r.y=0,r.dx=c[0],r.dy=c[1],s&&o.revalue(r),e([r],r.dx*r.dy/r.value),(s?i:t)(r),f&&(s=a),a}var s,o=gs.layout.hierarchy(),l=Math.round,c=[1,1],u=null,h=Ha,f=!1,d="squarify",p=.5*(1+Math.sqrt(5));return r.size=function(e){return arguments.length?(c=e,r):c},r.padding=function(e){function t(t){var i=e.call(r,t,t.depth);return null==i?Ha(t):Ra(t,"number"==typeof i?[i,i,i,i]:i)}function i(t){return Ra(t,e)}if(!arguments.length)return u;var n;return h=null==(u=e)?Ha:"function"==(n=typeof e)?t:"number"===n?(e=[e,e,e,e],i):i,r},r.round=function(e){return arguments.length?(l=e?Math.round:Number,r):l!=Number},r.sticky=function(e){return arguments.length?(f=e,s=null,r):f},r.ratio=function(e){return arguments.length?(p=e,r):p},r.mode=function(e){return arguments.length?(d=e+"",r):d},ia(r,o)},gs.random={normal:function(e,t){var i=arguments.length;return 2>i&&(t=1),1>i&&(e=0),function(){var i,n,a;do i=2*Math.random()-1,n=2*Math.random()-1,a=i*i+n*n;while(!a||a>1);return e+t*i*Math.sqrt(-2*Math.log(a)/a)}},logNormal:function(){var e=gs.random.normal.apply(gs,arguments);return function(){return Math.exp(e())}},irwinHall:function(e){return function(){for(var t=0,i=0;e>i;i++)t+=Math.random();return t/e}}},gs.scale={};var kl={floor:dt,ceil:dt};gs.scale.linear=function(){return Ya([0,1],[0,1],xn,!1)},gs.scale.log=function(){return nr(gs.scale.linear().domain([0,1]),10,!0,[1,10])};var Cl=gs.format(".0e"),Sl={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};gs.scale.pow=function(){return ar(gs.scale.linear(),1,[0,1])},gs.scale.sqrt=function(){return gs.scale.pow().exponent(.5)},gs.scale.ordinal=function(){return sr([],{t:"range",a:[[]]})},gs.scale.category10=function(){return gs.scale.ordinal().range(jl)},gs.scale.category20=function(){return gs.scale.ordinal().range(El)},gs.scale.category20b=function(){return gs.scale.ordinal().range(Ml)},gs.scale.category20c=function(){return gs.scale.ordinal().range(Tl)};var jl=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],El=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],Ml=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],Tl=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];gs.scale.quantile=function(){return or([],[])},gs.scale.quantize=function(){return lr(0,1,[0,1])},gs.scale.threshold=function(){return cr([.5],[0,1])},gs.scale.identity=function(){return ur([0,1])},gs.svg.arc=function(){function e(){var e=t.apply(this,arguments),r=i.apply(this,arguments),s=n.apply(this,arguments)+Fl,o=a.apply(this,arguments)+Fl,l=(s>o&&(l=s,s=o,o=l),o-s),c=Ys>l?"0":"1",u=Math.cos(s),h=Math.sin(s),f=Math.cos(o),d=Math.sin(o);return l>=Dl?e?"M0,"+r+"A"+r+","+r+" 0 1,1 0,"+-r+"A"+r+","+r+" 0 1,1 0,"+r+"M0,"+e+"A"+e+","+e+" 0 1,0 0,"+-e+"A"+e+","+e+" 0 1,0 0,"+e+"Z":"M0,"+r+"A"+r+","+r+" 0 1,1 0,"+-r+"A"+r+","+r+" 0 1,1 0,"+r+"Z":e?"M"+r*u+","+r*h+"A"+r+","+r+" 0 "+c+",1 "+r*f+","+r*d+"L"+e*f+","+e*d+"A"+e+","+e+" 0 "+c+",0 "+e*u+","+e*h+"Z":"M"+r*u+","+r*h+"A"+r+","+r+" 0 "+c+",1 "+r*f+","+r*d+"L0,0Z"}var t=hr,i=fr,n=dr,a=pr;return e.innerRadius=function(i){return arguments.length?(t=ft(i),e):t},e.outerRadius=function(t){return arguments.length?(i=ft(t),e):i},e.startAngle=function(t){return arguments.length?(n=ft(t),e):n},e.endAngle=function(t){return arguments.length?(a=ft(t),e):a},e.centroid=function(){var e=(t.apply(this,arguments)+i.apply(this,arguments))/2,r=(n.apply(this,arguments)+a.apply(this,arguments))/2+Fl;return[Math.cos(r)*e,Math.sin(r)*e]},e};var Fl=-Ys/2,Dl=2*Ys-1e-6;gs.svg.line.radial=function(){var e=Qi(mr);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Ui.reverse=Wi,Wi.reverse=Ui,gs.svg.area=function(){return gr(dt)},gs.svg.area.radial=function(){var e=gr(mr);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},gs.svg.chord=function(){function e(e,o){var l=t(this,r,e,o),c=t(this,s,e,o);return"M"+l.p0+n(l.r,l.p1,l.a1-l.a0)+(i(l,c)?a(l.r,l.p1,l.r,l.p0):a(l.r,l.p1,c.r,c.p0)+n(c.r,c.p1,c.a1-c.a0)+a(c.r,c.p1,l.r,l.p0))+"Z"}function t(e,t,i,n){var a=t.call(e,i,n),r=o.call(e,a,n),s=l.call(e,a,n)+Fl,u=c.call(e,a,n)+Fl;return{r:r,a0:s,a1:u,p0:[r*Math.cos(s),r*Math.sin(s)],p1:[r*Math.cos(u),r*Math.sin(u)]}}function i(e,t){return e.a0==t.a0&&e.a1==t.a1}function n(e,t,i){return"A"+e+","+e+" 0 "+ +(i>Ys)+",1 "+t}function a(e,t,i,n){return"Q 0,0 "+n}var r=Ti,s=Fi,o=br,l=dr,c=pr;return e.radius=function(t){return arguments.length?(o=ft(t),e):o},e.source=function(t){return arguments.length?(r=ft(t),e):r},e.target=function(t){return arguments.length?(s=ft(t),e):s},e.startAngle=function(t){return arguments.length?(l=ft(t),e):l},e.endAngle=function(t){return arguments.length?(c=ft(t),e):c},e},gs.svg.diagonal=function(){function e(e,a){var r=t.call(this,e,a),s=i.call(this,e,a),o=(r.y+s.y)/2,l=[r,{x:r.x,y:o},{x:s.x,y:o},s];return l=l.map(n),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=Ti,i=Fi,n=vr;return e.source=function(i){return arguments.length?(t=ft(i),e):t},e.target=function(t){return arguments.length?(i=ft(t),e):i},e.projection=function(t){return arguments.length?(n=t,e):n},e},gs.svg.diagonal.radial=function(){var e=gs.svg.diagonal(),t=vr,i=e.projection;return e.projection=function(e){return arguments.length?i(yr(t=e)):t},e},gs.svg.symbol=function(){function e(e,n){return(Al.get(t.call(this,e,n))||xr)(i.call(this,e,n))}var t=_r,i=wr;return e.type=function(i){return arguments.length?(t=ft(i),e):t},e.size=function(t){return arguments.length?(i=ft(t),e):i},e};var Al=gs.map({circle:xr,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*ql)),i=t*ql;return"M0,"+-t+"L"+i+",0 0,"+t+" "+-i+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Nl),i=t*Nl/2;return"M0,"+i+"L"+t+","+-i+" "+-t+","+-i+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Nl),i=t*Nl/2;return"M0,"+-i+"L"+t+","+i+" "+-t+","+i+"Z"}});gs.svg.symbolTypes=Al.keys();var Pl,Bl,Nl=Math.sqrt(3),ql=Math.tan(30*Gs),Il=[],Ll=0;Il.call=Ls.call,Il.empty=Ls.empty,Il.node=Ls.node,Il.size=Ls.size,gs.transition=function(e){return arguments.length?Pl?e.transition():e:Os.transition()},gs.transition.prototype=Il,Il.select=function(e){var t,i,n,a=this.id,r=[];e=b(e);for(var s=-1,o=this.length;++s<o;){r.push(t=[]);for(var l=this[s],c=-1,u=l.length;++c<u;)(n=l[c])&&(i=e.call(n,n.__data__,c,s))?("__data__"in n&&(i.__data__=n.__data__),jr(i,c,a,n.__transition__[a]),t.push(i)):t.push(null)}return kr(r,a)},Il.selectAll=function(e){var t,i,n,a,r,s=this.id,o=[];e=v(e);for(var l=-1,c=this.length;++l<c;)for(var u=this[l],h=-1,f=u.length;++h<f;)if(n=u[h]){r=n.__transition__[s],i=e.call(n,n.__data__,h,l),o.push(t=[]);for(var d=-1,p=i.length;++d<p;)(a=i[d])&&jr(a,d,s,r),t.push(a)}return kr(o,s)},Il.filter=function(e){var t,i,n,a=[];"function"!=typeof e&&(e=M(e));for(var r=0,s=this.length;s>r;r++){a.push(t=[]);for(var i=this[r],o=0,l=i.length;l>o;o++)(n=i[o])&&e.call(n,n.__data__,o)&&t.push(n)}return kr(a,this.id,this.time).ease(this.ease())},Il.tween=function(e,t){var i=this.id;return arguments.length<2?this.node().__transition__[i].tween.get(e):F(this,null==t?function(t){t.__transition__[i].tween.remove(e)}:function(n){n.__transition__[i].tween.set(e,t)})},Il.attr=function(e,t){function i(){this.removeAttribute(o)}function n(){this.removeAttributeNS(o.space,o.local)}function a(e){return null==e?i:(e+="",function(){var t,i=this.getAttribute(o);return i!==e&&(t=s(i,e),function(e){this.setAttribute(o,t(e))})})}function r(e){return null==e?n:(e+="",function(){var t,i=this.getAttributeNS(o.space,o.local);return i!==e&&(t=s(i,e),function(e){this.setAttributeNS(o.space,o.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var s="transform"==e?Un:xn,o=gs.ns.qualify(e);return Cr(this,"attr."+e,t,o.local?r:a)},Il.attrTween=function(e,t){function i(e,i){var n=t.call(this,e,i,this.getAttribute(a));return n&&function(e){this.setAttribute(a,n(e))}}function n(e,i){var n=t.call(this,e,i,this.getAttributeNS(a.space,a.local));return n&&function(e){this.setAttributeNS(a.space,a.local,n(e))}}var a=gs.ns.qualify(e);return this.tween("attr."+e,a.local?n:i)},Il.style=function(e,t,i){function n(){this.style.removeProperty(e)}function a(t){return null==t?n:(t+="",function(){var n,a=ys.getComputedStyle(this,null).getPropertyValue(e);return a!==t&&(n=xn(a,t),function(t){this.style.setProperty(e,n(t),i)})})}var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t="");for(i in e)this.style(i,e[i],t);return this}i=""}return Cr(this,"style."+e,t,a)},Il.styleTween=function(e,t,i){function n(n,a){var r=t.call(this,n,a,ys.getComputedStyle(this,null).getPropertyValue(e));return r&&function(t){this.style.setProperty(e,r(t),i)}}return arguments.length<3&&(i=""),this.tween("style."+e,n)},Il.text=function(e){return Cr(this,"text",e,Sr)},Il.remove=function(){return this.each("end.transition",function(){var e;!this.__transition__&&(e=this.parentNode)&&e.removeChild(this)})},Il.ease=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].ease:("function"!=typeof e&&(e=gs.ease.apply(gs,arguments)),F(this,function(i){i.__transition__[t].ease=e}))},Il.delay=function(e){var t=this.id;return F(this,"function"==typeof e?function(i,n,a){i.__transition__[t].delay=0|e.call(i,i.__data__,n,a)}:(e|=0,function(i){i.__transition__[t].delay=e}))},Il.duration=function(e){var t=this.id;return F(this,"function"==typeof e?function(i,n,a){i.__transition__[t].duration=Math.max(1,0|e.call(i,i.__data__,n,a))}:(e=Math.max(1,0|e),function(i){i.__transition__[t].duration=e}))},Il.each=function(e,t){var i=this.id;if(arguments.length<2){var n=Bl,a=Pl;Pl=i,F(this,function(t,n,a){Bl=t.__transition__[i],e.call(t,t.__data__,n,a)}),Bl=n,Pl=a}else F(this,function(n){var a=n.__transition__[i];(a.event||(a.event=gs.dispatch("start","end"))).on(e,t)});return this},Il.transition=function(){for(var e,t,i,n,a=this.id,r=++Ll,s=[],o=0,l=this.length;l>o;o++){s.push(e=[]);for(var t=this[o],c=0,u=t.length;u>c;c++)(i=t[c])&&(n=Object.create(i.__transition__[a]),n.delay+=n.duration,jr(i,c,r,n)),e.push(i)}return kr(s,r)},gs.svg.axis=function(){function e(e){e.each(function(){var e,h=gs.select(this),f=null==c?i.ticks?i.ticks.apply(i,l):i.domain():c,d=null==t?i.tickFormat?i.tickFormat.apply(i,l):String:t,p=Tr(i,f,u),m=h.selectAll(".tick.minor").data(p,String),g=m.enter().insert("line",".tick").attr("class","tick minor").style("opacity",1e-6),b=gs.transition(m.exit()).style("opacity",1e-6).remove(),v=gs.transition(m).style("opacity",1),y=h.selectAll(".tick.major").data(f,String),w=y.enter().insert("g",".domain").attr("class","tick major").style("opacity",1e-6),_=gs.transition(y.exit()).style("opacity",1e-6).remove(),x=gs.transition(y).style("opacity",1),k=Ua(i),C=h.selectAll(".domain").data([0]),S=(C.enter().append("path").attr("class","domain"),gs.transition(C)),j=i.copy(),E=this.__chart__||j;this.__chart__=j,w.append("line"),w.append("text");var M=w.select("line"),T=x.select("line"),F=y.select("text").text(d),D=w.select("text"),A=x.select("text");switch(n){case"bottom":e=Er,g.attr("y2",r),v.attr("x2",0).attr("y2",r),M.attr("y2",a),D.attr("y",Math.max(a,0)+o),T.attr("x2",0).attr("y2",a),A.attr("x",0).attr("y",Math.max(a,0)+o),F.attr("dy",".71em").style("text-anchor","middle"),S.attr("d","M"+k[0]+","+s+"V0H"+k[1]+"V"+s);break;case"top":e=Er,g.attr("y2",-r),v.attr("x2",0).attr("y2",-r),M.attr("y2",-a),D.attr("y",-(Math.max(a,0)+o)),T.attr("x2",0).attr("y2",-a),A.attr("x",0).attr("y",-(Math.max(a,0)+o)),F.attr("dy","0em").style("text-anchor","middle"),S.attr("d","M"+k[0]+","+-s+"V0H"+k[1]+"V"+-s);break;case"left":e=Mr,g.attr("x2",-r),v.attr("x2",-r).attr("y2",0),M.attr("x2",-a),D.attr("x",-(Math.max(a,0)+o)),T.attr("x2",-a).attr("y2",0),A.attr("x",-(Math.max(a,0)+o)).attr("y",0),F.attr("dy",".32em").style("text-anchor","end"),S.attr("d","M"+-s+","+k[0]+"H0V"+k[1]+"H"+-s);break;case"right":e=Mr,g.attr("x2",r),v.attr("x2",r).attr("y2",0),M.attr("x2",a),D.attr("x",Math.max(a,0)+o),T.attr("x2",a).attr("y2",0),A.attr("x",Math.max(a,0)+o).attr("y",0),F.attr("dy",".32em").style("text-anchor","start"),S.attr("d","M"+s+","+k[0]+"H0V"+k[1]+"H"+s)}if(i.rangeBand){var P=j.rangeBand()/2,B=function(e){return j(e)+P};w.call(e,B),x.call(e,B)}else w.call(e,E),x.call(e,j),_.call(e,j),g.call(e,E),v.call(e,j),b.call(e,j)})}var t,i=gs.scale.linear(),n=Ql,a=6,r=6,s=6,o=3,l=[10],c=null,u=0;return e.scale=function(t){return arguments.length?(i=t,e):i},e.orient=function(t){return arguments.length?(n=t in $l?t+"":Ql,e):n},e.ticks=function(){return arguments.length?(l=arguments,e):l},e.tickValues=function(t){return arguments.length?(c=t,e):c},e.tickFormat=function(i){return arguments.length?(t=i,e):t},e.tickSize=function(t,i){if(!arguments.length)return a;var n=arguments.length-1;return a=+t,r=n>1?+i:a,s=n>0?+arguments[n]:a,e},e.tickPadding=function(t){return arguments.length?(o=+t,e):o},e.tickSubdivide=function(t){return arguments.length?(u=+t,e):u},e};var Ql="bottom",$l={top:1,right:1,bottom:1,left:1};gs.svg.brush=function(){function e(r){r.each(function(){var r,s=gs.select(this),u=s.selectAll(".background").data([0]),h=s.selectAll(".extent").data([0]),f=s.selectAll(".resize").data(c,String);s.style("pointer-events","all").on("mousedown.brush",a).on("touchstart.brush",a),u.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),h.enter().append("rect").attr("class","extent").style("cursor","move"),f.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Ol[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null
}).attr("width",6).attr("height",6).style("visibility","hidden"),f.style("display",e.empty()?"none":null),f.exit().remove(),o&&(r=Ua(o),u.attr("x",r[0]).attr("width",r[1]-r[0]),i(s)),l&&(r=Ua(l),u.attr("y",r[0]).attr("height",r[1]-r[0]),n(s)),t(s)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+u[+/e$/.test(e)][0]+","+u[+/^s/.test(e)][1]+")"})}function i(e){e.select(".extent").attr("x",u[0][0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",u[1][0]-u[0][0])}function n(e){e.select(".extent").attr("y",u[0][1]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",u[1][1]-u[0][1])}function a(){function a(){var e=gs.event.changedTouches;return e?gs.touches(y,e)[0]:gs.mouse(y)}function c(){32==gs.event.keyCode&&(j||(b=null,M[0]-=u[1][0],M[1]-=u[1][1],j=2),d())}function f(){32==gs.event.keyCode&&2==j&&(M[0]+=u[1][0],M[1]+=u[1][1],j=0,d())}function p(){var e=a(),r=!1;v&&(e[0]+=v[0],e[1]+=v[1]),j||(gs.event.altKey?(b||(b=[(u[0][0]+u[1][0])/2,(u[0][1]+u[1][1])/2]),M[0]=u[+(e[0]<b[0])][0],M[1]=u[+(e[1]<b[1])][1]):b=null),C&&m(e,o,0)&&(i(x),r=!0),S&&m(e,l,1)&&(n(x),r=!0),r&&(t(x),_({type:"brush",mode:j?"move":"resize"}))}function m(e,t,i){var n,a,s=Ua(t),o=s[0],l=s[1],c=M[i],f=u[1][i]-u[0][i];return j&&(o-=c,l-=f+c),n=h[i]?Math.max(o,Math.min(l,e[i])):e[i],j?a=(n+=c)+f:(b&&(c=Math.max(o,Math.min(l,2*b[i]-n))),n>c?(a=n,n=c):a=c),u[0][i]!==n||u[1][i]!==a?(r=null,u[0][i]=n,u[1][i]=a,!0):void 0}function g(){p(),x.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),gs.select("body").style("cursor",null),T.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),E(),_({type:"brushend"})}var b,v,y=this,w=gs.select(gs.event.target),_=s.of(y,arguments),x=gs.select(y),k=w.datum(),C=!/^(n|s)$/.test(k)&&o,S=!/^(e|w)$/.test(k)&&l,j=w.classed("extent"),E=q(),M=a(),T=gs.select(ys).on("keydown.brush",c).on("keyup.brush",f);if(gs.event.changedTouches?T.on("touchmove.brush",p).on("touchend.brush",g):T.on("mousemove.brush",p).on("mouseup.brush",g),j)M[0]=u[0][0]-M[0],M[1]=u[0][1]-M[1];else if(k){var F=+/w$/.test(k),D=+/^n/.test(k);v=[u[1-F][0]-M[0],u[1-D][1]-M[1]],M[0]=u[F][0],M[1]=u[D][1]}else gs.event.altKey&&(b=M.slice());x.style("pointer-events","none").selectAll(".resize").style("display",null),gs.select("body").style("cursor",w.style("cursor")),_({type:"brushstart"}),p()}var r,s=m(e,"brushstart","brush","brushend"),o=null,l=null,c=Hl[0],u=[[0,0],[0,0]],h=[!0,!0];return e.x=function(t){return arguments.length?(o=t,c=Hl[!o<<1|!l],e):o},e.y=function(t){return arguments.length?(l=t,c=Hl[!o<<1|!l],e):l},e.clamp=function(t){return arguments.length?(o&&l?h=[!!t[0],!!t[1]]:(o||l)&&(h[+!o]=!!t),e):o&&l?h:o||l?h[+!o]:null},e.extent=function(t){var i,n,a,s,c;return arguments.length?(r=[[0,0],[0,0]],o&&(i=t[0],n=t[1],l&&(i=i[0],n=n[0]),r[0][0]=i,r[1][0]=n,o.invert&&(i=o(i),n=o(n)),i>n&&(c=i,i=n,n=c),u[0][0]=0|i,u[1][0]=0|n),l&&(a=t[0],s=t[1],o&&(a=a[1],s=s[1]),r[0][1]=a,r[1][1]=s,l.invert&&(a=l(a),s=l(s)),a>s&&(c=a,a=s,s=c),u[0][1]=0|a,u[1][1]=0|s),e):(t=r||u,o&&(i=t[0][0],n=t[1][0],r||(i=u[0][0],n=u[1][0],o.invert&&(i=o.invert(i),n=o.invert(n)),i>n&&(c=i,i=n,n=c))),l&&(a=t[0][1],s=t[1][1],r||(a=u[0][1],s=u[1][1],l.invert&&(a=l.invert(a),s=l.invert(s)),a>s&&(c=a,a=s,s=c))),o&&l?[[i,a],[n,s]]:o?[i,n]:l&&[a,s])},e.clear=function(){return r=null,u[0][0]=u[0][1]=u[1][0]=u[1][1]=0,e},e.empty=function(){return o&&u[0][0]===u[1][0]||l&&u[0][1]===u[1][1]},gs.rebind(e,s,"on")};var Ol={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Hl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];gs.time={};var Rl=Date,zl=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Fr.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ul.setUTCDate.apply(this._,arguments)},setDay:function(){Ul.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ul.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ul.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ul.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ul.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ul.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ul.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ul.setTime.apply(this._,arguments)}};var Ul=Date.prototype,Wl="%a %b %e %X %Y",Kl="%m/%d/%Y",Xl="%H:%M:%S",Vl=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Yl=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Zl=["January","February","March","April","May","June","July","August","September","October","November","December"],Jl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];gs.time.year=Dr(function(e){return e=gs.time.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),gs.time.years=gs.time.year.range,gs.time.years.utc=gs.time.year.utc.range,gs.time.day=Dr(function(e){var t=new Rl(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),gs.time.days=gs.time.day.range,gs.time.days.utc=gs.time.day.utc.range,gs.time.dayOfYear=function(e){var t=gs.time.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},zl.forEach(function(e,t){e=e.toLowerCase(),t=7-t;var i=gs.time[e]=Dr(function(e){return(e=gs.time.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var i=gs.time.year(e).getDay();return Math.floor((gs.time.dayOfYear(e)+(i+t)%7)/7)-(i!==t)});gs.time[e+"s"]=i.range,gs.time[e+"s"].utc=i.utc.range,gs.time[e+"OfYear"]=function(e){var i=gs.time.year(e).getDay();return Math.floor((gs.time.dayOfYear(e)+(i+t)%7)/7)}}),gs.time.week=gs.time.sunday,gs.time.weeks=gs.time.sunday.range,gs.time.weeks.utc=gs.time.sunday.utc.range,gs.time.weekOfYear=gs.time.sundayOfYear,gs.time.format=function(e){function t(t){for(var n,a,r,s=[],o=-1,l=0;++o<i;)37===e.charCodeAt(o)&&(s.push(e.substring(l,o)),null!=(a=lc[n=e.charAt(++o)])&&(n=e.charAt(++o)),(r=cc[n])&&(n=r(t,null==a?"e"===n?" ":"0":a)),s.push(n),l=o+1);return s.push(e.substring(l,o)),s.join("")}var i=e.length;return t.parse=function(t){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},n=Pr(i,e,t,0);if(n!=t.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var a=new Rl;return"j"in i?a.setFullYear(i.y,0,i.j):"w"in i&&("W"in i||"U"in i)?(a.setFullYear(i.y,0,1),a.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(a.getDay()+5)%7:i.w+7*i.U-(a.getDay()+6)%7)):a.setFullYear(i.y,i.m,i.d),a.setHours(i.H,i.M,i.S,i.L),a},t.toString=function(){return e},t};var Gl=Br(Vl),ec=Nr(Vl),tc=Br(Yl),ic=Nr(Yl),nc=Br(Zl),ac=Nr(Zl),rc=Br(Jl),sc=Nr(Jl),oc=/^%/,lc={"-":"",_:" ",0:"0"},cc={a:function(e){return Yl[e.getDay()]},A:function(e){return Vl[e.getDay()]},b:function(e){return Jl[e.getMonth()]},B:function(e){return Zl[e.getMonth()]},c:gs.time.format(Wl),d:function(e,t){return qr(e.getDate(),t,2)},e:function(e,t){return qr(e.getDate(),t,2)},H:function(e,t){return qr(e.getHours(),t,2)},I:function(e,t){return qr(e.getHours()%12||12,t,2)},j:function(e,t){return qr(1+gs.time.dayOfYear(e),t,3)},L:function(e,t){return qr(e.getMilliseconds(),t,3)},m:function(e,t){return qr(e.getMonth()+1,t,2)},M:function(e,t){return qr(e.getMinutes(),t,2)},p:function(e){return e.getHours()>=12?"PM":"AM"},S:function(e,t){return qr(e.getSeconds(),t,2)},U:function(e,t){return qr(gs.time.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return qr(gs.time.mondayOfYear(e),t,2)},x:gs.time.format(Kl),X:gs.time.format(Xl),y:function(e,t){return qr(e.getFullYear()%100,t,2)},Y:function(e,t){return qr(e.getFullYear()%1e4,t,4)},Z:as,"%":function(){return"%"}},uc={a:Ir,A:Lr,b:Hr,B:Rr,c:zr,d:Zr,e:Zr,H:Gr,I:Gr,j:Jr,L:is,m:Yr,M:es,p:ns,S:ts,U:$r,w:Qr,W:Or,x:Ur,X:Wr,y:Xr,Y:Kr,"%":rs},hc=/^\s*\d+/,fc=gs.map({am:0,pm:1});gs.time.format.utc=function(e){function t(e){try{Rl=Fr;var t=new Rl;return t._=e,i(t)}finally{Rl=Date}}var i=gs.time.format(e);return t.parse=function(e){try{Rl=Fr;var t=i.parse(e);return t&&t._}finally{Rl=Date}},t.toString=i.toString,t};var dc=gs.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");gs.time.format.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ss:dc,ss.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},ss.toString=dc.toString,gs.time.second=Dr(function(e){return new Rl(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),gs.time.seconds=gs.time.second.range,gs.time.seconds.utc=gs.time.second.utc.range,gs.time.minute=Dr(function(e){return new Rl(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),gs.time.minutes=gs.time.minute.range,gs.time.minutes.utc=gs.time.minute.utc.range,gs.time.hour=Dr(function(e){var t=e.getTimezoneOffset()/60;return new Rl(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),gs.time.hours=gs.time.hour.range,gs.time.hours.utc=gs.time.hour.utc.range,gs.time.month=Dr(function(e){return e=gs.time.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),gs.time.months=gs.time.month.range,gs.time.months.utc=gs.time.month.utc.range;var pc=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],mc=[[gs.time.second,1],[gs.time.second,5],[gs.time.second,15],[gs.time.second,30],[gs.time.minute,1],[gs.time.minute,5],[gs.time.minute,15],[gs.time.minute,30],[gs.time.hour,1],[gs.time.hour,3],[gs.time.hour,6],[gs.time.hour,12],[gs.time.day,1],[gs.time.day,2],[gs.time.week,1],[gs.time.month,1],[gs.time.month,3],[gs.time.year,1]],gc=[[gs.time.format("%Y"),Ht],[gs.time.format("%B"),function(e){return e.getMonth()}],[gs.time.format("%b %d"),function(e){return 1!=e.getDate()}],[gs.time.format("%a %d"),function(e){return e.getDay()&&1!=e.getDate()}],[gs.time.format("%I %p"),function(e){return e.getHours()}],[gs.time.format("%I:%M"),function(e){return e.getMinutes()}],[gs.time.format(":%S"),function(e){return e.getSeconds()}],[gs.time.format(".%L"),function(e){return e.getMilliseconds()}]],bc=gs.scale.linear(),vc=cs(gc);mc.year=function(e,t){return bc.domain(e.map(hs)).ticks(t).map(us)},gs.time.scale=function(){return os(gs.scale.linear(),mc,vc)};var yc=mc.map(function(e){return[e[0].utc,e[1]]}),wc=[[gs.time.format.utc("%Y"),Ht],[gs.time.format.utc("%B"),function(e){return e.getUTCMonth()}],[gs.time.format.utc("%b %d"),function(e){return 1!=e.getUTCDate()}],[gs.time.format.utc("%a %d"),function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],[gs.time.format.utc("%I %p"),function(e){return e.getUTCHours()}],[gs.time.format.utc("%I:%M"),function(e){return e.getUTCMinutes()}],[gs.time.format.utc(":%S"),function(e){return e.getUTCSeconds()}],[gs.time.format.utc(".%L"),function(e){return e.getUTCMilliseconds()}]],_c=cs(wc);return yc.year=function(e,t){return bc.domain(e.map(ds)).ticks(t).map(fs)},gs.time.scale.utc=function(){return os(gs.scale.linear(),yc,_c)},gs.text=pt(function(e){return e.responseText}),gs.json=function(e,t){return mt(e,"application/json",ps,t)},gs.html=function(e,t){return mt(e,"text/html",ms,t)},gs.xml=pt(function(e){return e.responseXML}),gs}();