/* ==========================================================
 * bootstrap-maxlength.js v1.3.7
 * 
 * Copyright (c) 2013 Maurizio Napoleoni; 
 *
 * Licensed under the terms of the MIT license.
 * See: https://github.com/mimo84/bootstrap-maxlength/blob/master/LICENSE
 * ========================================================== */
(function(){!function(e){"use strict";e.fn.extend({maxlength:function(t,i){function n(e){var t=e.val(),i=t.match(/\n/g),n=i?i.length:0;return e.val().length+n}function a(e,i,a){var r=!0;return!t.alwaysShow&&a-n(e)>i&&(r=!1),r}function r(e,t){var i=t-n(e);return i}function s(e){e.css({display:"block"})}function o(e){e.css({display:"none"})}function l(e,i){var n="";return t.preText&&(n+=t.preText),t.showMaxLength?n=n+i+t.separator+e:n+=i,t.postText&&(n+=t.postText),n}function c(e,i,n,r){r.html(l(n,e)),e>0?a(i,t.threshold,n)?s(r.removeClass(t.limitReachedClass).addClass(t.warningClass)):o(r):s(r.removeClass(t.warningClass).addClass(t.limitReachedClass))}function h(t){var i=t[0];return e.extend({},"function"==typeof i.getBoundingClientRect?i.getBoundingClientRect():{width:i.offsetWidth,height:i.offsetHeight},t.offset())}function u(e,i){var n=h(e),a=e.outerWidth(),r=i.outerWidth(),s=i.width(),o=i.height();switch(t.placement){case"bottom":i.css({top:n.top+n.height,left:n.left+n.width/2-s/2});break;case"top":i.css({top:n.top-o,left:n.left+n.width/2-s/2});break;case"left":i.css({top:n.top+n.height/2-o/2,left:n.left-s});break;case"right":i.css({top:n.top+n.height/2-o/2,left:n.left+n.width});break;case"bottom-right":i.css({top:n.top+n.height,left:n.left+n.width});break;case"top-right":i.css({top:n.top-o,left:n.left+a});break;case"top-left":i.css({top:n.top-o,left:n.left-r});break;case"bottom-left":i.css({top:n.top+e.outerHeight(),left:n.left-r});break;case"centered-right":i.css({top:n.top+o/2,left:n.left+a-r-3})}}function f(e){return e.attr("maxlength")||e.attr("size")}var d=e("body"),p={alwaysShow:!1,threshold:10,warningClass:"badge badge-success",limitReachedClass:"badge badge-important",separator:" / ",preText:"",postText:"",showMaxLength:!0,placement:"bottom",validate:!1};return e.isFunction(t)&&!i&&(i=t,t={}),t=e.extend(p,t),this.each(function(){var i=e(this),n=f(i),a=e("<span></span>").css({display:"none",position:"absolute",whiteSpace:"nowrap",zIndex:999}).html(l(n,"0"));i.is("textarea")&&(i.data("maxlenghtsizex",i.outerWidth()),i.data("maxlenghtsizey",i.outerHeight()),i.mouseup(function(){(i.outerWidth()!==i.data("maxlenghtsizex")||i.outerHeight()!==i.data("maxlenghtsizey"))&&u(i,a),i.data("maxlenghtsizex",i.outerWidth()),i.data("maxlenghtsizey",i.outerHeight())})),d.append(a),i.focus(function(){var e=r(i,f(i));c(e,i,n,a),u(i,a)}),i.blur(function(){a.css("display","none")}),i.keyup(function(){var e=r(i,f(i)),s=!0;return t.validate&&0>e?s=!1:c(e,i,n,a),s}),i.keydown(function(e){var t=r(i,f(i));return 0>=t&&46!==e.keyCode&&8!==e.keyCode?!1:void 0})})}})}(jQuery)}).call(this);