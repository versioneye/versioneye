/* ==========================================================
 * bootstrap-maxlength.js v1.3.7
 * 
 * Copyright (c) 2013 Maurizio Napoleoni; 
 *
 * Licensed under the terms of the MIT license.
 * See: https://github.com/mimo84/bootstrap-maxlength/blob/master/LICENSE
 * ========================================================== */
(function(){!function(e){"use strict";e.fn.extend({maxlength:function(t,n){function i(e){var t=e.val(),n=t.match(/\n/g),i=n?n.length:0;return e.val().length+i}function a(e,n,a){var r=!0;return!t.alwaysShow&&a-i(e)>n&&(r=!1),r}function r(e,t){var n=t-i(e);return n}function o(e){e.css({display:"block"})}function s(e){e.css({display:"none"})}function l(e,n){var i="";return t.preText&&(i+=t.preText),t.showMaxLength?i=i+n+t.separator+e:i+=n,t.postText&&(i+=t.postText),i}function c(e,n,i,r){r.html(l(i,e)),e>0?a(n,t.threshold,i)?o(r.removeClass(t.limitReachedClass).addClass(t.warningClass)):s(r):o(r.removeClass(t.warningClass).addClass(t.limitReachedClass))}function u(t){var n=t[0];return e.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():{width:n.offsetWidth,height:n.offsetHeight},t.offset())}function h(e,n){var i=u(e),a=e.outerWidth(),r=n.outerWidth(),o=n.width(),s=n.height();switch(t.placement){case"bottom":n.css({top:i.top+i.height,left:i.left+i.width/2-o/2});break;case"top":n.css({top:i.top-s,left:i.left+i.width/2-o/2});break;case"left":n.css({top:i.top+i.height/2-s/2,left:i.left-o});break;case"right":n.css({top:i.top+i.height/2-s/2,left:i.left+i.width});break;case"bottom-right":n.css({top:i.top+i.height,left:i.left+i.width});break;case"top-right":n.css({top:i.top-s,left:i.left+a});break;case"top-left":n.css({top:i.top-s,left:i.left-r});break;case"bottom-left":n.css({top:i.top+e.outerHeight(),left:i.left-r});break;case"centered-right":n.css({top:i.top+s/2,left:i.left+a-r-3})}}function f(e){return e.attr("maxlength")||e.attr("size")}var d=e("body"),p={alwaysShow:!1,threshold:10,warningClass:"badge badge-success",limitReachedClass:"badge badge-important",separator:" / ",preText:"",postText:"",showMaxLength:!0,placement:"bottom",validate:!1};return e.isFunction(t)&&!n&&(n=t,t={}),t=e.extend(p,t),this.each(function(){var n=e(this),i=f(n),a=e("<span></span>").css({display:"none",position:"absolute",whiteSpace:"nowrap",zIndex:999}).html(l(i,"0"));n.is("textarea")&&(n.data("maxlenghtsizex",n.outerWidth()),n.data("maxlenghtsizey",n.outerHeight()),n.mouseup(function(){(n.outerWidth()!==n.data("maxlenghtsizex")||n.outerHeight()!==n.data("maxlenghtsizey"))&&h(n,a),n.data("maxlenghtsizex",n.outerWidth()),n.data("maxlenghtsizey",n.outerHeight())})),d.append(a),n.focus(function(){var e=r(n,f(n));c(e,n,i,a),h(n,a)}),n.blur(function(){a.css("display","none")}),n.keyup(function(){var e=r(n,f(n)),o=!0;return t.validate&&0>e?o=!1:c(e,n,i,a),o}),n.keydown(function(e){var t=r(n,f(n));return 0>=t&&46!==e.keyCode&&8!==e.keyCode?!1:void 0})})}})}(jQuery)}).call(this);