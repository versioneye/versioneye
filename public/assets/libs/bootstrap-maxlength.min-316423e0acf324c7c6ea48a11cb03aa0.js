/* ==========================================================
 * bootstrap-maxlength.js v1.3.7
 * 
 * Copyright (c) 2013 Maurizio Napoleoni; 
 *
 * Licensed under the terms of the MIT license.
 * See: https://github.com/mimo84/bootstrap-maxlength/blob/master/LICENSE
 * ========================================================== */
(function(){!function(e){"use strict";e.fn.extend({maxlength:function(t,n){function i(e){var t=e.val(),n=t.match(/\n/g),i=n?n.length:0;return e.val().length+i}function r(e,n,r){var o=!0;return!t.alwaysShow&&r-i(e)>n&&(o=!1),o}function o(e,t){var n=t-i(e);return n}function s(e){e.css({display:"block"})}function a(e){e.css({display:"none"})}function l(e,n){var i="";return t.preText&&(i+=t.preText),t.showMaxLength?i=i+n+t.separator+e:i+=n,t.postText&&(i+=t.postText),i}function u(e,n,i,o){o.html(l(i,e)),e>0?r(n,t.threshold,i)?s(o.removeClass(t.limitReachedClass).addClass(t.warningClass)):a(o):s(o.removeClass(t.warningClass).addClass(t.limitReachedClass))}function c(t){var n=t[0];return e.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():{width:n.offsetWidth,height:n.offsetHeight},t.offset())}function h(e,n){var i=c(e),r=e.outerWidth(),o=n.outerWidth(),s=n.width(),a=n.height();switch(t.placement){case"bottom":n.css({top:i.top+i.height,left:i.left+i.width/2-s/2});break;case"top":n.css({top:i.top-a,left:i.left+i.width/2-s/2});break;case"left":n.css({top:i.top+i.height/2-a/2,left:i.left-s});break;case"right":n.css({top:i.top+i.height/2-a/2,left:i.left+i.width});break;case"bottom-right":n.css({top:i.top+i.height,left:i.left+i.width});break;case"top-right":n.css({top:i.top-a,left:i.left+r});break;case"top-left":n.css({top:i.top-a,left:i.left-o});break;case"bottom-left":n.css({top:i.top+e.outerHeight(),left:i.left-o});break;case"centered-right":n.css({top:i.top+a/2,left:i.left+r-o-3})}}function p(e){return e.attr("maxlength")||e.attr("size")}var d=e("body"),f={alwaysShow:!1,threshold:10,warningClass:"badge badge-success",limitReachedClass:"badge badge-important",separator:" / ",preText:"",postText:"",showMaxLength:!0,placement:"bottom",validate:!1};return e.isFunction(t)&&!n&&(n=t,t={}),t=e.extend(f,t),this.each(function(){var n=e(this),i=p(n),r=e("<span></span>").css({display:"none",position:"absolute",whiteSpace:"nowrap",zIndex:999}).html(l(i,"0"));n.is("textarea")&&(n.data("maxlenghtsizex",n.outerWidth()),n.data("maxlenghtsizey",n.outerHeight()),n.mouseup(function(){(n.outerWidth()!==n.data("maxlenghtsizex")||n.outerHeight()!==n.data("maxlenghtsizey"))&&h(n,r),n.data("maxlenghtsizex",n.outerWidth()),n.data("maxlenghtsizey",n.outerHeight())})),d.append(r),n.focus(function(){var e=o(n,p(n));u(e,n,i,r),h(n,r)}),n.blur(function(){r.css("display","none")}),n.keyup(function(){var e=o(n,p(n)),s=!0;return t.validate&&0>e?s=!1:u(e,n,i,r),s}),n.keydown(function(e){var t=o(n,p(n));return 0>=t&&46!==e.keyCode&&8!==e.keyCode?!1:void 0})})}})}(jQuery)}).call(this);