d3=function(){function e(e){return null!=e&&!isNaN(e)}function t(e){return e.length}function n(e){for(var t=1;e*t%1;)t*=10;return t}function i(e,t){try{for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}catch(i){e.prototype=t}}function a(){}function r(){}function o(e,t,n){return function(){var i=n.apply(t,arguments);return i===t?e:i}}function s(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.substring(1);for(var n=0,i=Bo.length;i>n;++n){var a=Bo[n]+t;if(a in e)return a}}function l(e){for(var t=-1,n=e.length,i=[];++t<n;)i.push(e[t]);return i}function c(e){return Array.prototype.slice.call(e)}function u(){}function h(){}function f(e){function t(){for(var t,i=n,a=-1,r=i.length;++a<r;)(t=i[a].on)&&t.apply(this,arguments);return e}var n=[],i=new a;return t.on=function(t,a){var r,o=i.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,r=n.indexOf(o)).concat(n.slice(r+1)),i.remove(t)),a&&n.push(i.set(t,{on:a})),e)},t}function d(){bo.event.preventDefault()}function p(){for(var e,t=bo.event;e=t.sourceEvent;)t=e;return t}function m(e){for(var t=new h,n=0,i=arguments.length;++n<i;)t[arguments[n]]=f(t);return t.of=function(n,i){return function(a){try{var r=a.sourceEvent=bo.event;a.target=e,bo.event=a,t[a.type].apply(n,i)}finally{bo.event=r}}},t}function g(e){return Do(e,Io),e}function b(e){return"function"==typeof e?e:function(){return Po(e,this)}}function v(e){return"function"==typeof e?e:function(){return Lo(e,this)}}function y(e,t){function n(){this.removeAttribute(e)}function i(){this.removeAttributeNS(e.space,e.local)}function a(){this.setAttribute(e,t)}function r(){this.setAttributeNS(e.space,e.local,t)}function o(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function s(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=bo.ns.qualify(e),null==t?e.local?i:n:"function"==typeof t?e.local?s:o:e.local?r:a}function w(e){return e.trim().replace(/\s+/g," ")}function _(e){return new RegExp("(?:^|\\s+)"+bo.requote(e)+"(?:\\s+|$)","g")}function k(e,t){function n(){for(var n=-1;++n<a;)e[n](this,t)}function i(){for(var n=-1,i=t.apply(this,arguments);++n<a;)e[n](this,i)}e=e.trim().split(/\s+/).map(x);var a=e.length;return"function"==typeof t?i:n}function x(e){var t=_(e);return function(n,i){if(a=n.classList)return i?a.add(e):a.remove(e);var a=n.getAttribute("class")||"";i?(t.lastIndex=0,t.test(a)||n.setAttribute("class",w(a+" "+e))):n.setAttribute("class",w(a.replace(t," ")))}}function C(e,t,n){function i(){this.style.removeProperty(e)}function a(){this.style.setProperty(e,t,n)}function r(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}return null==t?i:"function"==typeof t?r:a}function S(e,t){function n(){delete this[e]}function i(){this[e]=t}function a(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?a:i}function j(e){return"function"==typeof e?e:(e=bo.ns.qualify(e)).local?function(){return vo.createElementNS(e.space,e.local)}:function(){return vo.createElementNS(this.namespaceURI,e)}}function F(e){return{__data__:e}}function E(e){return function(){return Qo(this,e)}}function M(e){return arguments.length||(e=bo.ascending),function(t,n){return!t-!n||e(t.__data__,n.__data__)}}function B(e,t){for(var n=0,i=e.length;i>n;n++)for(var a,r=e[n],o=0,s=r.length;s>o;o++)(a=r[o])&&t(a,o,n);return e}function T(e){return Do(e,$o),e}function A(e){var t,n;return function(i,a,r){var o,s=e[r].update,l=s.length;for(r!=n&&(n=r,t=0),a>=t&&(t=a+1);!(o=s[t])&&++t<l;);return o}}function q(e,t,n){function i(){var t=this[o];t&&(this.removeEventListener(e,t,t.$),delete this[o])}function a(){var a=l(t,To(arguments));i.call(this),this.addEventListener(e,this[o]=a,a.$=n),a._=t}function r(){var t,n=new RegExp("^__on([^.]+)"+bo.requote(e)+"$");for(var i in this)if(t=i.match(n)){var a=this[i];this.removeEventListener(t[1],a,a.$),delete this[i]}}var o="__on"+e,s=e.indexOf("."),l=D;s>0&&(e=e.substring(0,s));var c=zo.get(e);return c&&(e=c,l=P),s?t?a:i:t?u:r}function D(e,t){return function(n){var i=bo.event;bo.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{bo.event=i}}}function P(e,t){var n=D(e,t);return function(e){var t=this,i=e.relatedTarget;i&&(i===t||8&i.compareDocumentPosition(t))||n.call(t,e)}}function L(){var e=".dragsuppress-"+ ++Uo,t="touchmove"+e,n="selectstart"+e,i="dragstart"+e,a="click"+e,r=bo.select(wo).on(t,d).on(n,d).on(i,d),o=yo.style,s=o[Ho];return o[Ho]="none",function(t){function n(){r.on(a,null)}r.on(e,null),o[Ho]=s,t&&(r.on(a,function(){d(),n()},!0),setTimeout(n,0))}}function N(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();if(0>Wo&&(wo.scrollX||wo.scrollY)){n=bo.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=n[0][0].getScreenCTM();Wo=!(a.f||a.e),n.remove()}return Wo?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}function Q(){}function I(e,t,n){return new O(e,t,n)}function O(e,t,n){this.h=e,this.s=t,this.l=n}function $(e,t,n){function i(e){return e>360?e-=360:0>e&&(e+=360),60>e?r+(o-r)*e/60:180>e?o:240>e?r+(o-r)*(240-e)/60:r}function a(e){return Math.round(255*i(e))}var r,o;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,o=.5>=n?n*(1+t):n+t-n*t,r=2*n-o,at(a(e+120),a(e),a(e-120))}function R(e){return e>0?1:0>e?-1:0}function z(e){return e>1?0:-1>e?Yo:Math.acos(e)}function H(e){return e>1?Yo/2:-1>e?-Yo/2:Math.asin(e)}function U(e){return(Math.exp(e)-Math.exp(-e))/2}function W(e){return(Math.exp(e)+Math.exp(-e))/2}function K(e){return(e=Math.sin(e/2))*e}function X(e,t,n){return new Z(e,t,n)}function Z(e,t,n){this.h=e,this.c=t,this.l=n}function V(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),Y(n,Math.cos(e*=es)*t,Math.sin(e)*t)}function Y(e,t,n){return new J(e,t,n)}function J(e,t,n){this.l=e,this.a=t,this.b=n}function G(e,t,n){var i=(e+16)/116,a=i+t/500,r=i-n/200;return a=tt(a)*as,i=tt(i)*rs,r=tt(r)*os,at(it(3.2404542*a-1.5371385*i-.4985314*r),it(-.969266*a+1.8760108*i+.041556*r),it(.0556434*a-.2040259*i+1.0572252*r))}function et(e,t,n){return e>0?X(Math.atan2(n,t)*ts,Math.sqrt(t*t+n*n),e):X(0/0,0/0,e)}function tt(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function nt(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function it(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function at(e,t,n){return new rt(e,t,n)}function rt(e,t,n){this.r=e,this.g=t,this.b=n}function ot(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function st(e,t,n){var i,a,r,o=0,s=0,l=0;if(i=/([a-z]+)\((.*)\)/i.exec(e))switch(a=i[2].split(","),i[1]){case"hsl":return n(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100);case"rgb":return t(ht(a[0]),ht(a[1]),ht(a[2]))}return(r=cs.get(e))?t(r.r,r.g,r.b):(null!=e&&"#"===e.charAt(0)&&(4===e.length?(o=e.charAt(1),o+=o,s=e.charAt(2),s+=s,l=e.charAt(3),l+=l):7===e.length&&(o=e.substring(1,3),s=e.substring(3,5),l=e.substring(5,7)),o=parseInt(o,16),s=parseInt(s,16),l=parseInt(l,16)),t(o,s,l))}function lt(e,t,n){var i,a,r=Math.min(e/=255,t/=255,n/=255),o=Math.max(e,t,n),s=o-r,l=(o+r)/2;return s?(a=.5>l?s/(o+r):s/(2-o-r),i=e==o?(t-n)/s+(n>t?6:0):t==o?(n-e)/s+2:(e-t)/s+4,i*=60):(i=0/0,a=l>0&&1>l?0:i),I(i,a,l)}function ct(e,t,n){e=ut(e),t=ut(t),n=ut(n);var i=nt((.4124564*e+.3575761*t+.1804375*n)/as),a=nt((.2126729*e+.7151522*t+.072175*n)/rs),r=nt((.0193339*e+.119192*t+.9503041*n)/os);return Y(116*a-16,500*(i-a),200*(a-r))}function ut(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function ht(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function ft(e){return"function"==typeof e?e:function(){return e}}function dt(e){return e}function pt(e){return function(t,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),mt(t,n,e,i)}}function mt(e,t,n,i){function a(){var e,t=l.status;if(!t&&l.responseText||t>=200&&300>t||304===t){try{e=n.call(r,l)}catch(i){return void o.error.call(r,i)}o.load.call(r,e)}else o.error.call(r,l)}var r={},o=bo.dispatch("progress","load","error"),s={},l=new XMLHttpRequest,c=null;return!wo.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(e)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=a:l.onreadystatechange=function(){l.readyState>3&&a()},l.onprogress=function(e){var t=bo.event;bo.event=e;try{o.progress.call(r,l)}finally{bo.event=t}},r.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?s[e]:(null==t?delete s[e]:s[e]=t+"",r)},r.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",r):t},r.responseType=function(e){return arguments.length?(c=e,r):c},r.response=function(e){return n=e,r},["get","post"].forEach(function(e){r[e]=function(){return r.send.apply(r,[e].concat(To(arguments)))}}),r.send=function(n,i,a){if(2===arguments.length&&"function"==typeof i&&(a=i,i=null),l.open(n,e,!0),null==t||"accept"in s||(s.accept=t+",*/*"),l.setRequestHeader)for(var o in s)l.setRequestHeader(o,s[o]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=c&&(l.responseType=c),null!=a&&r.on("error",a).on("load",function(e){a(null,e)}),l.send(null==i?null:i),r},r.abort=function(){return l.abort(),r},bo.rebind(r,o,"on"),null==i?r:r.get(gt(i))}function gt(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function bt(){var e=vt(),t=yt()-e;t>24?(isFinite(t)&&(clearTimeout(ds),ds=setTimeout(bt,t)),fs=0):(fs=1,ps(bt))}function vt(){for(var e=Date.now(),t=us;t;)e>=t.time&&(t.flush=t.callback(e-t.time)),t=t.next;return e}function yt(){for(var e,t=us,n=1/0;t;)t.flush?t=e?e.next=t.next:us=t.next:(t.time<n&&(n=t.time),t=(e=t).next);return hs=e,n}function wt(e,t){var n=Math.pow(10,3*Math.abs(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function _t(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function kt(e){return e+""}function xt(){}function Ct(e,t,n){var i=n.s=e+t,a=i-e,r=i-a;n.t=e-r+(t-a)}function St(e,t){e&&js.hasOwnProperty(e.type)&&js[e.type](e,t)}function jt(e,t,n){var i,a=-1,r=e.length-n;for(t.lineStart();++a<r;)i=e[a],t.point(i[0],i[1]);t.lineEnd()}function Ft(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)jt(e[n],t,1);t.polygonEnd()}function Et(){function e(e,t){e*=es,t=t*es/2+Yo/4;var n=e-i,o=Math.cos(t),s=Math.sin(t),l=r*s,c=a*o+l*Math.cos(n),u=l*Math.sin(n);Es.add(Math.atan2(u,c)),i=e,a=o,r=s}var t,n,i,a,r;Ms.point=function(o,s){Ms.point=e,i=(t=o)*es,a=Math.cos(s=(n=s)*es/2+Yo/4),r=Math.sin(s)},Ms.lineEnd=function(){e(t,n)}}function Mt(e){var t=e[0],n=e[1],i=Math.cos(n);return[i*Math.cos(t),i*Math.sin(t),Math.sin(n)]}function Bt(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Tt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function At(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function qt(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Dt(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Pt(e){return[Math.atan2(e[1],e[0]),H(e[2])]}function Lt(e,t){return Math.abs(e[0]-t[0])<Jo&&Math.abs(e[1]-t[1])<Jo}function Nt(e,t){e*=es;var n=Math.cos(t*=es);Qt(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function Qt(e,t,n){++Bs,As+=(e-As)/Bs,qs+=(t-qs)/Bs,Ds+=(n-Ds)/Bs}function It(){function e(e,a){e*=es;var r=Math.cos(a*=es),o=r*Math.cos(e),s=r*Math.sin(e),l=Math.sin(a),c=Math.atan2(Math.sqrt((c=n*l-i*s)*c+(c=i*o-t*l)*c+(c=t*s-n*o)*c),t*o+n*s+i*l);Ts+=c,Ps+=c*(t+(t=o)),Ls+=c*(n+(n=s)),Ns+=c*(i+(i=l)),Qt(t,n,i)}var t,n,i;$s.point=function(a,r){a*=es;var o=Math.cos(r*=es);t=o*Math.cos(a),n=o*Math.sin(a),i=Math.sin(r),$s.point=e,Qt(t,n,i)}}function Ot(){$s.point=Nt}function $t(){function e(e,t){e*=es;var n=Math.cos(t*=es),o=n*Math.cos(e),s=n*Math.sin(e),l=Math.sin(t),c=a*l-r*s,u=r*o-i*l,h=i*s-a*o,f=Math.sqrt(c*c+u*u+h*h),d=i*o+a*s+r*l,p=f&&-z(d)/f,m=Math.atan2(f,d);Qs+=p*c,Is+=p*u,Os+=p*h,Ts+=m,Ps+=m*(i+(i=o)),Ls+=m*(a+(a=s)),Ns+=m*(r+(r=l)),Qt(i,a,r)}var t,n,i,a,r;$s.point=function(o,s){t=o,n=s,$s.point=e,o*=es;var l=Math.cos(s*=es);i=l*Math.cos(o),a=l*Math.sin(o),r=Math.sin(s),Qt(i,a,r)},$s.lineEnd=function(){e(t,n),$s.lineEnd=Ot,$s.point=Nt}}function Rt(){return!0}function zt(e,t,n,i,a){var r=[],o=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],i=e[t];if(Lt(n,i)){a.lineStart();for(var s=0;t>s;++s)a.point((n=e[s])[0],n[1]);return void a.lineEnd()}var l={point:n,points:e,other:null,visited:!1,entry:!0,subject:!0},c={point:n,points:[n],other:l,visited:!1,entry:!1,subject:!1};l.other=c,r.push(l),o.push(c),l={point:i,points:[i],other:null,visited:!1,entry:!1,subject:!0},c={point:i,points:[i],other:l,visited:!1,entry:!0,subject:!1},l.other=c,r.push(l),o.push(c)}}),o.sort(t),Ht(r),Ht(o),r.length){if(n)for(var s=1,l=!n(o[0].point),c=o.length;c>s;++s)o[s].entry=l=!l;for(var u,h,f,d=r[0];;){for(u=d;u.visited;)if((u=u.next)===d)return;h=u.points,a.lineStart();do{if(u.visited=u.other.visited=!0,u.entry){if(u.subject)for(var s=0;s<h.length;s++)a.point((f=h[s])[0],f[1]);else i(u.point,u.next.point,1,a);u=u.next}else{if(u.subject){h=u.prev.points;for(var s=h.length;--s>=0;)a.point((f=h[s])[0],f[1])}else i(u.point,u.prev.point,-1,a);u=u.prev}u=u.other,h=u.points}while(!u.visited);a.lineEnd()}}}function Ht(e){if(t=e.length){for(var t,n,i=0,a=e[0];++i<t;)a.next=n=e[i],n.prev=a,a=n;a.next=n=e[0],n.prev=a}}function Ut(e,t,n,i){return function(a){function r(t,n){e(t,n)&&a.point(t,n)}function o(e,t){m.point(e,t)}function s(){g.point=o,m.lineStart()}function l(){g.point=r,m.lineEnd()}function c(e,t){v.point(e,t),p.push([e,t])}function u(){v.lineStart(),p=[]}function h(){c(p[0][0],p[0][1]),v.lineEnd();var e,t=v.clean(),n=b.buffer(),i=n.length;if(p.pop(),d.push(p),p=null,i){if(1&t){e=n[0];var r,i=e.length-1,o=-1;for(a.lineStart();++o<i;)a.point((r=e[o])[0],r[1]);return void a.lineEnd()}i>1&&2&t&&n.push(n.pop().concat(n.shift())),f.push(n.filter(Wt))}}var f,d,p,m=t(a),g={point:r,lineStart:s,lineEnd:l,polygonStart:function(){g.point=c,g.lineStart=u,g.lineEnd=h,f=[],d=[],a.polygonStart()},polygonEnd:function(){g.point=r,g.lineStart=s,g.lineEnd=l,f=bo.merge(f),f.length?zt(f,Xt,null,n,a):i(d)&&(a.lineStart(),n(null,null,1,a),a.lineEnd()),a.polygonEnd(),f=d=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},b=Kt(),v=t(b);return g}}function Wt(e){return e.length>1}function Kt(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:u,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Xt(e,t){return((e=e.point)[0]<0?e[1]-Yo/2-Jo:Yo/2-e[1])-((t=t.point)[0]<0?t[1]-Yo/2-Jo:Yo/2-t[1])}function Zt(e,t){var n=e[0],i=e[1],a=[Math.sin(n),-Math.cos(n),0],r=0,o=!1,s=!1,l=0;Es.reset();for(var c=0,u=t.length;u>c;++c){var h=t[c],f=h.length;if(f){for(var d=h[0],p=d[0],m=d[1]/2+Yo/4,g=Math.sin(m),b=Math.cos(m),v=1;;){v===f&&(v=0),e=h[v];var y=e[0],w=e[1]/2+Yo/4,_=Math.sin(w),k=Math.cos(w),x=y-p,C=Math.abs(x)>Yo,S=g*_;if(Es.add(Math.atan2(S*Math.sin(x),b*k+S*Math.cos(x))),Math.abs(w)<Jo&&(s=!0),r+=C?x+(x>=0?2:-2)*Yo:x,C^p>=n^y>=n){var j=Tt(Mt(d),Mt(e));Dt(j);var F=Tt(a,j);Dt(F);var E=(C^x>=0?-1:1)*H(F[2]);i>E&&(l+=C^x>=0?1:-1)}if(!v++)break;p=y,g=_,b=k,d=e}Math.abs(r)>Jo&&(o=!0)}}return(!s&&!o&&0>Es||-Jo>r)^1&l}function Vt(e){var t,n=0/0,i=0/0,a=0/0;return{lineStart:function(){e.lineStart(),t=1},point:function(r,o){var s=r>0?Yo:-Yo,l=Math.abs(r-n);Math.abs(l-Yo)<Jo?(e.point(n,i=(i+o)/2>0?Yo/2:-Yo/2),e.point(a,i),e.lineEnd(),e.lineStart(),e.point(s,i),e.point(r,i),t=0):a!==s&&l>=Yo&&(Math.abs(n-a)<Jo&&(n-=a*Jo),Math.abs(r-s)<Jo&&(r-=s*Jo),i=Yt(n,i,r,o),e.point(a,i),e.lineEnd(),e.lineStart(),e.point(s,i),t=0),e.point(n=r,i=o),a=s},lineEnd:function(){e.lineEnd(),n=i=0/0},clean:function(){return 2-t}}}function Yt(e,t,n,i){var a,r,o=Math.sin(e-n);return Math.abs(o)>Jo?Math.atan((Math.sin(t)*(r=Math.cos(i))*Math.sin(n)-Math.sin(i)*(a=Math.cos(t))*Math.sin(e))/(a*r*o)):(t+i)/2}function Jt(e,t,n,i){var a;if(null==e)a=n*Yo/2,i.point(-Yo,a),i.point(0,a),i.point(Yo,a),i.point(Yo,0),i.point(Yo,-a),i.point(0,-a),i.point(-Yo,-a),i.point(-Yo,0),i.point(-Yo,a);else if(Math.abs(e[0]-t[0])>Jo){var r=(e[0]<t[0]?1:-1)*Yo;a=n*r/2,i.point(-r,a),i.point(0,a),i.point(r,a)}else i.point(t[0],t[1])}function Gt(e){return Zt(zs,e)}function en(e){function t(e,t){return Math.cos(e)*Math.cos(t)>o}function n(e){var n,r,o,l,u;return{lineStart:function(){l=o=!1,u=1},point:function(h,f){var d,p=[h,f],m=t(h,f),g=s?m?0:a(h,f):m?a(h+(0>h?Yo:-Yo),f):0;if(!n&&(l=o=m)&&e.lineStart(),m!==o&&(d=i(n,p),(Lt(n,d)||Lt(p,d))&&(p[0]+=Jo,p[1]+=Jo,m=t(p[0],p[1]))),m!==o)u=0,m?(e.lineStart(),d=i(p,n),e.point(d[0],d[1])):(d=i(n,p),e.point(d[0],d[1]),e.lineEnd()),n=d;else if(c&&n&&s^m){var b;g&r||!(b=i(p,n,!0))||(u=0,s?(e.lineStart(),e.point(b[0][0],b[0][1]),e.point(b[1][0],b[1][1]),e.lineEnd()):(e.point(b[1][0],b[1][1]),e.lineEnd(),e.lineStart(),e.point(b[0][0],b[0][1])))}!m||n&&Lt(n,p)||e.point(p[0],p[1]),n=p,o=m,r=g},lineEnd:function(){o&&e.lineEnd(),n=null},clean:function(){return u|(l&&o)<<1}}}function i(e,t,n){var i=Mt(e),a=Mt(t),r=[1,0,0],s=Tt(i,a),l=Bt(s,s),c=s[0],u=l-c*c;if(!u)return!n&&e;var h=o*l/u,f=-o*c/u,d=Tt(r,s),p=qt(r,h),m=qt(s,f);At(p,m);var g=d,b=Bt(p,g),v=Bt(g,g),y=b*b-v*(Bt(p,p)-1);if(!(0>y)){var w=Math.sqrt(y),_=qt(g,(-b-w)/v);if(At(_,p),_=Pt(_),!n)return _;var k,x=e[0],C=t[0],S=e[1],j=t[1];x>C&&(k=x,x=C,C=k);var F=C-x,E=Math.abs(F-Yo)<Jo,M=E||Jo>F;if(!E&&S>j&&(k=S,S=j,j=k),M?E?S+j>0^_[1]<(Math.abs(_[0]-x)<Jo?S:j):S<=_[1]&&_[1]<=j:F>Yo^(x<=_[0]&&_[0]<=C)){var B=qt(g,(-b+w)/v);return At(B,p),[_,Pt(B)]}}}function a(t,n){var i=s?e:Yo-e,a=0;return-i>t?a|=1:t>i&&(a|=2),-i>n?a|=4:n>i&&(a|=8),a}function r(e){return Zt(l,e)}var o=Math.cos(e),s=o>0,l=[e,0],c=Math.abs(o)>Jo,u=jn(e,6*es);return Ut(t,n,u,r)}function tn(e,t,n,i){function a(i,a){return Math.abs(i[0]-e)<Jo?a>0?0:3:Math.abs(i[0]-n)<Jo?a>0?2:1:Math.abs(i[1]-t)<Jo?a>0?1:0:a>0?3:2}function r(e,t){return o(e.point,t.point)}function o(e,t){var n=a(e,1),i=a(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}function s(a,r){var o=r[0]-a[0],s=r[1]-a[1],l=[0,1];return Math.abs(o)<Jo&&Math.abs(s)<Jo?e<=a[0]&&a[0]<=n&&t<=a[1]&&a[1]<=i:nn(e-a[0],o,l)&&nn(a[0]-n,-o,l)&&nn(t-a[1],s,l)&&nn(a[1]-i,-s,l)?(l[1]<1&&(r[0]=a[0]+l[1]*o,r[1]=a[1]+l[1]*s),l[0]>0&&(a[0]+=l[0]*o,a[1]+=l[0]*s),!0):!1}return function(l){function c(r){var o=a(r,-1),s=u([0===o||3===o?e:n,o>1?i:t]);return s}function u(e){for(var t=0,n=y.length,i=e[1],a=0;n>a;++a)for(var r,o=1,s=y[a],l=s.length,c=s[0];l>o;++o)r=s[o],c[1]<=i?r[1]>i&&h(c,r,e)>0&&++t:r[1]<=i&&h(c,r,e)<0&&--t,c=r;return 0!==t}function h(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}function f(r,s,l,c){var u=0,h=0;if(null==r||(u=a(r,l))!==(h=a(s,l))||o(r,s)<0^l>0){do c.point(0===u||3===u?e:n,u>1?i:t);while((u=(u+l+4)%4)!==h)}else c.point(s[0],s[1])}function d(a,r){return a>=e&&n>=a&&r>=t&&i>=r}function p(e,t){d(e,t)&&l.point(e,t)}function m(){B.point=b,y&&y.push(w=[]),F=!0,j=!1,C=S=0/0}function g(){v&&(b(_,k),x&&j&&M.rejoin(),v.push(M.buffer())),B.point=p,j&&l.lineEnd()}function b(e,t){e=Math.max(-Hs,Math.min(Hs,e)),t=Math.max(-Hs,Math.min(Hs,t));var n=d(e,t);if(y&&w.push([e,t]),F)_=e,k=t,x=n,F=!1,n&&(l.lineStart(),l.point(e,t));else if(n&&j)l.point(e,t);else{var i=[C,S],a=[e,t];s(i,a)?(j||(l.lineStart(),l.point(i[0],i[1])),l.point(a[0],a[1]),n||l.lineEnd()):n&&(l.lineStart(),l.point(e,t))}C=e,S=t,j=n}var v,y,w,_,k,x,C,S,j,F,E=l,M=Kt(),B={point:p,lineStart:m,lineEnd:g,polygonStart:function(){l=M,v=[],y=[]},polygonEnd:function(){l=E,(v=bo.merge(v)).length?(l.polygonStart(),zt(v,r,c,f,l),l.polygonEnd()):u([e,t])&&(l.polygonStart(),l.lineStart(),f(null,null,1,l),l.lineEnd(),l.polygonEnd()),v=y=w=null}};return B}}function nn(e,t,n){if(Math.abs(t)<Jo)return 0>=e;var i=e/t;if(t>0){if(i>n[1])return!1;i>n[0]&&(n[0]=i)}else{if(i<n[0])return!1;i<n[1]&&(n[1]=i)}return!0}function an(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,i){return n=t.invert(n,i),n&&e.invert(n[0],n[1])}),n}function rn(e){var t=0,n=Yo/3,i=yn(e),a=i(t,n);return a.parallels=function(e){return arguments.length?i(t=e[0]*Yo/180,n=e[1]*Yo/180):[180*(t/Yo),180*(n/Yo)]},a}function on(e,t){function n(e,t){var n=Math.sqrt(r-2*a*Math.sin(t))/a;return[n*Math.sin(e*=a),o-n*Math.cos(e)]}var i=Math.sin(e),a=(i+Math.sin(t))/2,r=1+i*(2*a-i),o=Math.sqrt(r)/a;return n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/a,H((r-(e*e+n*n)*a*a)/(2*a))]},n}function sn(){function e(e,t){Ws+=a*e-i*t,i=e,a=t}var t,n,i,a;Ys.point=function(r,o){Ys.point=e,t=i=r,n=a=o},Ys.lineEnd=function(){e(t,n)}}function ln(e,t){Ks>e&&(Ks=e),e>Zs&&(Zs=e),Xs>t&&(Xs=t),t>Vs&&(Vs=t)}function cn(){function e(e,t){o.push("M",e,",",t,r)}function t(e,t){o.push("M",e,",",t),s.point=n}function n(e,t){o.push("L",e,",",t)}function i(){s.point=e}function a(){o.push("Z")}var r=un(4.5),o=[],s={point:e,lineStart:function(){s.point=t},lineEnd:i,polygonStart:function(){s.lineEnd=a},polygonEnd:function(){s.lineEnd=i,s.point=e},pointRadius:function(e){return r=un(e),s},result:function(){if(o.length){var e=o.join("");return o=[],e}}};return s}function un(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function hn(e,t){As+=e,qs+=t,++Ds}function fn(){function e(e,i){var a=e-t,r=i-n,o=Math.sqrt(a*a+r*r);Ps+=o*(t+e)/2,Ls+=o*(n+i)/2,Ns+=o,hn(t=e,n=i)}var t,n;Gs.point=function(i,a){Gs.point=e,hn(t=i,n=a)}}function dn(){Gs.point=hn}function pn(){function e(e,t){var n=e-i,r=t-a,o=Math.sqrt(n*n+r*r);Ps+=o*(i+e)/2,Ls+=o*(a+t)/2,Ns+=o,o=a*e-i*t,Qs+=o*(i+e),Is+=o*(a+t),Os+=3*o,hn(i=e,a=t)}var t,n,i,a;Gs.point=function(r,o){Gs.point=e,hn(t=i=r,n=a=o)},Gs.lineEnd=function(){e(t,n)}}function mn(e){function t(t,n){e.moveTo(t,n),e.arc(t,n,o,0,2*Yo)}function n(t,n){e.moveTo(t,n),s.point=i}function i(t,n){e.lineTo(t,n)}function a(){s.point=t}function r(){e.closePath()}var o=4.5,s={point:t,lineStart:function(){s.point=n},lineEnd:a,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=a,s.point=t},pointRadius:function(e){return o=e,s},result:u};return s}function gn(e){function t(t){function i(n,i){n=e(n,i),t.point(n[0],n[1])}function a(){y=0/0,C.point=o,t.lineStart()}function o(i,a){var o=Mt([i,a]),s=e(i,a);n(y,w,v,_,k,x,y=s[0],w=s[1],v=i,_=o[0],k=o[1],x=o[2],r,t),t.point(y,w)}function s(){C.point=i,t.lineEnd()}function l(){a(),C.point=c,C.lineEnd=u}function c(e,t){o(h=e,f=t),d=y,p=w,m=_,g=k,b=x,C.point=o}function u(){n(y,w,v,_,k,x,d,p,h,m,g,b,r,t),C.lineEnd=s,s()}var h,f,d,p,m,g,b,v,y,w,_,k,x,C={point:i,lineStart:a,lineEnd:s,polygonStart:function(){t.polygonStart(),C.lineStart=l},polygonEnd:function(){t.polygonEnd(),C.lineStart=a}};return C}function n(t,r,o,s,l,c,u,h,f,d,p,m,g,b){var v=u-t,y=h-r,w=v*v+y*y;if(w>4*i&&g--){var _=s+d,k=l+p,x=c+m,C=Math.sqrt(_*_+k*k+x*x),S=Math.asin(x/=C),j=Math.abs(Math.abs(x)-1)<Jo?(o+f)/2:Math.atan2(k,_),F=e(j,S),E=F[0],M=F[1],B=E-t,T=M-r,A=y*B-v*T;(A*A/w>i||Math.abs((v*B+y*T)/w-.5)>.3||a>s*d+l*p+c*m)&&(n(t,r,o,s,l,c,E,M,j,_/=C,k/=C,x,g,b),b.point(E,M),n(E,M,j,_,k,x,u,h,f,d,p,m,g,b))}}var i=.5,a=Math.cos(30*es),r=16;return t.precision=function(e){return arguments.length?(r=(i=e*e)>0&&16,t):Math.sqrt(i)},t}function bn(e){var t=gn(function(t,n){return e([t*ts,n*ts])});return function(e){return e=t(e),{point:function(t,n){e.point(t*es,n*es)},sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}}function vn(e){return yn(function(){return e})()}function yn(e){function t(e){return e=s(e[0]*es,e[1]*es),[e[0]*f+l,c-e[1]*f]}function n(e){return e=s.invert((e[0]-l)/f,(c-e[1])/f),e&&[e[0]*ts,e[1]*ts]}function i(){s=an(o=kn(b,v,y),r);var e=r(m,g);return l=d-e[0]*f,c=p+e[1]*f,a()}function a(){return u&&(u.valid=!1,u=null),t}var r,o,s,l,c,u,h=gn(function(e,t){return e=r(e,t),[e[0]*f+l,c-e[1]*f]}),f=150,d=480,p=250,m=0,g=0,b=0,v=0,y=0,w=Rs,_=dt,k=null,x=null;return t.stream=function(e){return u&&(u.valid=!1),u=wn(o,w(h(_(e)))),u.valid=!0,u},t.clipAngle=function(e){return arguments.length?(w=null==e?(k=e,Rs):en((k=+e)*es),a()):k},t.clipExtent=function(e){return arguments.length?(x=e,_=null==e?dt:tn(e[0][0],e[0][1],e[1][0],e[1][1]),a()):x},t.scale=function(e){return arguments.length?(f=+e,i()):f},t.translate=function(e){return arguments.length?(d=+e[0],p=+e[1],i()):[d,p]},t.center=function(e){return arguments.length?(m=e[0]%360*es,g=e[1]%360*es,i()):[m*ts,g*ts]},t.rotate=function(e){return arguments.length?(b=e[0]%360*es,v=e[1]%360*es,y=e.length>2?e[2]%360*es:0,i()):[b*ts,v*ts,y*ts]},bo.rebind(t,h,"precision"),function(){return r=e.apply(this,arguments),t.invert=r.invert&&n,i()}}function wn(e,t){return{point:function(n,i){i=e(n*es,i*es),n=i[0],t.point(n>Yo?n-2*Yo:-Yo>n?n+2*Yo:n,i[1])},sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function _n(e,t){return[e,t]}function kn(e,t,n){return e?t||n?an(Cn(e),Sn(t,n)):Cn(e):t||n?Sn(t,n):_n}function xn(e){return function(t,n){return t+=e,[t>Yo?t-2*Yo:-Yo>t?t+2*Yo:t,n]}}function Cn(e){var t=xn(e);return t.invert=xn(-e),t}function Sn(e,t){function n(e,t){var n=Math.cos(t),s=Math.cos(e)*n,l=Math.sin(e)*n,c=Math.sin(t),u=c*i+s*a;return[Math.atan2(l*r-u*o,s*i-c*a),H(u*r+l*o)]}var i=Math.cos(e),a=Math.sin(e),r=Math.cos(t),o=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),s=Math.cos(e)*n,l=Math.sin(e)*n,c=Math.sin(t),u=c*r-l*o;return[Math.atan2(l*r+c*o,s*i+u*a),H(u*i-s*a)]},n}function jn(e,t){var n=Math.cos(e),i=Math.sin(e);return function(a,r,o,s){null!=a?(a=Fn(n,a),r=Fn(n,r),(o>0?r>a:a>r)&&(a+=2*o*Yo)):(a=e+2*o*Yo,r=e);for(var l,c=o*t,u=a;o>0?u>r:r>u;u-=c)s.point((l=Pt([n,-i*Math.cos(u),-i*Math.sin(u)]))[0],l[1])}}function Fn(e,t){var n=Mt(t);n[0]-=e,Dt(n);var i=z(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Jo)%(2*Math.PI)}function En(e,t,n){var i=bo.range(e,t-Jo,n).concat(t);return function(e){return i.map(function(t){return[e,t]})}}function Mn(e,t,n){var i=bo.range(e,t-Jo,n).concat(t);return function(e){return i.map(function(t){return[t,e]})}}function Bn(e){return e.source}function Tn(e){return e.target}function An(e,t,n,i){var a=Math.cos(t),r=Math.sin(t),o=Math.cos(i),s=Math.sin(i),l=a*Math.cos(e),c=a*Math.sin(e),u=o*Math.cos(n),h=o*Math.sin(n),f=2*Math.asin(Math.sqrt(K(i-t)+a*o*K(n-e))),d=1/Math.sin(f),p=f?function(e){var t=Math.sin(e*=f)*d,n=Math.sin(f-e)*d,i=n*l+t*u,a=n*c+t*h,o=n*r+t*s;return[Math.atan2(a,i)*ts,Math.atan2(o,Math.sqrt(i*i+a*a))*ts]}:function(){return[e*ts,t*ts]};return p.distance=f,p}function qn(){function e(e,a){var r=Math.sin(a*=es),o=Math.cos(a),s=Math.abs((e*=es)-t),l=Math.cos(s);el+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=i*r-n*o*l)*s),n*r+i*o*l),t=e,n=r,i=o}var t,n,i;tl.point=function(a,r){t=a*es,n=Math.sin(r*=es),i=Math.cos(r),tl.point=e},tl.lineEnd=function(){tl.point=tl.lineEnd=u}}function Dn(e,t){function n(t,n){var i=Math.cos(t),a=Math.cos(n),r=e(i*a);return[r*a*Math.sin(t),r*Math.sin(n)]}return n.invert=function(e,n){var i=Math.sqrt(e*e+n*n),a=t(i),r=Math.sin(a),o=Math.cos(a);return[Math.atan2(e*r,i*o),Math.asin(i&&n*r/i)]},n}function Pn(e,t){function n(e,t){var n=Math.abs(Math.abs(t)-Yo/2)<Jo?0:o/Math.pow(a(t),r);return[n*Math.sin(r*e),o-n*Math.cos(r*e)]}var i=Math.cos(e),a=function(e){return Math.tan(Yo/4+e/2)},r=e===t?Math.sin(e):Math.log(i/Math.cos(t))/Math.log(a(t)/a(e)),o=i*Math.pow(a(e),r)/r;return r?(n.invert=function(e,t){var n=o-t,i=R(r)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/r,2*Math.atan(Math.pow(o/i,1/r))-Yo/2]},n):Nn}function Ln(e,t){function n(e,t){var n=r-t;return[n*Math.sin(a*e),r-n*Math.cos(a*e)]}var i=Math.cos(e),a=e===t?Math.sin(e):(i-Math.cos(t))/(t-e),r=i/a+e;return Math.abs(a)<Jo?_n:(n.invert=function(e,t){var n=r-t;return[Math.atan2(e,n)/a,r-R(a)*Math.sqrt(e*e+n*n)]},n)}function Nn(e,t){return[e,Math.log(Math.tan(Yo/4+t/2))]}function Qn(e){var t,n=vn(e),i=n.scale,a=n.translate,r=n.clipExtent;return n.scale=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=a.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var o=r.apply(n,arguments);if(o===n){if(t=null==e){var s=Yo*i(),l=a();r([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else t&&(o=null);return o},n.clipExtent(null)}function In(e,t){var n=Math.cos(t)*Math.sin(e);return[Math.log((1+n)/(1-n))/2,Math.atan2(Math.tan(t),Math.cos(e))]}function On(e){function t(t){function o(){c.push("M",r(e(u),s))}for(var l,c=[],u=[],h=-1,f=t.length,d=ft(n),p=ft(i);++h<f;)a.call(this,l=t[h],h)?u.push([+d.call(this,l,h),+p.call(this,l,h)]):u.length&&(o(),u=[]);return u.length&&o(),c.length?c.join(""):null}var n=$n,i=Rn,a=Rt,r=zn,o=r.key,s=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(i=e,t):i},t.defined=function(e){return arguments.length?(a=e,t):a},t.interpolate=function(e){return arguments.length?(o="function"==typeof e?r=e:(r=sl.get(e)||zn).key,t):o},t.tension=function(e){return arguments.length?(s=e,t):s},t}function $n(e){return e[0]}function Rn(e){return e[1]}function zn(e){return e.join("L")}function Hn(e){return zn(e)+"Z"}function Un(e){for(var t=0,n=e.length,i=e[0],a=[i[0],",",i[1]];++t<n;)a.push("H",(i[0]+(i=e[t])[0])/2,"V",i[1]);return n>1&&a.push("H",i[0]),a.join("")}function Wn(e){for(var t=0,n=e.length,i=e[0],a=[i[0],",",i[1]];++t<n;)a.push("V",(i=e[t])[1],"H",i[0]);return a.join("")}function Kn(e){for(var t=0,n=e.length,i=e[0],a=[i[0],",",i[1]];++t<n;)a.push("H",(i=e[t])[0],"V",i[1]);return a.join("")}function Xn(e,t){return e.length<4?zn(e):e[1]+Yn(e.slice(1,e.length-1),Jn(e,t))}function Zn(e,t){return e.length<3?zn(e):e[0]+Yn((e.push(e[0]),e),Jn([e[e.length-2]].concat(e,[e[1]]),t))}function Vn(e,t){return e.length<3?zn(e):e[0]+Yn(e,Jn(e,t))}function Yn(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return zn(e);var n=e.length!=t.length,i="",a=e[0],r=e[1],o=t[0],s=o,l=1;if(n&&(i+="Q"+(r[0]-2*o[0]/3)+","+(r[1]-2*o[1]/3)+","+r[0]+","+r[1],a=e[1],l=2),t.length>1){s=t[1],r=e[l],l++,i+="C"+(a[0]+o[0])+","+(a[1]+o[1])+","+(r[0]-s[0])+","+(r[1]-s[1])+","+r[0]+","+r[1];for(var c=2;c<t.length;c++,l++)r=e[l],s=t[c],i+="S"+(r[0]-s[0])+","+(r[1]-s[1])+","+r[0]+","+r[1]}if(n){var u=e[l];i+="Q"+(r[0]+2*s[0]/3)+","+(r[1]+2*s[1]/3)+","+u[0]+","+u[1]}return i}function Jn(e,t){for(var n,i=[],a=(1-t)/2,r=e[0],o=e[1],s=1,l=e.length;++s<l;)n=r,r=o,o=e[s],i.push([a*(o[0]-n[0]),a*(o[1]-n[1])]);return i}function Gn(e){if(e.length<3)return zn(e);var t=1,n=e.length,i=e[0],a=i[0],r=i[1],o=[a,a,a,(i=e[1])[0]],s=[r,r,r,i[1]],l=[a,",",r,"L",ii(ul,o),",",ii(ul,s)];for(e.push(e[n-1]);++t<=n;)i=e[t],o.shift(),o.push(i[0]),s.shift(),s.push(i[1]),ai(l,o,s);return e.pop(),l.push("L",i),l.join("")}function ei(e){if(e.length<4)return zn(e);for(var t,n=[],i=-1,a=e.length,r=[0],o=[0];++i<3;)t=e[i],r.push(t[0]),o.push(t[1]);for(n.push(ii(ul,r)+","+ii(ul,o)),--i;++i<a;)t=e[i],r.shift(),r.push(t[0]),o.shift(),o.push(t[1]),ai(n,r,o);return n.join("")}function ti(e){for(var t,n,i=-1,a=e.length,r=a+4,o=[],s=[];++i<4;)n=e[i%a],o.push(n[0]),s.push(n[1]);for(t=[ii(ul,o),",",ii(ul,s)],--i;++i<r;)n=e[i%a],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),ai(t,o,s);return t.join("")}function ni(e,t){var n=e.length-1;if(n)for(var i,a,r=e[0][0],o=e[0][1],s=e[n][0]-r,l=e[n][1]-o,c=-1;++c<=n;)i=e[c],a=c/n,i[0]=t*i[0]+(1-t)*(r+a*s),i[1]=t*i[1]+(1-t)*(o+a*l);return Gn(e)}function ii(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function ai(e,t,n){e.push("C",ii(ll,t),",",ii(ll,n),",",ii(cl,t),",",ii(cl,n),",",ii(ul,t),",",ii(ul,n))}function ri(e,t){return(t[1]-e[1])/(t[0]-e[0])}function oi(e){for(var t=0,n=e.length-1,i=[],a=e[0],r=e[1],o=i[0]=ri(a,r);++t<n;)i[t]=(o+(o=ri(a=r,r=e[t+1])))/2;return i[t]=o,i}function si(e){for(var t,n,i,a,r=[],o=oi(e),s=-1,l=e.length-1;++s<l;)t=ri(e[s],e[s+1]),Math.abs(t)<1e-6?o[s]=o[s+1]=0:(n=o[s]/t,i=o[s+1]/t,a=n*n+i*i,a>9&&(a=3*t/Math.sqrt(a),o[s]=a*n,o[s+1]=a*i));for(s=-1;++s<=l;)a=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),r.push([a||0,o[s]*a||0]);return r}function li(e){return e.length<3?zn(e):e[0]+Yn(e,si(e))}function ci(e,t,n,i){var a,r,o,s,l,c,u;return a=i[e],r=a[0],o=a[1],a=i[t],s=a[0],l=a[1],a=i[n],c=a[0],u=a[1],(u-o)*(s-r)-(l-o)*(c-r)>0}function ui(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function hi(e,t,n,i){var a=e[0],r=n[0],o=t[0]-a,s=i[0]-r,l=e[1],c=n[1],u=t[1]-l,h=i[1]-c,f=(s*(l-c)-h*(a-r))/(h*o-s*u);
return[a+f*o,l+f*u]}function fi(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function di(e,t){var n={list:e.map(function(e,t){return{index:t,x:e[0],y:e[1]}}).sort(function(e,t){return e.y<t.y?-1:e.y>t.y?1:e.x<t.x?-1:e.x>t.x?1:0}),bottomSite:null},i={list:[],leftEnd:null,rightEnd:null,init:function(){i.leftEnd=i.createHalfEdge(null,"l"),i.rightEnd=i.createHalfEdge(null,"l"),i.leftEnd.r=i.rightEnd,i.rightEnd.l=i.leftEnd,i.list.unshift(i.leftEnd,i.rightEnd)},createHalfEdge:function(e,t){return{edge:e,side:t,vertex:null,l:null,r:null}},insert:function(e,t){t.l=e,t.r=e.r,e.r.l=t,e.r=t},leftBound:function(e){var t=i.leftEnd;do t=t.r;while(t!=i.rightEnd&&a.rightOf(t,e));return t=t.l},del:function(e){e.l.r=e.r,e.r.l=e.l,e.edge=null},right:function(e){return e.r},left:function(e){return e.l},leftRegion:function(e){return null==e.edge?n.bottomSite:e.edge.region[e.side]},rightRegion:function(e){return null==e.edge?n.bottomSite:e.edge.region[fl[e.side]]}},a={bisect:function(e,t){var n={region:{l:e,r:t},ep:{l:null,r:null}},i=t.x-e.x,a=t.y-e.y,r=i>0?i:-i,o=a>0?a:-a;return n.c=e.x*i+e.y*a+.5*(i*i+a*a),r>o?(n.a=1,n.b=a/i,n.c/=i):(n.b=1,n.a=i/a,n.c/=a),n},intersect:function(e,t){var n=e.edge,i=t.edge;if(!n||!i||n.region.r==i.region.r)return null;var a=n.a*i.b-n.b*i.a;if(Math.abs(a)<1e-10)return null;var r,o,s=(n.c*i.b-i.c*n.b)/a,l=(i.c*n.a-n.c*i.a)/a,c=n.region.r,u=i.region.r;c.y<u.y||c.y==u.y&&c.x<u.x?(r=e,o=n):(r=t,o=i);var h=s>=o.region.r.x;return h&&"l"===r.side||!h&&"r"===r.side?null:{x:s,y:l}},rightOf:function(e,t){var n=e.edge,i=n.region.r,a=t.x>i.x;if(a&&"l"===e.side)return 1;if(!a&&"r"===e.side)return 0;if(1===n.a){var r=t.y-i.y,o=t.x-i.x,s=0,l=0;if(!a&&n.b<0||a&&n.b>=0?l=s=r>=n.b*o:(l=t.x+t.y*n.b>n.c,n.b<0&&(l=!l),l||(s=1)),!s){var c=i.x-n.region.l.x;l=n.b*(o*o-r*r)<c*r*(1+2*o/c+n.b*n.b),n.b<0&&(l=!l)}}else{var u=n.c-n.a*t.x,h=t.y-u,f=t.x-i.x,d=u-i.y;l=h*h>f*f+d*d}return"l"===e.side?l:!l},endPoint:function(e,n,i){e.ep[n]=i,e.ep[fl[n]]&&t(e)},distance:function(e,t){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}},r={list:[],insert:function(e,t,n){e.vertex=t,e.ystar=t.y+n;for(var i=0,a=r.list,o=a.length;o>i;i++){var s=a[i];if(!(e.ystar>s.ystar||e.ystar==s.ystar&&t.x>s.vertex.x))break}a.splice(i,0,e)},del:function(e){for(var t=0,n=r.list,i=n.length;i>t&&n[t]!=e;++t);n.splice(t,1)},empty:function(){return 0===r.list.length},nextEvent:function(e){for(var t=0,n=r.list,i=n.length;i>t;++t)if(n[t]==e)return n[t+1];return null},min:function(){var e=r.list[0];return{x:e.vertex.x,y:e.ystar}},extractMin:function(){return r.list.shift()}};i.init(),n.bottomSite=n.list.shift();for(var o,s,l,c,u,h,f,d,p,m,g,b,v,y=n.list.shift();;)if(r.empty()||(o=r.min()),y&&(r.empty()||y.y<o.y||y.y==o.y&&y.x<o.x))s=i.leftBound(y),l=i.right(s),f=i.rightRegion(s),b=a.bisect(f,y),h=i.createHalfEdge(b,"l"),i.insert(s,h),m=a.intersect(s,h),m&&(r.del(s),r.insert(s,m,a.distance(m,y))),s=h,h=i.createHalfEdge(b,"r"),i.insert(s,h),m=a.intersect(h,l),m&&r.insert(h,m,a.distance(m,y)),y=n.list.shift();else{if(r.empty())break;s=r.extractMin(),c=i.left(s),l=i.right(s),u=i.right(l),f=i.leftRegion(s),d=i.rightRegion(l),g=s.vertex,a.endPoint(s.edge,s.side,g),a.endPoint(l.edge,l.side,g),i.del(s),r.del(l),i.del(l),v="l",f.y>d.y&&(p=f,f=d,d=p,v="r"),b=a.bisect(f,d),h=i.createHalfEdge(b,v),i.insert(c,h),a.endPoint(b,fl[v],g),m=a.intersect(c,h),m&&(r.del(c),r.insert(c,m,a.distance(m,f))),m=a.intersect(h,u),m&&r.insert(h,m,a.distance(m,f))}for(s=i.right(i.leftEnd);s!=i.rightEnd;s=i.right(s))t(s.edge)}function pi(e){return e.x}function mi(e){return e.y}function gi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function bi(e,t,n,i,a,r){if(!e(t,n,i,a,r)){var o=.5*(n+a),s=.5*(i+r),l=t.nodes;l[0]&&bi(e,l[0],n,i,o,s),l[1]&&bi(e,l[1],o,i,a,s),l[2]&&bi(e,l[2],n,s,o,r),l[3]&&bi(e,l[3],o,s,a,r)}}function vi(e,t){e=bo.rgb(e),t=bo.rgb(t);var n=e.r,i=e.g,a=e.b,r=t.r-n,o=t.g-i,s=t.b-a;return function(t){return e.r=Math.round(n+r*t),e.g=Math.round(i+o*t),e.b=Math.round(a+s*t),e}}function yi(e,t){var n,i={},a={};for(n in e)n in t?i[n]=ki(e[n],t[n]):a[n]=e[n];for(n in t)n in e||(a[n]=t[n]);return function(e){for(n in i)a[n]=i[n](e);return a}}function wi(e,t){return t-=e=+e,function(n){return e+t*n}}function _i(e,t){var n,i,a,r,o,s=0,l=0,c=[],u=[];for(e+="",t+="",dl.lastIndex=0,i=0;n=dl.exec(t);++i)n.index&&c.push(t.substring(s,l=n.index)),u.push({i:c.length,x:n[0]}),c.push(null),s=dl.lastIndex;for(s<t.length&&c.push(t.substring(s)),i=0,r=u.length;(n=dl.exec(e))&&r>i;++i)if(o=u[i],o.x==n[0]){if(o.i)if(null==c[o.i+1])for(c[o.i-1]+=o.x,c.splice(o.i,1),a=i+1;r>a;++a)u[a].i--;else for(c[o.i-1]+=o.x+c[o.i+1],c.splice(o.i,2),a=i+1;r>a;++a)u[a].i-=2;else if(null==c[o.i+1])c[o.i]=o.x;else for(c[o.i]=o.x+c[o.i+1],c.splice(o.i+1,1),a=i+1;r>a;++a)u[a].i--;u.splice(i,1),r--,i--}else o.x=wi(parseFloat(n[0]),parseFloat(o.x));for(;r>i;)o=u.pop(),null==c[o.i+1]?c[o.i]=o.x:(c[o.i]=o.x+c[o.i+1],c.splice(o.i+1,1)),r--;return 1===c.length?null==c[0]?(o=u[0].x,function(e){return o(e)+""}):function(){return t}:function(e){for(i=0;r>i;++i)c[(o=u[i]).i]=o.x(e);return c.join("")}}function ki(e,t){for(var n,i=bo.interpolators.length;--i>=0&&!(n=bo.interpolators[i](e,t)););return n}function xi(e,t){var n,i=[],a=[],r=e.length,o=t.length,s=Math.min(e.length,t.length);for(n=0;s>n;++n)i.push(ki(e[n],t[n]));for(;r>n;++n)a[n]=e[n];for(;o>n;++n)a[n]=t[n];return function(e){for(n=0;s>n;++n)a[n]=i[n](e);return a}}function Ci(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function Si(e){return function(t){return 1-e(1-t)}}function ji(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function Fi(e){return e*e}function Ei(e){return e*e*e}function Mi(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function Bi(e){return function(t){return Math.pow(t,e)}}function Ti(e){return 1-Math.cos(e*Yo/2)}function Ai(e){return Math.pow(2,10*(e-1))}function qi(e){return 1-Math.sqrt(1-e*e)}function Di(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/(2*Yo)*Math.asin(1/e):(e=1,n=t/4),function(i){return 1+e*Math.pow(2,10*-i)*Math.sin(2*(i-n)*Yo/t)}}function Pi(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Li(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Ni(e,t){e=bo.hcl(e),t=bo.hcl(t);var n=e.h,i=e.c,a=e.l,r=t.h-n,o=t.c-i,s=t.l-a;return isNaN(o)&&(o=0,i=isNaN(i)?t.c:i),isNaN(r)?(r=0,n=isNaN(n)?t.h:n):r>180?r-=360:-180>r&&(r+=360),function(t){return e.h=n+r*t,e.c=i+o*t,e.l=a+s*t,e}}function Qi(e,t){e=bo.hsl(e),t=bo.hsl(t);var n=e.h,i=e.s,a=e.l,r=t.h-n,o=t.s-i,s=t.l-a;return isNaN(o)&&(o=0,i=isNaN(i)?t.s:i),isNaN(r)?(r=0,n=isNaN(n)?t.h:n):r>180?r-=360:-180>r&&(r+=360),function(t){return e.h=n+r*t,e.s=i+o*t,e.l=a+s*t,e}}function Ii(e,t){e=bo.lab(e),t=bo.lab(t);var n=e.l,i=e.a,a=e.b,r=t.l-n,o=t.a-i,s=t.b-a;return function(t){return e.l=n+r*t,e.a=i+o*t,e.b=a+s*t,e}}function Oi(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function $i(e){var t=[e.a,e.b],n=[e.c,e.d],i=zi(t),a=Ri(t,n),r=zi(Hi(n,t,-a))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,i*=-1,a*=-1),this.rotate=(i?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*ts,this.translate=[e.e,e.f],this.scale=[i,r],this.skew=r?Math.atan2(a,r)*ts:0}function Ri(e,t){return e[0]*t[0]+e[1]*t[1]}function zi(e){var t=Math.sqrt(Ri(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Hi(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function Ui(e,t){var n,i=[],a=[],r=bo.transform(e),o=bo.transform(t),s=r.translate,l=o.translate,c=r.rotate,u=o.rotate,h=r.skew,f=o.skew,d=r.scale,p=o.scale;return s[0]!=l[0]||s[1]!=l[1]?(i.push("translate(",null,",",null,")"),a.push({i:1,x:wi(s[0],l[0])},{i:3,x:wi(s[1],l[1])})):i.push(l[0]||l[1]?"translate("+l+")":""),c!=u?(c-u>180?u+=360:u-c>180&&(c+=360),a.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:wi(c,u)})):u&&i.push(i.pop()+"rotate("+u+")"),h!=f?a.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:wi(h,f)}):f&&i.push(i.pop()+"skewX("+f+")"),d[0]!=p[0]||d[1]!=p[1]?(n=i.push(i.pop()+"scale(",null,",",null,")"),a.push({i:n-4,x:wi(d[0],p[0])},{i:n-2,x:wi(d[1],p[1])})):(1!=p[0]||1!=p[1])&&i.push(i.pop()+"scale("+p+")"),n=a.length,function(e){for(var t,r=-1;++r<n;)i[(t=a[r]).i]=t.x(e);return i.join("")}}function Wi(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return(n-e)*t}}function Ki(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return Math.max(0,Math.min(1,(n-e)*t))}}function Xi(e){for(var t=e.source,n=e.target,i=Vi(t,n),a=[t];t!==i;)t=t.parent,a.push(t);for(var r=a.length;n!==i;)a.splice(r,0,n),n=n.parent;return a}function Zi(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Vi(e,t){if(e===t)return e;for(var n=Zi(e),i=Zi(t),a=n.pop(),r=i.pop(),o=null;a===r;)o=a,a=n.pop(),r=i.pop();return o}function Yi(e){e.fixed|=2}function Ji(e){e.fixed&=-7}function Gi(e){e.fixed|=4,e.px=e.x,e.py=e.y}function ea(e){e.fixed&=-5}function ta(e,t,n){var i=0,a=0;if(e.charge=0,!e.leaf)for(var r,o=e.nodes,s=o.length,l=-1;++l<s;)r=o[l],null!=r&&(ta(r,t,n),e.charge+=r.charge,i+=r.charge*r.cx,a+=r.charge*r.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=t*n[e.point.index];e.charge+=e.pointCharge=c,i+=c*e.point.x,a+=c*e.point.y}e.cx=i/e.charge,e.cy=a/e.charge}function na(e,t){return bo.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=oa,e}function ia(e){return e.children}function aa(e){return e.value}function ra(e,t){return t.value-e.value}function oa(e){return bo.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function sa(e){return e.x}function la(e){return e.y}function ca(e,t,n){e.y0=t,e.y=n}function ua(e){return bo.range(e.length)}function ha(e){for(var t=-1,n=e[0].length,i=[];++t<n;)i[t]=0;return i}function fa(e){for(var t,n=1,i=0,a=e[0][1],r=e.length;r>n;++n)(t=e[n][1])>a&&(i=n,a=t);return i}function da(e){return e.reduce(pa,0)}function pa(e,t){return e+t[1]}function ma(e,t){return ga(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function ga(e,t){for(var n=-1,i=+e[0],a=(e[1]-i)/t,r=[];++n<=t;)r[n]=a*n+i;return r}function ba(e){return[bo.min(e),bo.max(e)]}function va(e,t){return e.parent==t.parent?1:2}function ya(e){var t=e.children;return t&&t.length?t[0]:e._tree.thread}function wa(e){var t,n=e.children;return n&&(t=n.length)?n[t-1]:e._tree.thread}function _a(e,t){var n=e.children;if(n&&(a=n.length))for(var i,a,r=-1;++r<a;)t(i=_a(n[r],t),e)>0&&(e=i);return e}function ka(e,t){return e.x-t.x}function xa(e,t){return t.x-e.x}function Ca(e,t){return e.depth-t.depth}function Sa(e,t){function n(e,i){var a=e.children;if(a&&(o=a.length))for(var r,o,s=null,l=-1;++l<o;)r=a[l],n(r,s),s=r;t(e,i)}n(e,null)}function ja(e){for(var t,n=0,i=0,a=e.children,r=a.length;--r>=0;)t=a[r]._tree,t.prelim+=n,t.mod+=n,n+=t.shift+(i+=t.change)}function Fa(e,t,n){e=e._tree,t=t._tree;var i=n/(t.number-e.number);e.change+=i,t.change-=i,t.shift+=n,t.prelim+=n,t.mod+=n}function Ea(e,t,n){return e._tree.ancestor.parent==t.parent?e._tree.ancestor:n}function Ma(e,t){return e.value-t.value}function Ba(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function Ta(e,t){e._pack_next=t,t._pack_prev=e}function Aa(e,t){var n=t.x-e.x,i=t.y-e.y,a=e.r+t.r;return.999*a*a>n*n+i*i}function qa(e){function t(e){u=Math.min(e.x-e.r,u),h=Math.max(e.x+e.r,h),f=Math.min(e.y-e.r,f),d=Math.max(e.y+e.r,d)}if((n=e.children)&&(c=n.length)){var n,i,a,r,o,s,l,c,u=1/0,h=-1/0,f=1/0,d=-1/0;if(n.forEach(Da),i=n[0],i.x=-i.r,i.y=0,t(i),c>1&&(a=n[1],a.x=a.r,a.y=0,t(a),c>2))for(r=n[2],Na(i,a,r),t(r),Ba(i,r),i._pack_prev=r,Ba(r,a),a=i._pack_next,o=3;c>o;o++){Na(i,a,r=n[o]);var p=0,m=1,g=1;for(s=a._pack_next;s!==a;s=s._pack_next,m++)if(Aa(s,r)){p=1;break}if(1==p)for(l=i._pack_prev;l!==s._pack_prev&&!Aa(l,r);l=l._pack_prev,g++);p?(g>m||m==g&&a.r<i.r?Ta(i,a=s):Ta(i=l,a),o--):(Ba(i,r),a=r,t(r))}var b=(u+h)/2,v=(f+d)/2,y=0;for(o=0;c>o;o++)r=n[o],r.x-=b,r.y-=v,y=Math.max(y,r.r+Math.sqrt(r.x*r.x+r.y*r.y));e.r=y,n.forEach(Pa)}}function Da(e){e._pack_next=e._pack_prev=e}function Pa(e){delete e._pack_next,delete e._pack_prev}function La(e,t,n,i){var a=e.children;if(e.x=t+=i*e.x,e.y=n+=i*e.y,e.r*=i,a)for(var r=-1,o=a.length;++r<o;)La(a[r],t,n,i)}function Na(e,t,n){var i=e.r+n.r,a=t.x-e.x,r=t.y-e.y;if(i&&(a||r)){var o=t.r+n.r,s=a*a+r*r;o*=o,i*=i;var l=.5+(i-o)/(2*s),c=Math.sqrt(Math.max(0,2*o*(i+s)-(i-=s)*i-o*o))/(2*s);n.x=e.x+l*a+c*r,n.y=e.y+l*r-c*a}else n.x=e.x+i,n.y=e.y}function Qa(e){return 1+bo.max(e,function(e){return e.y})}function Ia(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Oa(e){var t=e.children;return t&&t.length?Oa(t[0]):e}function $a(e){var t,n=e.children;return n&&(t=n.length)?$a(n[t-1]):e}function Ra(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function za(e,t){var n=e.x+t[3],i=e.y+t[0],a=e.dx-t[1]-t[3],r=e.dy-t[0]-t[2];return 0>a&&(n+=a/2,a=0),0>r&&(i+=r/2,r=0),{x:n,y:i,dx:a,dy:r}}function Ha(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function Ua(e){return e.rangeExtent?e.rangeExtent():Ha(e.range())}function Wa(e,t,n,i){var a=n(e[0],e[1]),r=i(t[0],t[1]);return function(e){return r(a(e))}}function Ka(e,t){var n,i=0,a=e.length-1,r=e[i],o=e[a];return r>o&&(n=i,i=a,a=n,n=r,r=o,o=n),e[i]=t.floor(r),e[a]=t.ceil(o),e}function Xa(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:xl}function Za(e,t,n,i){var a=[],r=[],o=0,s=Math.min(e.length,t.length)-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<=s;)a.push(n(e[o-1],e[o])),r.push(i(t[o-1],t[o]));return function(t){var n=bo.bisect(e,t,1,s)-1;return r[n](a[n](t))}}function Va(e,t,n,i){function a(){var a=Math.min(e.length,t.length)>2?Za:Wa,l=i?Ki:Wi;return o=a(e,t,l,n),s=a(t,e,l,ki),r}function r(e){return o(e)}var o,s;return r.invert=function(e){return s(e)},r.domain=function(t){return arguments.length?(e=t.map(Number),a()):e},r.range=function(e){return arguments.length?(t=e,a()):t},r.rangeRound=function(e){return r.range(e).interpolate(Oi)},r.clamp=function(e){return arguments.length?(i=e,a()):i},r.interpolate=function(e){return arguments.length?(n=e,a()):n},r.ticks=function(t){return tr(e,t)},r.tickFormat=function(t,n){return nr(e,t,n)},r.nice=function(t){return Ja(e,t),a()},r.copy=function(){return Va(e,t,n,i)},a()}function Ya(e,t){return bo.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Ja(e,t){return Ka(e,Xa(t?er(e,t)[2]:Ga(e)))}function Ga(e){var t=Ha(e),n=t[1]-t[0];return Math.pow(10,Math.round(Math.log(n)/Math.LN10)-1)}function er(e,t){var n=Ha(e),i=n[1]-n[0],a=Math.pow(10,Math.floor(Math.log(i/t)/Math.LN10)),r=t/i*a;return.15>=r?a*=10:.35>=r?a*=5:.75>=r&&(a*=2),n[0]=Math.ceil(n[0]/a)*a,n[1]=Math.floor(n[1]/a)*a+.5*a,n[2]=a,n}function tr(e,t){return bo.range.apply(bo,er(e,t))}function nr(e,t,n){var i=-Math.floor(Math.log(er(e,t)[2])/Math.LN10+.01);return bo.format(n?n.replace(ws,function(e,t,n,a,r,o,s,l,c,u){return[t,n,a,r,o,s,l,c||"."+(i-2*("%"===u)),u].join("")}):",."+i+"f")}function ir(e,t,n,i){function a(e){return(n?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function r(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function o(t){return e(a(t))}return o.invert=function(t){return r(e.invert(t))},o.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((i=t.map(Number)).map(a)),o):i},o.base=function(n){return arguments.length?(t=+n,e.domain(i.map(a)),o):t},o.nice=function(){var t=Ka(i.map(a),n?Math:Sl);return e.domain(t),i=t.map(r),o},o.ticks=function(){var e=Ha(i),o=[];if(e.every(isFinite)){var s=e[0],l=e[1],c=Math.floor(a(s)),u=Math.ceil(a(l)),h=t%1?2:t;if(n){for(;u>c;c++)for(var f=1;h>f;f++)o.push(r(c)*f);o.push(r(c))}else for(o.push(r(c));c++<u;)for(var f=h-1;f>0;f--)o.push(r(c)*f);for(c=0;o[c]<s;c++);for(u=o.length;o[u-1]>l;u--);o=o.slice(c,u)}return o},o.tickFormat=function(e,t){if(!arguments.length)return Cl;arguments.length<2?t=Cl:"function"!=typeof t&&(t=bo.format(t));var i,s=Math.max(.1,e/o.ticks().length),l=n?(i=1e-12,Math.ceil):(i=-1e-12,Math.floor);return function(e){return e/r(l(a(e)+i))<=s?t(e):""}},o.copy=function(){return ir(e.copy(),t,n,i)},Ya(o,e)}function ar(e,t,n){function i(t){return e(a(t))}var a=rr(t),r=rr(1/t);return i.invert=function(t){return r(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(a)),i):n},i.ticks=function(e){return tr(n,e)},i.tickFormat=function(e,t){return nr(n,e,t)},i.nice=function(e){return i.domain(Ja(n,e))},i.exponent=function(o){return arguments.length?(a=rr(t=o),r=rr(1/t),e.domain(n.map(a)),i):t},i.copy=function(){return ar(e.copy(),t,n)},Ya(i,e)}function rr(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function or(e,t){function n(t){return o[((r.get(t)||r.set(t,e.push(t)))-1)%o.length]}function i(t,n){return bo.range(e.length).map(function(e){return t+n*e})}var r,o,s;return n.domain=function(i){if(!arguments.length)return e;e=[],r=new a;for(var o,s=-1,l=i.length;++s<l;)r.has(o=i[s])||r.set(o,e.push(o));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(o=e,s=0,t={t:"range",a:arguments},n):o},n.rangePoints=function(a,r){arguments.length<2&&(r=0);var l=a[0],c=a[1],u=(c-l)/(Math.max(1,e.length-1)+r);return o=i(e.length<2?(l+c)/2:l+u*r/2,u),s=0,t={t:"rangePoints",a:arguments},n},n.rangeBands=function(a,r,l){arguments.length<2&&(r=0),arguments.length<3&&(l=r);var c=a[1]<a[0],u=a[c-0],h=a[1-c],f=(h-u)/(e.length-r+2*l);return o=i(u+f*l,f),c&&o.reverse(),s=f*(1-r),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(a,r,l){arguments.length<2&&(r=0),arguments.length<3&&(l=r);var c=a[1]<a[0],u=a[c-0],h=a[1-c],f=Math.floor((h-u)/(e.length-r+2*l)),d=h-u-(e.length-r)*f;return o=i(u+Math.round(d/2),f),c&&o.reverse(),s=Math.round(f*(1-r)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return s},n.rangeExtent=function(){return Ha(t.a[0])},n.copy=function(){return or(e,t)},n.domain(e)}function sr(e,t){function n(){var n=0,r=t.length;for(a=[];++n<r;)a[n-1]=bo.quantile(e,n/r);return i}function i(e){return isNaN(e=+e)?void 0:t[bo.bisect(a,e)]}var a;return i.domain=function(t){return arguments.length?(e=t.filter(function(e){return!isNaN(e)}).sort(bo.ascending),n()):e},i.range=function(e){return arguments.length?(t=e,n()):t},i.quantiles=function(){return a},i.invertExtent=function(n){return n=t.indexOf(n),0>n?[0/0,0/0]:[n>0?a[n-1]:e[0],n<a.length?a[n]:e[e.length-1]]},i.copy=function(){return sr(e,t)},n()}function lr(e,t,n){function i(t){return n[Math.max(0,Math.min(o,Math.floor(r*(t-e))))]}function a(){return r=n.length/(t-e),o=n.length-1,i}var r,o;return i.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],a()):[e,t]},i.range=function(e){return arguments.length?(n=e,a()):n},i.invertExtent=function(t){return t=n.indexOf(t),t=0>t?0/0:t/r+e,[t,t+1/r]},i.copy=function(){return lr(e,t,n)},a()}function cr(e,t){function n(n){return n>=n?t[bo.bisect(e,n)]:void 0}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return cr(e,t)},n}function ur(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return tr(e,t)},t.tickFormat=function(t,n){return nr(e,t,n)},t.copy=function(){return ur(e)},t}function hr(e){return e.innerRadius}function fr(e){return e.outerRadius}function dr(e){return e.startAngle}function pr(e){return e.endAngle}function mr(e){for(var t,n,i,a=-1,r=e.length;++a<r;)t=e[a],n=t[0],i=t[1]+Bl,t[0]=n*Math.cos(i),t[1]=n*Math.sin(i);return e}function gr(e){function t(t){function l(){m.push("M",s(e(b),h),u,c(e(g.reverse()),h),"Z")}for(var f,d,p,m=[],g=[],b=[],v=-1,y=t.length,w=ft(n),_=ft(a),k=n===i?function(){return d}:ft(i),x=a===r?function(){return p}:ft(r);++v<y;)o.call(this,f=t[v],v)?(g.push([d=+w.call(this,f,v),p=+_.call(this,f,v)]),b.push([+k.call(this,f,v),+x.call(this,f,v)])):g.length&&(l(),g=[],b=[]);return g.length&&l(),m.length?m.join(""):null}var n=$n,i=$n,a=0,r=Rn,o=Rt,s=zn,l=s.key,c=s,u="L",h=.7;return t.x=function(e){return arguments.length?(n=i=e,t):i},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(a=r=e,t):r},t.y0=function(e){return arguments.length?(a=e,t):a},t.y1=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(o=e,t):o},t.interpolate=function(e){return arguments.length?(l="function"==typeof e?s=e:(s=sl.get(e)||zn).key,c=s.reverse||s,u=s.closed?"M":"L",t):l},t.tension=function(e){return arguments.length?(h=e,t):h},t}function br(e){return e.radius}function vr(e){return[e.x,e.y]}function yr(e){return function(){var t=e.apply(this,arguments),n=t[0],i=t[1]+Bl;return[n*Math.cos(i),n*Math.sin(i)]}}function wr(){return 64}function _r(){return"circle"}function kr(e){var t=Math.sqrt(e/Yo);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function xr(e,t){return Do(e,Nl),e.id=t,e}function Cr(e,t,n,i){var a=e.id;return B(e,"function"==typeof n?function(e,r,o){e.__transition__[a].tween.set(t,i(n.call(e,e.__data__,r,o)))}:(n=i(n),function(e){e.__transition__[a].tween.set(t,n)}))}function Sr(e){return null==e&&(e=""),function(){this.textContent=e}}function jr(e,t,n,i){var r=e.__transition__||(e.__transition__={active:0,count:0}),o=r[n];if(!o){var s=i.time;return o=r[n]={tween:new a,time:s,ease:i.ease,delay:i.delay,duration:i.duration},++r.count,bo.timer(function(i){function a(i){return r.active>n?c():(r.active=n,o.event&&o.event.start.call(e,u,t),o.tween.forEach(function(n,i){(i=i.call(e,u,t))&&p.push(i)}),l(i)||bo.timer(l,0,s),1)}function l(i){if(r.active!==n)return c();for(var a=(i-f)/d,s=h(a),l=p.length;l>0;)p[--l].call(e,s);return a>=1?(c(),o.event&&o.event.end.call(e,u,t),1):void 0}function c(){return--r.count?delete r[n]:delete e.__transition__,1}var u=e.__data__,h=o.ease,f=o.delay,d=o.duration,p=[];return i>=f?a(i):bo.timer(a,f,s),1},0,s),o}}function Fr(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function Er(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function Mr(e,t,n){if(i=[],n&&t.length>1){for(var i,a,r,o=Ha(e.domain()),s=-1,l=t.length,c=(t[1]-t[0])/++n;++s<l;)for(a=n;--a>0;)(r=+t[s]-a*c)>=o[0]&&i.push(r);for(--s,a=0;++a<n&&(r=+t[s]+a*c)<o[1];)i.push(r)}return i}function Br(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Tr(e,t,n){function i(t){var n=e(t),i=r(n,1);return i-t>t-n?n:i}function a(n){return t(n=e(new zl(n-1)),1),n}function r(e,n){return t(e=new zl(+e),n),e}function o(e,i,r){var o=a(e),s=[];if(r>1)for(;i>o;)n(o)%r||s.push(new Date(+o)),t(o,1);else for(;i>o;)s.push(new Date(+o)),t(o,1);return s}function s(e,t,n){try{zl=Br;var i=new Br;return i._=e,o(i,t,n)}finally{zl=Date}}e.floor=e,e.round=i,e.ceil=a,e.offset=r,e.range=o;var l=e.utc=Ar(e);return l.floor=l,l.round=Ar(i),l.ceil=Ar(a),l.offset=Ar(r),l.range=s,e}function Ar(e){return function(t,n){try{zl=Br;var i=new Br;return i._=t,e(i,n)._}finally{zl=Date}}}function qr(e,t,n,i){for(var a,r,o=0,s=t.length,l=n.length;s>o;){if(i>=l)return-1;if(a=t.charCodeAt(o++),37===a){if(r=uc[t.charAt(o++)],!r||(i=r(e,n,i))<0)return-1}else if(a!=n.charCodeAt(i++))return-1}return i}function Dr(e){return new RegExp("^(?:"+e.map(bo.requote).join("|")+")","i")}function Pr(e){for(var t=new a,n=-1,i=e.length;++n<i;)t.set(e[n].toLowerCase(),n);return t}function Lr(e,t,n){var i=0>e?"-":"",a=(i?-e:e)+"",r=a.length;return i+(n>r?new Array(n-r+1).join(t)+a:a)}function Nr(e,t,n){tc.lastIndex=0;var i=tc.exec(t.substring(n));return i?(e.w=nc.get(i[0].toLowerCase()),n+i[0].length):-1}function Qr(e,t,n){Gl.lastIndex=0;var i=Gl.exec(t.substring(n));return i?(e.w=ec.get(i[0].toLowerCase()),n+i[0].length):-1}function Ir(e,t,n){hc.lastIndex=0;var i=hc.exec(t.substring(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function Or(e,t,n){hc.lastIndex=0;var i=hc.exec(t.substring(n));return i?(e.U=+i[0],n+i[0].length):-1}function $r(e,t,n){hc.lastIndex=0;var i=hc.exec(t.substring(n));return i?(e.W=+i[0],n+i[0].length):-1}function Rr(e,t,n){rc.lastIndex=0;var i=rc.exec(t.substring(n));return i?(e.m=oc.get(i[0].toLowerCase()),n+i[0].length):-1}function zr(e,t,n){ic.lastIndex=0;var i=ic.exec(t.substring(n));return i?(e.m=ac.get(i[0].toLowerCase()),n+i[0].length):-1}function Hr(e,t,n){return qr(e,cc.c.toString(),t,n)}function Ur(e,t,n){return qr(e,cc.x.toString(),t,n)}function Wr(e,t,n){return qr(e,cc.X.toString(),t,n)}function Kr(e,t,n){hc.lastIndex=0;var i=hc.exec(t.substring(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function Xr(e,t,n){hc.lastIndex=0;var i=hc.exec(t.substring(n,n+2));return i?(e.y=Zr(+i[0]),n+i[0].length):-1}function Zr(e){return e+(e>68?1900:2e3)}function Vr(e,t,n){hc.lastIndex=0;var i=hc.exec(t.substring(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function Yr(e,t,n){hc.lastIndex=0;var i=hc.exec(t.substring(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function Jr(e,t,n){hc.lastIndex=0;var i=hc.exec(t.substring(n,n+3));return i?(e.j=+i[0],n+i[0].length):-1}function Gr(e,t,n){hc.lastIndex=0;var i=hc.exec(t.substring(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function eo(e,t,n){hc.lastIndex=0;var i=hc.exec(t.substring(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function to(e,t,n){hc.lastIndex=0;var i=hc.exec(t.substring(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function no(e,t,n){hc.lastIndex=0;var i=hc.exec(t.substring(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function io(e,t,n){var i=fc.get(t.substring(n,n+=2).toLowerCase());return null==i?-1:(e.p=i,n)}function ao(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",i=~~(Math.abs(t)/60),a=Math.abs(t)%60;return n+Lr(i,"0",2)+Lr(a,"0",2)}function ro(e,t,n){sc.lastIndex=0;var i=sc.exec(t.substring(n,n+1));return i?n+i[0].length:-1}function oo(e){return e.toISOString()}function so(e,t,n){function i(t){return e(t)}return i.invert=function(t){return lo(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain().map(lo)},i.nice=function(e){return i.domain(Ka(i.domain(),e))},i.ticks=function(n,a){var r=Ha(i.domain());if("function"!=typeof n){var o=r[1]-r[0],s=o/n,l=bo.bisect(pc,s);if(l==pc.length)return t.year(r,n);if(!l)return e.ticks(n).map(lo);Math.log(s/pc[l-1])<Math.log(pc[l]/s)&&--l,n=t[l],a=n[1],n=n[0].range}return n(r[0],new Date(+r[1]+1),a)},i.tickFormat=function(){return n},i.copy=function(){return so(e.copy(),t,n)},Ya(i,e)}function lo(e){return new Date(e)}function co(e){return function(t){for(var n=e.length-1,i=e[n];!i[1](t);)i=e[--n];return i[0](t)}}function uo(e){var t=new Date(e,0,1);return t.setFullYear(e),t}function ho(e){var t=e.getFullYear(),n=uo(t),i=uo(t+1);return t+(e-n)/(i-n)}function fo(e){var t=new Date(Date.UTC(e,0,1));return t.setUTCFullYear(e),t}function po(e){var t=e.getUTCFullYear(),n=fo(t),i=fo(t+1);return t+(e-n)/(i-n)}function mo(e){return JSON.parse(e.responseText)}function go(e){var t=vo.createRange();return t.selectNode(vo.body),t.createContextualFragment(e.responseText)}var bo={version:"3.2.6"};Date.now||(Date.now=function(){return+new Date});var vo=document,yo=vo.documentElement,wo=window;try{vo.createElement("div").style.setProperty("opacity",0,"")}catch(_o){var ko=wo.Element.prototype,xo=ko.setAttribute,Co=ko.setAttributeNS,So=wo.CSSStyleDeclaration.prototype,jo=So.setProperty;ko.setAttribute=function(e,t){xo.call(this,e,t+"")},ko.setAttributeNS=function(e,t,n){Co.call(this,e,t,n+"")},So.setProperty=function(e,t,n){jo.call(this,e,t+"",n)}}bo.ascending=function(e,t){return t>e?-1:e>t?1:e>=t?0:0/0},bo.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:0/0},bo.min=function(e,t){var n,i,a=-1,r=e.length;if(1===arguments.length){for(;++a<r&&!(null!=(n=e[a])&&n>=n);)n=void 0;for(;++a<r;)null!=(i=e[a])&&n>i&&(n=i)}else{for(;++a<r&&!(null!=(n=t.call(e,e[a],a))&&n>=n);)n=void 0;for(;++a<r;)null!=(i=t.call(e,e[a],a))&&n>i&&(n=i)}return n},bo.max=function(e,t){var n,i,a=-1,r=e.length;if(1===arguments.length){for(;++a<r&&!(null!=(n=e[a])&&n>=n);)n=void 0;for(;++a<r;)null!=(i=e[a])&&i>n&&(n=i)}else{for(;++a<r&&!(null!=(n=t.call(e,e[a],a))&&n>=n);)n=void 0;for(;++a<r;)null!=(i=t.call(e,e[a],a))&&i>n&&(n=i)}return n},bo.extent=function(e,t){var n,i,a,r=-1,o=e.length;if(1===arguments.length){for(;++r<o&&!(null!=(n=a=e[r])&&n>=n);)n=a=void 0;for(;++r<o;)null!=(i=e[r])&&(n>i&&(n=i),i>a&&(a=i))}else{for(;++r<o&&!(null!=(n=a=t.call(e,e[r],r))&&n>=n);)n=void 0;for(;++r<o;)null!=(i=t.call(e,e[r],r))&&(n>i&&(n=i),i>a&&(a=i))}return[n,a]},bo.sum=function(e,t){var n,i=0,a=e.length,r=-1;if(1===arguments.length)for(;++r<a;)isNaN(n=+e[r])||(i+=n);else for(;++r<a;)isNaN(n=+t.call(e,e[r],r))||(i+=n);return i},bo.mean=function(t,n){var i,a=t.length,r=0,o=-1,s=0;if(1===arguments.length)for(;++o<a;)e(i=t[o])&&(r+=(i-r)/++s);else for(;++o<a;)e(i=n.call(t,t[o],o))&&(r+=(i-r)/++s);return s?r:void 0},bo.quantile=function(e,t){var n=(e.length-1)*t+1,i=Math.floor(n),a=+e[i-1],r=n-i;return r?a+r*(e[i]-a):a},bo.median=function(t,n){return arguments.length>1&&(t=t.map(n)),t=t.filter(e),t.length?bo.quantile(t.sort(bo.ascending),.5):void 0},bo.bisector=function(e){return{left:function(t,n,i,a){for(arguments.length<3&&(i=0),arguments.length<4&&(a=t.length);a>i;){var r=i+a>>>1;e.call(t,t[r],r)<n?i=r+1:a=r}return i},right:function(t,n,i,a){for(arguments.length<3&&(i=0),arguments.length<4&&(a=t.length);a>i;){var r=i+a>>>1;n<e.call(t,t[r],r)?a=r:i=r+1}return i}}};var Fo=bo.bisector(function(e){return e});bo.bisectLeft=Fo.left,bo.bisect=bo.bisectRight=Fo.right,bo.shuffle=function(e){for(var t,n,i=e.length;i;)n=0|Math.random()*i--,t=e[i],e[i]=e[n],e[n]=t;return e},bo.permute=function(e,t){for(var n=[],i=-1,a=t.length;++i<a;)n[i]=e[t[i]];return n},bo.zip=function(){if(!(a=arguments.length))return[];for(var e=-1,n=bo.min(arguments,t),i=new Array(n);++e<n;)for(var a,r=-1,o=i[e]=new Array(a);++r<a;)o[r]=arguments[r][e];return i},bo.transpose=function(e){return bo.zip.apply(bo,e)},bo.keys=function(e){var t=[];for(var n in e)t.push(n);return t},bo.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},bo.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},bo.merge=function(e){return Array.prototype.concat.apply([],e)},bo.range=function(e,t,i){if(arguments.length<3&&(i=1,arguments.length<2&&(t=e,e=0)),1/0===(t-e)/i)throw new Error("infinite range");var a,r=[],o=n(Math.abs(i)),s=-1;if(e*=o,t*=o,i*=o,0>i)for(;(a=e+i*++s)>t;)r.push(a/o);else for(;(a=e+i*++s)<t;)r.push(a/o);return r},bo.map=function(e){var t=new a;for(var n in e)t.set(n,e[n]);return t},i(a,{has:function(e){return Eo+e in this},get:function(e){return this[Eo+e]},set:function(e,t){return this[Eo+e]=t},remove:function(e){return e=Eo+e,e in this&&delete this[e]},keys:function(){var e=[];return this.forEach(function(t){e.push(t)}),e},values:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},entries:function(){var e=[];return this.forEach(function(t,n){e.push({key:t,value:n})}),e},forEach:function(e){for(var t in this)t.charCodeAt(0)===Mo&&e.call(this,t.substring(1),this[t])}});var Eo="\x00",Mo=Eo.charCodeAt(0);bo.nest=function(){function e(t,s,l){if(l>=o.length)return i?i.call(r,s):n?s.sort(n):s;for(var c,u,h,f,d=-1,p=s.length,m=o[l++],g=new a;++d<p;)(f=g.get(c=m(u=s[d])))?f.push(u):g.set(c,[u]);return t?(u=t(),h=function(n,i){u.set(n,e(t,i,l))}):(u={},h=function(n,i){u[n]=e(t,i,l)}),g.forEach(h),u}function t(e,n){if(n>=o.length)return e;var i=[],a=s[n++];return e.forEach(function(e,a){i.push({key:e,values:t(a,n)})}),a?i.sort(function(e,t){return a(e.key,t.key)}):i}var n,i,r={},o=[],s=[];return r.map=function(t,n){return e(n,t,0)},r.entries=function(n){return t(e(bo.map,n,0),0)},r.key=function(e){return o.push(e),r},r.sortKeys=function(e){return s[o.length-1]=e,r},r.sortValues=function(e){return n=e,r},r.rollup=function(e){return i=e,r},r},bo.set=function(e){var t=new r;if(e)for(var n=0;n<e.length;n++)t.add(e[n]);return t},i(r,{has:function(e){return Eo+e in this},add:function(e){return this[Eo+e]=!0,e},remove:function(e){return e=Eo+e,e in this&&delete this[e]},values:function(){var e=[];return this.forEach(function(t){e.push(t)}),e},forEach:function(e){for(var t in this)t.charCodeAt(0)===Mo&&e.call(this,t.substring(1))}}),bo.behavior={},bo.rebind=function(e,t){for(var n,i=1,a=arguments.length;++i<a;)e[n=arguments[i]]=o(e,t,t[n]);return e};var Bo=["webkit","ms","moz","Moz","o","O"],To=c;try{To(yo.childNodes)[0].nodeType}catch(Ao){To=l}bo.dispatch=function(){for(var e=new h,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=f(e);return e},h.prototype.on=function(e,t){var n=e.indexOf("."),i="";if(n>=0&&(i=e.substring(n+1),e=e.substring(0,n)),e)return arguments.length<2?this[e].on(i):this[e].on(i,t);
if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(i,null);return this}},bo.event=null,bo.requote=function(e){return e.replace(qo,"\\$&")};var qo=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Do={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},Po=function(e,t){return t.querySelector(e)},Lo=function(e,t){return t.querySelectorAll(e)},No=yo[s(yo,"matchesSelector")],Qo=function(e,t){return No.call(e,t)};"function"==typeof Sizzle&&(Po=function(e,t){return Sizzle(e,t)[0]||null},Lo=function(e,t){return Sizzle.uniqueSort(Sizzle(e,t))},Qo=Sizzle.matchesSelector),bo.selection=function(){return Ro};var Io=bo.selection.prototype=[];Io.select=function(e){var t,n,i,a,r=[];e=b(e);for(var o=-1,s=this.length;++o<s;){r.push(t=[]),t.parentNode=(i=this[o]).parentNode;for(var l=-1,c=i.length;++l<c;)(a=i[l])?(t.push(n=e.call(a,a.__data__,l,o)),n&&"__data__"in a&&(n.__data__=a.__data__)):t.push(null)}return g(r)},Io.selectAll=function(e){var t,n,i=[];e=v(e);for(var a=-1,r=this.length;++a<r;)for(var o=this[a],s=-1,l=o.length;++s<l;)(n=o[s])&&(i.push(t=To(e.call(n,n.__data__,s,a))),t.parentNode=n);return g(i)};var Oo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};bo.ns={prefix:Oo,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.substring(0,t),e=e.substring(t+1)),Oo.hasOwnProperty(n)?{space:Oo[n],local:e}:e}},Io.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=bo.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(y(t,e[t]));return this}return this.each(y(e,t))},Io.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),i=(e=e.trim().split(/^|\s+/g)).length,a=-1;if(t=n.classList){for(;++a<i;)if(!t.contains(e[a]))return!1}else for(t=n.getAttribute("class");++a<i;)if(!_(e[a]).test(t))return!1;return!0}for(t in e)this.each(k(t,e[t]));return this}return this.each(k(e,t))},Io.style=function(e,t,n){var i=arguments.length;if(3>i){if("string"!=typeof e){2>i&&(t="");for(n in e)this.each(C(n,e[n],t));return this}if(2>i)return wo.getComputedStyle(this.node(),null).getPropertyValue(e);n=""}return this.each(C(e,t,n))},Io.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(S(t,e[t]));return this}return this.each(S(e,t))},Io.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Io.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Io.append=function(e){return e=j(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},Io.insert=function(e,t){return e=j(e),t=b(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments))})},Io.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},Io.data=function(e,t){function n(e,n){var i,r,o,s=e.length,h=n.length,f=Math.min(s,h),d=new Array(h),p=new Array(h),m=new Array(s);if(t){var g,b=new a,v=new a,y=[];for(i=-1;++i<s;)g=t.call(r=e[i],r.__data__,i),b.has(g)?m[i]=r:b.set(g,r),y.push(g);for(i=-1;++i<h;)g=t.call(n,o=n[i],i),(r=b.get(g))?(d[i]=r,r.__data__=o):v.has(g)||(p[i]=F(o)),v.set(g,o),b.remove(g);for(i=-1;++i<s;)b.has(y[i])&&(m[i]=e[i])}else{for(i=-1;++i<f;)r=e[i],o=n[i],r?(r.__data__=o,d[i]=r):p[i]=F(o);for(;h>i;++i)p[i]=F(n[i]);for(;s>i;++i)m[i]=e[i]}p.update=d,p.parentNode=d.parentNode=m.parentNode=e.parentNode,l.push(p),c.push(d),u.push(m)}var i,r,o=-1,s=this.length;if(!arguments.length){for(e=new Array(s=(i=this[0]).length);++o<s;)(r=i[o])&&(e[o]=r.__data__);return e}var l=T([]),c=g([]),u=g([]);if("function"==typeof e)for(;++o<s;)n(i=this[o],e.call(i,i.parentNode.__data__,o));else for(;++o<s;)n(i=this[o],e);return c.enter=function(){return l},c.exit=function(){return u},c},Io.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},Io.filter=function(e){var t,n,i,a=[];"function"!=typeof e&&(e=E(e));for(var r=0,o=this.length;o>r;r++){a.push(t=[]),t.parentNode=(n=this[r]).parentNode;for(var s=0,l=n.length;l>s;s++)(i=n[s])&&e.call(i,i.__data__,s)&&t.push(i)}return g(a)},Io.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,i=this[e],a=i.length-1,r=i[a];--a>=0;)(n=i[a])&&(r&&r!==n.nextSibling&&r.parentNode.insertBefore(n,r),r=n);return this},Io.sort=function(e){e=M.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},Io.each=function(e){return B(this,function(t,n,i){e.call(t,t.__data__,n,i)})},Io.call=function(e){var t=To(arguments);return e.apply(t[0]=this,t),this},Io.empty=function(){return!this.node()},Io.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],i=0,a=n.length;a>i;i++){var r=n[i];if(r)return r}return null},Io.size=function(){var e=0;return this.each(function(){++e}),e};var $o=[];bo.selection.enter=T,bo.selection.enter.prototype=$o,$o.append=Io.append,$o.empty=Io.empty,$o.node=Io.node,$o.call=Io.call,$o.size=Io.size,$o.select=function(e){for(var t,n,i,a,r,o=[],s=-1,l=this.length;++s<l;){i=(a=this[s]).update,o.push(t=[]),t.parentNode=a.parentNode;for(var c=-1,u=a.length;++c<u;)(r=a[c])?(t.push(i[c]=n=e.call(a.parentNode,r.__data__,c,s)),n.__data__=r.__data__):t.push(null)}return g(o)},$o.insert=function(e,t){return arguments.length<2&&(t=A(this)),Io.insert.call(this,e,t)},Io.transition=function(){for(var e,t,n=ql||++Ql,i=[],a=Dl||{time:Date.now(),ease:Mi,delay:0,duration:250},r=-1,o=this.length;++r<o;){i.push(e=[]);for(var s=this[r],l=-1,c=s.length;++l<c;)(t=s[l])&&jr(t,l,n,a),e.push(t)}return xr(i,n)},bo.select=function(e){var t=["string"==typeof e?Po(e,vo):e];return t.parentNode=yo,g([t])},bo.selectAll=function(e){var t=To("string"==typeof e?Lo(e,vo):e);return t.parentNode=yo,g([t])};var Ro=bo.select(yo);Io.on=function(e,t,n){var i=arguments.length;if(3>i){if("string"!=typeof e){2>i&&(t=!1);for(n in e)this.each(q(n,e[n],t));return this}if(2>i)return(i=this.node()["__on"+e])&&i._;n=!1}return this.each(q(e,t,n))};var zo=bo.map({mouseenter:"mouseover",mouseleave:"mouseout"});zo.forEach(function(e){"on"+e in vo&&zo.remove(e)});var Ho=s(yo.style,"userSelect"),Uo=0;bo.mouse=function(e){return N(e,p())};var Wo=/WebKit/.test(wo.navigator.userAgent)?-1:0;bo.touches=function(e,t){return arguments.length<2&&(t=p().touches),t?To(t).map(function(t){var n=N(e,t);return n.identifier=t.identifier,n}):[]},bo.behavior.drag=function(){function e(){this.on("mousedown.drag",o).on("touchstart.drag",s)}function t(){return bo.event.changedTouches[0].identifier}function n(e,t){return bo.touches(e).filter(function(e){return e.identifier===t})[0]}function i(e,t,n,i){return function(){function o(){if(!u)return s();var e=t(u,d),n=e[0]-m[0],i=e[1]-m[1];g|=n|i,m=e,h({type:"drag",x:e[0]+l[0],y:e[1]+l[1],dx:n,dy:i})}function s(){b.on(n+"."+p,null).on(i+"."+p,null),v(g&&bo.event.target===f),h({type:"dragend"})}var l,c=this,u=c.parentNode,h=a.of(c,arguments),f=bo.event.target,d=e(),p=null==d?"drag":"drag-"+d,m=t(u,d),g=0,b=bo.select(wo).on(n+"."+p,o).on(i+"."+p,s),v=L();r?(l=r.apply(c,arguments),l=[l.x-m[0],l.y-m[1]]):l=[0,0],h({type:"dragstart"})}}var a=m(e,"drag","dragstart","dragend"),r=null,o=i(u,bo.mouse,"mousemove","mouseup"),s=i(t,n,"touchmove","touchend");return e.origin=function(t){return arguments.length?(r=t,e):r},bo.rebind(e,a,"on")},bo.behavior.zoom=function(){function e(){this.on(S,s).on(Zo+".zoom",c).on(j,u).on("dblclick.zoom",h).on("touchstart.zoom",l)}function t(e){return[(e[0]-k[0])/x,(e[1]-k[1])/x]}function n(e){return[e[0]*x+k[0],e[1]*x+k[1]]}function i(e){x=Math.max(C[0],Math.min(C[1],e))}function a(e,t){t=n(t),k[0]+=e[0]-t[0],k[1]+=e[1]-t[1]}function r(){v&&v.domain(b.range().map(function(e){return(e-k[0])/x}).map(b.invert)),w&&w.domain(y.range().map(function(e){return(e-k[1])/x}).map(y.invert))}function o(e){r(),e({type:"zoom",scale:x,translate:k})}function s(){function e(){l=1,a(bo.mouse(i),h),o(r)}function n(){c.on(j,wo===i?u:null).on(F,null),f(l&&bo.event.target===s)}var i=this,r=E.of(i,arguments),s=bo.event.target,l=0,c=bo.select(wo).on(j,e).on(F,n),h=t(bo.mouse(i)),f=L()}function l(){function e(){var e=bo.touches(r),t=e[0],n=f[t.identifier];if(l=e[1]){var l,c=f[l.identifier],u=bo.event.scale;if(null==u){var h=(h=l[0]-t[0])*h+(h=l[1]-t[1])*h;u=p&&Math.sqrt(h/p)}t=[(t[0]+l[0])/2,(t[1]+l[1])/2],n=[(n[0]+c[0])/2,(n[1]+c[1])/2],i(u*g)}_=null,a(t,n),o(s)}function n(){b.on(h,null).on(m,null),v()}var r=this,s=E.of(r,arguments),l=bo.touches(r),c=Date.now(),u="zoom-"+bo.event.changedTouches[0].identifier,h="touchmove."+u,m="touchend."+u,b=bo.select(wo).on(h,e).on(m,n).on(S,null).on(j,null),v=L();if(g=x,f={},p=0,l.forEach(function(e){f[e.identifier]=t(e)}),1===l.length){if(500>c-_){var y=l[0],w=t(l[0]);i(2*x),a(y,w),d(),o(s)}_=c}else if(l.length>1){var y=l[0],k=l[1],C=y[0]-k[0],F=y[1]-k[1];p=C*C+F*F}}function c(){d(),f||(f=t(bo.mouse(this))),i(Math.pow(2,.002*Ko())*x),a(bo.mouse(this),f),o(E.of(this,arguments))}function u(){f=null}function h(){var e=bo.mouse(this),n=t(e),r=Math.log(x)/Math.LN2;i(Math.pow(2,bo.event.shiftKey?Math.ceil(r)-1:Math.floor(r)+1)),a(e,n),o(E.of(this,arguments))}var f,p,g,b,v,y,w,_,k=[0,0],x=1,C=Xo,S="mousedown.zoom",j="mousemove.zoom",F="mouseup.zoom",E=m(e,"zoom");return e.translate=function(t){return arguments.length?(k=t.map(Number),r(),e):k},e.scale=function(t){return arguments.length?(x=+t,r(),e):x},e.scaleExtent=function(t){return arguments.length?(C=null==t?Xo:t.map(Number),e):C},e.x=function(t){return arguments.length?(v=t,b=t.copy(),k=[0,0],x=1,e):v},e.y=function(t){return arguments.length?(w=t,y=t.copy(),k=[0,0],x=1,e):w},bo.rebind(e,E,"on")};var Ko,Xo=[0,1/0],Zo="onwheel"in vo?(Ko=function(){return-bo.event.deltaY*(bo.event.deltaMode?120:1)},"wheel"):"onmousewheel"in vo?(Ko=function(){return bo.event.wheelDelta},"mousewheel"):(Ko=function(){return-bo.event.detail},"MozMousePixelScroll");Q.prototype.toString=function(){return this.rgb()+""},bo.hsl=function(e,t,n){return 1===arguments.length?e instanceof O?I(e.h,e.s,e.l):st(""+e,lt,I):I(+e,+t,+n)};var Vo=O.prototype=new Q;Vo.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),I(this.h,this.s,this.l/e)},Vo.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),I(this.h,this.s,e*this.l)},Vo.rgb=function(){return $(this.h,this.s,this.l)};var Yo=Math.PI,Jo=1e-6,Go=Jo*Jo,es=Yo/180,ts=180/Yo;bo.hcl=function(e,t,n){return 1===arguments.length?e instanceof Z?X(e.h,e.c,e.l):e instanceof J?et(e.l,e.a,e.b):et((e=ct((e=bo.rgb(e)).r,e.g,e.b)).l,e.a,e.b):X(+e,+t,+n)};var ns=Z.prototype=new Q;ns.brighter=function(e){return X(this.h,this.c,Math.min(100,this.l+is*(arguments.length?e:1)))},ns.darker=function(e){return X(this.h,this.c,Math.max(0,this.l-is*(arguments.length?e:1)))},ns.rgb=function(){return V(this.h,this.c,this.l).rgb()},bo.lab=function(e,t,n){return 1===arguments.length?e instanceof J?Y(e.l,e.a,e.b):e instanceof Z?V(e.l,e.c,e.h):ct((e=bo.rgb(e)).r,e.g,e.b):Y(+e,+t,+n)};var is=18,as=.95047,rs=1,os=1.08883,ss=J.prototype=new Q;ss.brighter=function(e){return Y(Math.min(100,this.l+is*(arguments.length?e:1)),this.a,this.b)},ss.darker=function(e){return Y(Math.max(0,this.l-is*(arguments.length?e:1)),this.a,this.b)},ss.rgb=function(){return G(this.l,this.a,this.b)},bo.rgb=function(e,t,n){return 1===arguments.length?e instanceof rt?at(e.r,e.g,e.b):st(""+e,at,$):at(~~e,~~t,~~n)};var ls=rt.prototype=new Q;ls.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,i=this.b,a=30;return t||n||i?(t&&a>t&&(t=a),n&&a>n&&(n=a),i&&a>i&&(i=a),at(Math.min(255,Math.floor(t/e)),Math.min(255,Math.floor(n/e)),Math.min(255,Math.floor(i/e)))):at(a,a,a)},ls.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),at(Math.floor(e*this.r),Math.floor(e*this.g),Math.floor(e*this.b))},ls.hsl=function(){return lt(this.r,this.g,this.b)},ls.toString=function(){return"#"+ot(this.r)+ot(this.g)+ot(this.b)};var cs=bo.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});cs.forEach(function(e,t){cs.set(e,st(t,at,$))}),bo.functor=ft,bo.xhr=pt(dt),bo.dsv=function(e,t){function n(e,n,r){arguments.length<3&&(r=n,n=null);var o=bo.xhr(e,t,r);return o.row=function(e){return arguments.length?o.response(null==(n=e)?i:a(e)):n},o.row(n)}function i(e){return n.parse(e.responseText)}function a(e){return function(t){return n.parse(t.responseText,e)}}function o(t){return t.map(s).join(e)}function s(e){return l.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var l=new RegExp('["'+e+"\n]"),c=e.charCodeAt(0);return n.parse=function(e,t){var i;return n.parseRows(e,function(e,n){if(i)return i(e,n-1);var a=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");i=t?function(e,n){return t(a(e),n)}:a})},n.parseRows=function(e,t){function n(){if(u>=l)return o;if(a)return a=!1,r;var t=u;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}u=n+2;var i=e.charCodeAt(n+1);return 13===i?(a=!0,10===e.charCodeAt(n+2)&&++u):10===i&&(a=!0),e.substring(t+1,n).replace(/""/g,'"')}for(;l>u;){var i=e.charCodeAt(u++),s=1;if(10===i)a=!0;else if(13===i)a=!0,10===e.charCodeAt(u)&&(++u,++s);else if(i!==c)continue;return e.substring(t,u-s)}return e.substring(t)}for(var i,a,r={},o={},s=[],l=e.length,u=0,h=0;(i=n())!==o;){for(var f=[];i!==r&&i!==o;)f.push(i),i=n();(!t||(f=t(f,h++)))&&s.push(f)}return s},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var i=new r,a=[];return t.forEach(function(e){for(var t in e)i.has(t)||a.push(i.add(t))}),[a.map(s).join(e)].concat(t.map(function(t){return a.map(function(e){return s(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(o).join("\n")},n},bo.csv=bo.dsv(",","text/csv"),bo.tsv=bo.dsv("	","text/tab-separated-values");var us,hs,fs,ds;bo.timer=function(e,t,n){if(arguments.length<3){if(arguments.length<2)t=0;else if(!isFinite(t))return;n=Date.now()}var i=n+t,a={callback:e,time:i,next:null};hs?hs.next=a:us=a,hs=a,fs||(ds=clearTimeout(ds),fs=1,ps(bt))},bo.timer.flush=function(){vt(),yt()};var ps=wo[s(wo,"requestAnimationFrame")]||function(e){setTimeout(e,17)},ms=".",gs=",",bs=[3,3],vs="$",ys=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(wt);bo.formatPrefix=function(e,t){var n=0;return e&&(0>e&&(e*=-1),t&&(e=bo.round(e,_t(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((0>=n?n+1:n-1)/3)))),ys[8+n/3]},bo.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)},bo.format=function(e){var t=ws.exec(e),n=t[1]||" ",i=t[2]||">",a=t[3]||"",r=t[4]||"",o=t[5],s=+t[6],l=t[7],c=t[8],u=t[9],h=1,f="",d=!1;switch(c&&(c=+c.substring(1)),(o||"0"===n&&"="===i)&&(o=n="0",i="=",l&&(s-=Math.floor((s-1)/4))),u){case"n":l=!0,u="g";break;case"%":h=100,f="%",u="f";break;case"p":h=100,f="%",u="r";break;case"b":case"o":case"x":case"X":"#"===r&&(r="0"+u.toLowerCase());case"c":case"d":d=!0,c=0;break;case"s":h=-1,u="r"}"#"===r?r="":"$"===r&&(r=vs),"r"!=u||c||(u="g"),null!=c&&("g"==u?c=Math.max(1,Math.min(21,c)):("e"==u||"f"==u)&&(c=Math.max(0,Math.min(20,c)))),u=_s.get(u)||kt;var p=o&&l;return function(e){if(d&&e%1)return"";var t=0>e||0===e&&0>1/e?(e=-e,"-"):a;if(0>h){var m=bo.formatPrefix(e,c);e=m.scale(e),f=m.symbol}else e*=h;e=u(e,c);var g=e.lastIndexOf("."),b=0>g?e:e.substring(0,g),v=0>g?"":ms+e.substring(g+1);!o&&l&&(b=ks(b));var y=r.length+b.length+v.length+(p?0:t.length),w=s>y?new Array(y=s-y+1).join(n):"";return p&&(b=ks(w+b)),t+=r,e=b+v,("<"===i?t+e+w:">"===i?w+t+e:"^"===i?w.substring(0,y>>=1)+t+e+w.substring(y):t+(p?e:w+e))+f}};var ws=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,_s=bo.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=bo.round(e,_t(e,t))).toFixed(Math.max(0,Math.min(20,_t(e*(1+1e-15),t))))}}),ks=dt;if(bs){var xs=bs.length;ks=function(e){for(var t=e.length,n=[],i=0,a=bs[0];t>0&&a>0;)n.push(e.substring(t-=a,t+a)),a=bs[i=(i+1)%xs];return n.reverse().join(gs)}}bo.geo={},xt.prototype={s:0,t:0,add:function(e){Ct(e,this.t,Cs),Ct(Cs.s,this.s,this),this.s?this.t+=Cs.t:this.s=Cs.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Cs=new xt;bo.geo.stream=function(e,t){e&&Ss.hasOwnProperty(e.type)?Ss[e.type](e,t):St(e,t)};var Ss={Feature:function(e,t){St(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,a=n.length;++i<a;)St(n[i].geometry,t)}},js={Sphere:function(e,t){t.sphere()},Point:function(e,t){var n=e.coordinates;t.point(n[0],n[1])},MultiPoint:function(e,t){for(var n,i=e.coordinates,a=-1,r=i.length;++a<r;)n=i[a],t.point(n[0],n[1])},LineString:function(e,t){jt(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,a=n.length;++i<a;)jt(n[i],t,0)},Polygon:function(e,t){Ft(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,a=n.length;++i<a;)Ft(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,a=n.length;++i<a;)St(n[i],t)}};bo.geo.area=function(e){return Fs=0,bo.geo.stream(e,Ms),Fs};var Fs,Es=new xt,Ms={sphere:function(){Fs+=4*Yo},point:u,lineStart:u,lineEnd:u,polygonStart:function(){Es.reset(),Ms.lineStart=Et},polygonEnd:function(){var e=2*Es;Fs+=0>e?4*Yo+e:e,Ms.lineStart=Ms.lineEnd=Ms.point=u}};bo.geo.bounds=function(){function e(e,t){y.push(w=[u=e,f=e]),h>t&&(h=t),t>d&&(d=t)}function t(t,n){var i=Mt([t*es,n*es]);if(b){var a=Tt(b,i),r=[a[1],-a[0],0],o=Tt(r,a);Dt(o),o=Pt(o);var l=t-p,c=l>0?1:-1,m=o[0]*ts*c,g=Math.abs(l)>180;if(g^(m>c*p&&c*t>m)){var v=o[1]*ts;v>d&&(d=v)}else if(m=(m+360)%360-180,g^(m>c*p&&c*t>m)){var v=-o[1]*ts;h>v&&(h=v)}else h>n&&(h=n),n>d&&(d=n);g?p>t?s(u,t)>s(u,f)&&(f=t):s(t,f)>s(u,f)&&(u=t):f>=u?(u>t&&(u=t),t>f&&(f=t)):t>p?s(u,t)>s(u,f)&&(f=t):s(t,f)>s(u,f)&&(u=t)}else e(t,n);b=i,p=t}function n(){_.point=t}function i(){w[0]=u,w[1]=f,_.point=e,b=null}function a(e,n){if(b){var i=e-p;v+=Math.abs(i)>180?i+(i>0?360:-360):i}else m=e,g=n;Ms.point(e,n),t(e,n)}function r(){Ms.lineStart()}function o(){a(m,g),Ms.lineEnd(),Math.abs(v)>Jo&&(u=-(f=180)),w[0]=u,w[1]=f,b=null}function s(e,t){return(t-=e)<0?t+360:t}function l(e,t){return e[0]-t[0]}function c(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var u,h,f,d,p,m,g,b,v,y,w,_={point:e,lineStart:n,lineEnd:i,polygonStart:function(){_.point=a,_.lineStart=r,_.lineEnd=o,v=0,Ms.polygonStart()},polygonEnd:function(){Ms.polygonEnd(),_.point=e,_.lineStart=n,_.lineEnd=i,0>Es?(u=-(f=180),h=-(d=90)):v>Jo?d=90:-Jo>v&&(h=-90),w[0]=u,w[1]=f}};return function(e){d=f=-(u=h=1/0),y=[],bo.geo.stream(e,_);var t=y.length;if(t){y.sort(l);for(var n,i=1,a=y[0],r=[a];t>i;++i)n=y[i],c(n[0],a)||c(n[1],a)?(s(a[0],n[1])>s(a[0],a[1])&&(a[1]=n[1]),s(n[0],a[1])>s(a[0],a[1])&&(a[0]=n[0])):r.push(a=n);for(var o,n,p=-1/0,t=r.length-1,i=0,a=r[t];t>=i;a=n,++i)n=r[i],(o=s(a[1],n[0]))>p&&(p=o,u=n[0],f=a[1])}return y=w=null,1/0===u||1/0===h?[[0/0,0/0],[0/0,0/0]]:[[u,h],[f,d]]}}(),bo.geo.centroid=function(e){Bs=Ts=As=qs=Ds=Ps=Ls=Ns=Qs=Is=Os=0,bo.geo.stream(e,$s);var t=Qs,n=Is,i=Os,a=t*t+n*n+i*i;return Go>a&&(t=Ps,n=Ls,i=Ns,Jo>Ts&&(t=As,n=qs,i=Ds),a=t*t+n*n+i*i,Go>a)?[0/0,0/0]:[Math.atan2(n,t)*ts,H(i/Math.sqrt(a))*ts]};var Bs,Ts,As,qs,Ds,Ps,Ls,Ns,Qs,Is,Os,$s={sphere:u,point:Nt,lineStart:It,lineEnd:Ot,polygonStart:function(){$s.lineStart=$t},polygonEnd:function(){$s.lineStart=It}},Rs=Ut(Rt,Vt,Jt,Gt),zs=[-Yo,0],Hs=1e9;(bo.geo.conicEqualArea=function(){return rn(on)}).raw=on,bo.geo.albers=function(){return bo.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},bo.geo.albersUsa=function(){function e(e){var r=e[0],o=e[1];return t=null,n(r,o),t||(i(r,o),t)||a(r,o),t}var t,n,i,a,r=bo.geo.albers(),o=bo.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=bo.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=r.scale(),n=r.translate(),i=(e[0]-n[0])/t,a=(e[1]-n[1])/t;return(a>=.12&&.234>a&&i>=-.425&&-.214>i?o:a>=.166&&.234>a&&i>=-.214&&-.115>i?s:r).invert(e)},e.stream=function(e){var t=r.stream(e),n=o.stream(e),i=s.stream(e);return{point:function(e,a){t.point(e,a),n.point(e,a),i.point(e,a)},sphere:function(){t.sphere(),n.sphere(),i.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},e.precision=function(t){return arguments.length?(r.precision(t),o.precision(t),s.precision(t),e):r.precision()},e.scale=function(t){return arguments.length?(r.scale(t),o.scale(.35*t),s.scale(t),e.translate(r.translate())):r.scale()},e.translate=function(t){if(!arguments.length)return r.translate();var c=r.scale(),u=+t[0],h=+t[1];return n=r.translate(t).clipExtent([[u-.455*c,h-.238*c],[u+.455*c,h+.238*c]]).stream(l).point,i=o.translate([u-.307*c,h+.201*c]).clipExtent([[u-.425*c+Jo,h+.12*c+Jo],[u-.214*c-Jo,h+.234*c-Jo]]).stream(l).point,a=s.translate([u-.205*c,h+.212*c]).clipExtent([[u-.214*c+Jo,h+.166*c+Jo],[u-.115*c-Jo,h+.234*c-Jo]]).stream(l).point,e},e.scale(1070)};var Us,Ws,Ks,Xs,Zs,Vs,Ys={point:u,lineStart:u,lineEnd:u,polygonStart:function(){Ws=0,Ys.lineStart=sn},polygonEnd:function(){Ys.lineStart=Ys.lineEnd=Ys.point=u,Us+=Math.abs(Ws/2)}},Js={point:ln,lineStart:u,lineEnd:u,polygonStart:u,polygonEnd:u},Gs={point:hn,lineStart:fn,lineEnd:dn,polygonStart:function(){Gs.lineStart=pn},polygonEnd:function(){Gs.point=hn,Gs.lineStart=fn,Gs.lineEnd=dn}};bo.geo.path=function(){function e(e){return e&&("function"==typeof s&&r.pointRadius(+s.apply(this,arguments)),o&&o.valid||(o=a(r)),bo.geo.stream(e,o)),r.result()}function t(){return o=null,e}var n,i,a,r,o,s=4.5;return e.area=function(e){return Us=0,bo.geo.stream(e,a(Ys)),Us},e.centroid=function(e){return As=qs=Ds=Ps=Ls=Ns=Qs=Is=Os=0,bo.geo.stream(e,a(Gs)),Os?[Qs/Os,Is/Os]:Ns?[Ps/Ns,Ls/Ns]:Ds?[As/Ds,qs/Ds]:[0/0,0/0]},e.bounds=function(e){return Zs=Vs=-(Ks=Xs=1/0),bo.geo.stream(e,a(Js)),[[Ks,Xs],[Zs,Vs]]},e.projection=function(e){return arguments.length?(a=(n=e)?e.stream||bn(e):dt,t()):n},e.context=function(e){return arguments.length?(r=null==(i=e)?new cn:new mn(e),"function"!=typeof s&&r.pointRadius(s),t()):i},e.pointRadius=function(t){return arguments.length?(s="function"==typeof t?t:(r.pointRadius(+t),+t),e):s},e.projection(bo.geo.albersUsa()).context(null)},bo.geo.projection=vn,bo.geo.projectionMutator=yn,(bo.geo.equirectangular=function(){return vn(_n)}).raw=_n.invert=_n,bo.geo.rotation=function(e){function t(t){return t=e(t[0]*es,t[1]*es),t[0]*=ts,t[1]*=ts,t}return e=kn(e[0]%360*es,e[1]*es,e.length>2?e[2]*es:0),t.invert=function(t){return t=e.invert(t[0]*es,t[1]*es),t[0]*=ts,t[1]*=ts,t},t},bo.geo.circle=function(){function e(){var e="function"==typeof i?i.apply(this,arguments):i,t=kn(-e[0]*es,-e[1]*es,0).invert,a=[];return n(null,null,1,{point:function(e,n){a.push(e=t(e,n)),e[0]*=ts,e[1]*=ts}}),{type:"Polygon",coordinates:[a]}}var t,n,i=[0,0],a=6;return e.origin=function(t){return arguments.length?(i=t,e):i},e.angle=function(i){return arguments.length?(n=jn((t=+i)*es,a*es),e):t},e.precision=function(i){return arguments.length?(n=jn(t*es,(a=+i)*es),e):a},e.angle(90)},bo.geo.distance=function(e,t){var n,i=(t[0]-e[0])*es,a=e[1]*es,r=t[1]*es,o=Math.sin(i),s=Math.cos(i),l=Math.sin(a),c=Math.cos(a),u=Math.sin(r),h=Math.cos(r);return Math.atan2(Math.sqrt((n=h*o)*n+(n=c*u-l*h*s)*n),l*u+c*h*s)},bo.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return bo.range(Math.ceil(r/g)*g,a,g).map(f).concat(bo.range(Math.ceil(c/b)*b,l,b).map(d)).concat(bo.range(Math.ceil(i/p)*p,n,p).filter(function(e){return Math.abs(e%g)>Jo}).map(u)).concat(bo.range(Math.ceil(s/m)*m,o,m).filter(function(e){return Math.abs(e%b)>Jo}).map(h))}var n,i,a,r,o,s,l,c,u,h,f,d,p=10,m=p,g=90,b=360,v=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(d(l).slice(1),f(a).reverse().slice(1),d(c).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(r=+t[0][0],a=+t[1][0],c=+t[0][1],l=+t[1][1],r>a&&(t=r,r=a,a=t),c>l&&(t=c,c=l,l=t),e.precision(v)):[[r,c],[a,l]]},e.minorExtent=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],s=+t[0][1],o=+t[1][1],i>n&&(t=i,i=n,n=t),s>o&&(t=s,s=o,o=t),e.precision(v)):[[i,s],[n,o]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(g=+t[0],b=+t[1],e):[g,b]},e.minorStep=function(t){return arguments.length?(p=+t[0],m=+t[1],e):[p,m]},e.precision=function(t){return arguments.length?(v=+t,u=En(s,o,90),h=Mn(i,n,v),f=En(c,l,90),d=Mn(r,a,v),e):v},e.majorExtent([[-180,-90+Jo],[180,90-Jo]]).minorExtent([[-180,-80-Jo],[180,80+Jo]])},bo.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||i.apply(this,arguments),n||a.apply(this,arguments)]}}var t,n,i=Bn,a=Tn;return e.distance=function(){return bo.geo.distance(t||i.apply(this,arguments),n||a.apply(this,arguments))},e.source=function(n){return arguments.length?(i=n,t="function"==typeof n?null:n,e):i},e.target=function(t){return arguments.length?(a=t,n="function"==typeof t?null:t,e):a},e.precision=function(){return arguments.length?e:0},e},bo.geo.interpolate=function(e,t){return An(e[0]*es,e[1]*es,t[0]*es,t[1]*es)},bo.geo.length=function(e){return el=0,bo.geo.stream(e,tl),el};var el,tl={sphere:u,point:u,lineStart:qn,lineEnd:u,polygonStart:u,polygonEnd:u},nl=Dn(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(bo.geo.azimuthalEqualArea=function(){return vn(nl)}).raw=nl;var il=Dn(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},dt);(bo.geo.azimuthalEquidistant=function(){return vn(il)}).raw=il,(bo.geo.conicConformal=function(){return rn(Pn)}).raw=Pn,(bo.geo.conicEquidistant=function(){return rn(Ln)}).raw=Ln;var al=Dn(function(e){return 1/e},Math.atan);(bo.geo.gnomonic=function(){return vn(al)}).raw=al,Nn.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Yo/2]},(bo.geo.mercator=function(){return Qn(Nn)}).raw=Nn;var rl=Dn(function(){return 1},Math.asin);(bo.geo.orthographic=function(){return vn(rl)}).raw=rl;var ol=Dn(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(bo.geo.stereographic=function(){return vn(ol)}).raw=ol,In.invert=function(e,t){return[Math.atan2(U(e),Math.cos(t)),H(Math.sin(t)/W(e))]},(bo.geo.transverseMercator=function(){return Qn(In)}).raw=In,bo.geom={},bo.svg={},bo.svg.line=function(){return On(dt)};var sl=bo.map({linear:zn,"linear-closed":Hn,step:Un,"step-before":Wn,"step-after":Kn,basis:Gn,"basis-open":ei,"basis-closed":ti,bundle:ni,cardinal:Vn,"cardinal-open":Xn,"cardinal-closed":Zn,monotone:li});sl.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var ll=[0,2/3,1/3,0],cl=[0,1/3,2/3,0],ul=[0,1/6,2/3,1/6];bo.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,a,r,o,s,l,c,u,h,f,d,p,m=ft(n),g=ft(i),b=e.length,v=b-1,y=[],w=[],_=0;if(m===$n&&i===Rn)t=e;else for(r=0,t=[];b>r;++r)t.push([+m.call(this,a=e[r],r),+g.call(this,a,r)]);for(r=1;b>r;++r)(t[r][1]<t[_][1]||t[r][1]==t[_][1]&&t[r][0]<t[_][0])&&(_=r);for(r=0;b>r;++r)r!==_&&(l=t[r][1]-t[_][1],s=t[r][0]-t[_][0],y.push({angle:Math.atan2(l,s),index:r}));for(y.sort(function(e,t){return e.angle-t.angle}),d=y[0].angle,f=y[0].index,h=0,r=1;v>r;++r){if(o=y[r].index,d==y[r].angle){if(s=t[f][0]-t[_][0],l=t[f][1]-t[_][1],c=t[o][0]-t[_][0],u=t[o][1]-t[_][1],s*s+l*l>=c*c+u*u){y[r].index=-1;continue}y[h].index=-1}d=y[r].angle,h=r,f=o}for(w.push(_),r=0,o=0;2>r;++o)y[o].index>-1&&(w.push(y[o].index),r++);for(p=w.length;v>o;++o)if(!(y[o].index<0)){for(;!ci(w[p-2],w[p-1],y[o].index,t);)--p;w[p++]=y[o].index}var k=[];for(r=p-1;r>=0;--r)k.push(e[w[r]]);return k}var n=$n,i=Rn;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(i=e,t):i},t)},bo.geom.polygon=function(e){return Do(e,hl),e};var hl=bo.geom.polygon.prototype=[];hl.area=function(){for(var e,t=-1,n=this.length,i=this[n-1],a=0;++t<n;)e=i,i=this[t],a+=e[1]*i[0]-e[0]*i[1];return.5*a},hl.centroid=function(e){var t,n,i=-1,a=this.length,r=0,o=0,s=this[a-1];for(arguments.length||(e=-1/(6*this.area()));++i<a;)t=s,s=this[i],n=t[0]*s[1]-s[0]*t[1],r+=(t[0]+s[0])*n,o+=(t[1]+s[1])*n;return[r*e,o*e]},hl.clip=function(e){for(var t,n,i,a,r,o,s=fi(e),l=-1,c=this.length-fi(this),u=this[c-1];++l<c;){for(t=e.slice(),e.length=0,a=this[l],r=t[(i=t.length-s)-1],n=-1;++n<i;)o=t[n],ui(o,u,a)?(ui(r,u,a)||e.push(hi(r,o,u,a)),e.push(o)):ui(r,u,a)&&e.push(hi(r,o,u,a)),r=o;s&&e.push(e[0]),u=a}return e},bo.geom.delaunay=function(e){var t=e.map(function(){return[]}),n=[];return di(e,function(n){t[n.region.l.index].push(e[n.region.r.index])}),t.forEach(function(t,i){var a=e[i],r=a[0],o=a[1];t.forEach(function(e){e.angle=Math.atan2(e[0]-r,e[1]-o)}),t.sort(function(e,t){return e.angle-t.angle});for(var s=0,l=t.length-1;l>s;s++)n.push([a,t[s],t[s+1]])
}),n},bo.geom.voronoi=function(e){function t(e){var t,r,o,s=e.map(function(){return[]}),l=ft(n),c=ft(i),u=e.length,h=1e6;if(l===$n&&c===Rn)t=e;else for(t=new Array(u),o=0;u>o;++o)t[o]=[+l.call(this,r=e[o],o),+c.call(this,r,o)];if(di(t,function(e){var t,n,i,a,r,o;1===e.a&&e.b>=0?(t=e.ep.r,n=e.ep.l):(t=e.ep.l,n=e.ep.r),1===e.a?(r=t?t.y:-h,i=e.c-e.b*r,o=n?n.y:h,a=e.c-e.b*o):(i=t?t.x:-h,r=e.c-e.a*i,a=n?n.x:h,o=e.c-e.a*a);var l=[i,r],c=[a,o];s[e.region.l.index].push(l,c),s[e.region.r.index].push(l,c)}),s=s.map(function(e,n){var i=t[n][0],a=t[n][1],r=e.map(function(e){return Math.atan2(e[0]-i,e[1]-a)}),o=bo.range(e.length).sort(function(e,t){return r[e]-r[t]});return o.filter(function(e,t){return!t||r[e]-r[o[t-1]]>Jo}).map(function(t){return e[t]})}),s.forEach(function(e,n){var i=e.length;if(!i)return e.push([-h,-h],[-h,h],[h,h],[h,-h]);if(!(i>2)){var a=t[n],r=e[0],o=e[1],s=a[0],l=a[1],c=r[0],u=r[1],f=o[0],d=o[1],p=Math.abs(f-c),m=d-u;if(Math.abs(m)<Jo){var g=u>l?-h:h;e.push([-h,g],[h,g])}else if(Jo>p){var b=c>s?-h:h;e.push([b,-h],[b,h])}else{var g=(c-s)*(d-u)>(f-c)*(u-l)?h:-h,v=Math.abs(m)-p;Math.abs(v)<Jo?e.push([0>m?g:-g,g]):(v>0&&(g*=-1),e.push([-h,g],[h,g]))}}}),a)for(o=0;u>o;++o)a.clip(s[o]);for(o=0;u>o;++o)s[o].point=e[o];return s}var n=$n,i=Rn,a=null;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(i=e,t):i},t.clipExtent=function(e){if(!arguments.length)return a&&[a[0],a[2]];if(null==e)a=null;else{var n=+e[0][0],i=+e[0][1],r=+e[1][0],o=+e[1][1];a=bo.geom.polygon([[n,i],[n,o],[r,o],[r,i]])}return t},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):a&&a[2]},t.links=function(e){var t,a,r,o=e.map(function(){return[]}),s=[],l=ft(n),c=ft(i),u=e.length;if(l===$n&&c===Rn)t=e;else for(t=new Array(u),r=0;u>r;++r)t[r]=[+l.call(this,a=e[r],r),+c.call(this,a,r)];return di(t,function(t){var n=t.region.l.index,i=t.region.r.index;o[n][i]||(o[n][i]=o[i][n]=!0,s.push({source:e[n],target:e[i]}))}),s},t.triangles=function(e){if(n===$n&&i===Rn)return bo.geom.delaunay(e);for(var t,a=new Array(l),r=ft(n),o=ft(i),s=-1,l=e.length;++s<l;)(a[s]=[+r.call(this,t=e[s],s),+o.call(this,t,s)]).data=t;return bo.geom.delaunay(a).map(function(e){return e.map(function(e){return e.data})})},t)};var fl={l:"r",r:"l"};bo.geom.quadtree=function(e,t,n,i,a){function r(e){function r(e,t,n,i,a,r,o,s){if(!isNaN(n)&&!isNaN(i))if(e.leaf){var l=e.x,u=e.y;if(null!=l)if(Math.abs(l-n)+Math.abs(u-i)<.01)c(e,t,n,i,a,r,o,s);else{var h=e.point;e.x=e.y=e.point=null,c(e,h,l,u,a,r,o,s),c(e,t,n,i,a,r,o,s)}else e.x=n,e.y=i,e.point=t}else c(e,t,n,i,a,r,o,s)}function c(e,t,n,i,a,o,s,l){var c=.5*(a+s),u=.5*(o+l),h=n>=c,f=i>=u,d=(f<<1)+h;e.leaf=!1,e=e.nodes[d]||(e.nodes[d]=gi()),h?a=c:s=c,f?o=u:l=u,r(e,t,n,i,a,o,s,l)}var u,h,f,d,p,m,g,b,v,y=ft(s),w=ft(l);if(null!=t)m=t,g=n,b=i,v=a;else if(b=v=-(m=g=1/0),h=[],f=[],p=e.length,o)for(d=0;p>d;++d)u=e[d],u.x<m&&(m=u.x),u.y<g&&(g=u.y),u.x>b&&(b=u.x),u.y>v&&(v=u.y),h.push(u.x),f.push(u.y);else for(d=0;p>d;++d){var _=+y(u=e[d],d),k=+w(u,d);m>_&&(m=_),g>k&&(g=k),_>b&&(b=_),k>v&&(v=k),h.push(_),f.push(k)}var x=b-m,C=v-g;x>C?v=g+x:b=m+C;var S=gi();if(S.add=function(e){r(S,e,+y(e,++d),+w(e,d),m,g,b,v)},S.visit=function(e){bi(e,S,m,g,b,v)},d=-1,null==t){for(;++d<p;)r(S,e[d],h[d],f[d],m,g,b,v);--d}else e.forEach(S.add);return h=f=e=u=null,S}var o,s=$n,l=Rn;return(o=arguments.length)?(s=pi,l=mi,3===o&&(a=n,i=t,n=t=0),r(e)):(r.x=function(e){return arguments.length?(s=e,r):s},r.y=function(e){return arguments.length?(l=e,r):l},r.extent=function(e){return arguments.length?(null==e?t=n=i=a=null:(t=+e[0][0],n=+e[0][1],i=+e[1][0],a=+e[1][1]),r):null==t?null:[[t,n],[i,a]]},r.size=function(e){return arguments.length?(null==e?t=n=i=a=null:(t=n=0,i=+e[0],a=+e[1]),r):null==t?null:[i-t,a-n]},r)},bo.interpolateRgb=vi,bo.interpolateObject=yi,bo.interpolateNumber=wi,bo.interpolateString=_i;var dl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;bo.interpolate=ki,bo.interpolators=[function(e,t){var n=typeof t;return("string"===n?cs.has(t)||/^(#|rgb\(|hsl\()/.test(t)?vi:_i:t instanceof Q?vi:"object"===n?Array.isArray(t)?xi:yi:wi)(e,t)}],bo.interpolateArray=xi;var pl=function(){return dt},ml=bo.map({linear:pl,poly:Bi,quad:function(){return Fi},cubic:function(){return Ei},sin:function(){return Ti},exp:function(){return Ai},circle:function(){return qi},elastic:Di,back:Pi,bounce:function(){return Li}}),gl=bo.map({"in":dt,out:Si,"in-out":ji,"out-in":function(e){return ji(Si(e))}});bo.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.substring(0,t):e,i=t>=0?e.substring(t+1):"in";return n=ml.get(n)||pl,i=gl.get(i)||dt,Ci(i(n.apply(null,Array.prototype.slice.call(arguments,1))))},bo.interpolateHcl=Ni,bo.interpolateHsl=Qi,bo.interpolateLab=Ii,bo.interpolateRound=Oi,bo.transform=function(e){var t=vo.createElementNS(bo.ns.prefix.svg,"g");return(bo.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new $i(n?n.matrix:bl)})(e)},$i.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var bl={a:1,b:0,c:0,d:1,e:0,f:0};bo.interpolateTransform=Ui,bo.layout={},bo.layout.bundle=function(){return function(e){for(var t=[],n=-1,i=e.length;++n<i;)t.push(Xi(e[n]));return t}},bo.layout.chord=function(){function e(){var e,c,h,f,d,p={},m=[],g=bo.range(r),b=[];for(n=[],i=[],e=0,f=-1;++f<r;){for(c=0,d=-1;++d<r;)c+=a[f][d];m.push(c),b.push(bo.range(r)),e+=c}for(o&&g.sort(function(e,t){return o(m[e],m[t])}),s&&b.forEach(function(e,t){e.sort(function(e,n){return s(a[t][e],a[t][n])})}),e=(2*Yo-u*r)/e,c=0,f=-1;++f<r;){for(h=c,d=-1;++d<r;){var v=g[f],y=b[v][d],w=a[v][y],_=c,k=c+=w*e;p[v+"-"+y]={index:v,subindex:y,startAngle:_,endAngle:k,value:w}}i[v]={index:v,startAngle:h,endAngle:c,value:(c-h)/e},c+=u}for(f=-1;++f<r;)for(d=f-1;++d<r;){var x=p[f+"-"+d],C=p[d+"-"+f];(x.value||C.value)&&n.push(x.value<C.value?{source:C,target:x}:{source:x,target:C})}l&&t()}function t(){n.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,i,a,r,o,s,l,c={},u=0;return c.matrix=function(e){return arguments.length?(r=(a=e)&&a.length,n=i=null,c):a},c.padding=function(e){return arguments.length?(u=e,n=i=null,c):u},c.sortGroups=function(e){return arguments.length?(o=e,n=i=null,c):o},c.sortSubgroups=function(e){return arguments.length?(s=e,n=null,c):s},c.sortChords=function(e){return arguments.length?(l=e,n&&t(),c):l},c.chords=function(){return n||e(),n},c.groups=function(){return i||e(),i},c},bo.layout.force=function(){function e(e){return function(t,n,i,a){if(t.point!==e){var r=t.cx-e.x,o=t.cy-e.y,s=1/Math.sqrt(r*r+o*o);if(m>(a-n)*s){var l=t.charge*s*s;return e.px-=r*l,e.py-=o*l,!0}if(t.point&&isFinite(s)){var l=t.pointCharge*s*s;e.px-=r*l,e.py-=o*l}}return!t.charge}}function t(e){e.px=bo.event.x,e.py=bo.event.y,s.resume()}var n,i,a,r,o,s={},l=bo.dispatch("start","tick","end"),c=[1,1],u=.9,h=vl,f=yl,d=-30,p=.1,m=.8,g=[],b=[];return s.tick=function(){if((i*=.99)<.005)return l.end({type:"end",alpha:i=0}),!0;var t,n,s,h,f,m,v,y,w,_=g.length,k=b.length;for(n=0;k>n;++n)s=b[n],h=s.source,f=s.target,y=f.x-h.x,w=f.y-h.y,(m=y*y+w*w)&&(m=i*r[n]*((m=Math.sqrt(m))-a[n])/m,y*=m,w*=m,f.x-=y*(v=h.weight/(f.weight+h.weight)),f.y-=w*v,h.x+=y*(v=1-v),h.y+=w*v);if((v=i*p)&&(y=c[0]/2,w=c[1]/2,n=-1,v))for(;++n<_;)s=g[n],s.x+=(y-s.x)*v,s.y+=(w-s.y)*v;if(d)for(ta(t=bo.geom.quadtree(g),i,o),n=-1;++n<_;)(s=g[n]).fixed||t.visit(e(s));for(n=-1;++n<_;)s=g[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*u,s.y-=(s.py-(s.py=s.y))*u);l.tick({type:"tick",alpha:i})},s.nodes=function(e){return arguments.length?(g=e,s):g},s.links=function(e){return arguments.length?(b=e,s):b},s.size=function(e){return arguments.length?(c=e,s):c},s.linkDistance=function(e){return arguments.length?(h="function"==typeof e?e:+e,s):h},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(f="function"==typeof e?e:+e,s):f},s.friction=function(e){return arguments.length?(u=+e,s):u},s.charge=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.gravity=function(e){return arguments.length?(p=+e,s):p},s.theta=function(e){return arguments.length?(m=+e,s):m},s.alpha=function(e){return arguments.length?(e=+e,i?i=e>0?e:0:e>0&&(l.start({type:"start",alpha:i=e}),bo.timer(s.tick)),s):i},s.start=function(){function e(e,i){for(var a,r=t(n),o=-1,s=r.length;++o<s;)if(!isNaN(a=r[o][e]))return a;return Math.random()*i}function t(){if(!l){for(l=[],i=0;p>i;++i)l[i]=[];for(i=0;m>i;++i){var e=b[i];l[e.source.index].push(e.target),l[e.target.index].push(e.source)}}return l[n]}var n,i,l,u,p=g.length,m=b.length,v=c[0],y=c[1];for(n=0;p>n;++n)(u=g[n]).index=n,u.weight=0;for(n=0;m>n;++n)u=b[n],"number"==typeof u.source&&(u.source=g[u.source]),"number"==typeof u.target&&(u.target=g[u.target]),++u.source.weight,++u.target.weight;for(n=0;p>n;++n)u=g[n],isNaN(u.x)&&(u.x=e("x",v)),isNaN(u.y)&&(u.y=e("y",y)),isNaN(u.px)&&(u.px=u.x),isNaN(u.py)&&(u.py=u.y);if(a=[],"function"==typeof h)for(n=0;m>n;++n)a[n]=+h.call(this,b[n],n);else for(n=0;m>n;++n)a[n]=h;if(r=[],"function"==typeof f)for(n=0;m>n;++n)r[n]=+f.call(this,b[n],n);else for(n=0;m>n;++n)r[n]=f;if(o=[],"function"==typeof d)for(n=0;p>n;++n)o[n]=+d.call(this,g[n],n);else for(n=0;p>n;++n)o[n]=d;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=bo.behavior.drag().origin(dt).on("dragstart.force",Yi).on("drag.force",t).on("dragend.force",Ji)),arguments.length?void this.on("mouseover.force",Gi).on("mouseout.force",ea).call(n):n},bo.rebind(s,l,"on")};var vl=20,yl=1;bo.layout.hierarchy=function(){function e(t,o,s){var l=a.call(n,t,o);if(t.depth=o,s.push(t),l&&(c=l.length)){for(var c,u,h=-1,f=t.children=[],d=0,p=o+1;++h<c;)u=e(l[h],p,s),u.parent=t,f.push(u),d+=u.value;i&&f.sort(i),r&&(t.value=d)}else r&&(t.value=+r.call(n,t,o)||0);return t}function t(e,i){var a=e.children,o=0;if(a&&(s=a.length))for(var s,l=-1,c=i+1;++l<s;)o+=t(a[l],c);else r&&(o=+r.call(n,e,i)||0);return r&&(e.value=o),o}function n(t){var n=[];return e(t,0,n),n}var i=ra,a=ia,r=aa;return n.sort=function(e){return arguments.length?(i=e,n):i},n.children=function(e){return arguments.length?(a=e,n):a},n.value=function(e){return arguments.length?(r=e,n):r},n.revalue=function(e){return t(e,0),e},n},bo.layout.partition=function(){function e(t,n,i,a){var r=t.children;if(t.x=n,t.y=t.depth*a,t.dx=i,t.dy=a,r&&(o=r.length)){var o,s,l,c=-1;for(i=t.value?i/t.value:0;++c<o;)e(s=r[c],n,l=s.value*i,a),n+=l}}function t(e){var n=e.children,i=0;if(n&&(a=n.length))for(var a,r=-1;++r<a;)i=Math.max(i,t(n[r]));return 1+i}function n(n,r){var o=i.call(this,n,r);return e(o[0],0,a[0],a[1]/t(o[0])),o}var i=bo.layout.hierarchy(),a=[1,1];return n.size=function(e){return arguments.length?(a=e,n):a},na(n,i)},bo.layout.pie=function(){function e(r){var o=r.map(function(n,i){return+t.call(e,n,i)}),s=+("function"==typeof i?i.apply(this,arguments):i),l=(("function"==typeof a?a.apply(this,arguments):a)-s)/bo.sum(o),c=bo.range(r.length);null!=n&&c.sort(n===wl?function(e,t){return o[t]-o[e]}:function(e,t){return n(r[e],r[t])});var u=[];return c.forEach(function(e){var t;u[e]={data:r[e],value:t=o[e],startAngle:s,endAngle:s+=t*l}}),u}var t=Number,n=wl,i=0,a=2*Yo;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(i=t,e):i},e.endAngle=function(t){return arguments.length?(a=t,e):a},e};var wl={};bo.layout.stack=function(){function e(s,l){var c=s.map(function(n,i){return t.call(e,n,i)}),u=c.map(function(t){return t.map(function(t,n){return[r.call(e,t,n),o.call(e,t,n)]})}),h=n.call(e,u,l);c=bo.permute(c,h),u=bo.permute(u,h);var f,d,p,m=i.call(e,u,l),g=c.length,b=c[0].length;for(d=0;b>d;++d)for(a.call(e,c[0][d],p=m[d],u[0][d][1]),f=1;g>f;++f)a.call(e,c[f][d],p+=u[f-1][d][1],u[f][d][1]);return s}var t=dt,n=ua,i=ha,a=ca,r=sa,o=la;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:_l.get(t)||ua,e):n},e.offset=function(t){return arguments.length?(i="function"==typeof t?t:kl.get(t)||ha,e):i},e.x=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(o=t,e):o},e.out=function(t){return arguments.length?(a=t,e):a},e};var _l=bo.map({"inside-out":function(e){var t,n,i=e.length,a=e.map(fa),r=e.map(da),o=bo.range(i).sort(function(e,t){return a[e]-a[t]}),s=0,l=0,c=[],u=[];for(t=0;i>t;++t)n=o[t],l>s?(s+=r[n],c.push(n)):(l+=r[n],u.push(n));return u.reverse().concat(c)},reverse:function(e){return bo.range(e.length).reverse()},"default":ua}),kl=bo.map({silhouette:function(e){var t,n,i,a=e.length,r=e[0].length,o=[],s=0,l=[];for(n=0;r>n;++n){for(t=0,i=0;a>t;t++)i+=e[t][n][1];i>s&&(s=i),o.push(i)}for(n=0;r>n;++n)l[n]=(s-o[n])/2;return l},wiggle:function(e){var t,n,i,a,r,o,s,l,c,u=e.length,h=e[0],f=h.length,d=[];for(d[0]=l=c=0,n=1;f>n;++n){for(t=0,a=0;u>t;++t)a+=e[t][n][1];for(t=0,r=0,s=h[n][0]-h[n-1][0];u>t;++t){for(i=0,o=(e[t][n][1]-e[t][n-1][1])/(2*s);t>i;++i)o+=(e[i][n][1]-e[i][n-1][1])/s;r+=o*e[t][n][1]}d[n]=l-=a?r/a*s:0,c>l&&(c=l)}for(n=0;f>n;++n)d[n]-=c;return d},expand:function(e){var t,n,i,a=e.length,r=e[0].length,o=1/a,s=[];for(n=0;r>n;++n){for(t=0,i=0;a>t;t++)i+=e[t][n][1];if(i)for(t=0;a>t;t++)e[t][n][1]/=i;else for(t=0;a>t;t++)e[t][n][1]=o}for(n=0;r>n;++n)s[n]=0;return s},zero:ha});bo.layout.histogram=function(){function e(e,r){for(var o,s,l=[],c=e.map(n,this),u=i.call(this,c,r),h=a.call(this,u,c,r),r=-1,f=c.length,d=h.length-1,p=t?1:1/f;++r<d;)o=l[r]=[],o.dx=h[r+1]-(o.x=h[r]),o.y=0;if(d>0)for(r=-1;++r<f;)s=c[r],s>=u[0]&&s<=u[1]&&(o=l[bo.bisect(h,s,1,d)-1],o.y+=p,o.push(e[r]));return l}var t=!0,n=Number,i=ba,a=ma;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(i=ft(t),e):i},e.bins=function(t){return arguments.length?(a="number"==typeof t?function(e){return ga(e,t)}:ft(t),e):a},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},bo.layout.tree=function(){function e(e,r){function o(e,t){var i=e.children,a=e._tree;if(i&&(r=i.length)){for(var r,s,c,u=i[0],h=u,f=-1;++f<r;)c=i[f],o(c,s),h=l(c,s,h),s=c;ja(e);var d=.5*(u._tree.prelim+c._tree.prelim);t?(a.prelim=t._tree.prelim+n(e,t),a.mod=a.prelim-d):a.prelim=d}else t&&(a.prelim=t._tree.prelim+n(e,t))}function s(e,t){e.x=e._tree.prelim+t;var n=e.children;if(n&&(i=n.length)){var i,a=-1;for(t+=e._tree.mod;++a<i;)s(n[a],t)}}function l(e,t,i){if(t){for(var a,r=e,o=e,s=t,l=e.parent.children[0],c=r._tree.mod,u=o._tree.mod,h=s._tree.mod,f=l._tree.mod;s=wa(s),r=ya(r),s&&r;)l=ya(l),o=wa(o),o._tree.ancestor=e,a=s._tree.prelim+h-r._tree.prelim-c+n(s,r),a>0&&(Fa(Ea(s,e,i),e,a),c+=a,u+=a),h+=s._tree.mod,c+=r._tree.mod,f+=l._tree.mod,u+=o._tree.mod;s&&!wa(o)&&(o._tree.thread=s,o._tree.mod+=h-u),r&&!ya(l)&&(l._tree.thread=r,l._tree.mod+=c-f,i=e)}return i}var c=t.call(this,e,r),u=c[0];Sa(u,function(e,t){e._tree={ancestor:e,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}}),o(u),s(u,-u._tree.prelim);var h=_a(u,xa),f=_a(u,ka),d=_a(u,Ca),p=h.x-n(h,f)/2,m=f.x+n(f,h)/2,g=d.depth||1;return Sa(u,a?function(e){e.x*=i[0],e.y=e.depth*i[1],delete e._tree}:function(e){e.x=(e.x-p)/(m-p)*i[0],e.y=e.depth/g*i[1],delete e._tree}),c}var t=bo.layout.hierarchy().sort(null).value(null),n=va,i=[1,1],a=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(a=null==(i=t),e):a?null:i},e.nodeSize=function(t){return arguments.length?(a=null!=(i=t),e):a?i:null},na(e,t)},bo.layout.pack=function(){function e(e,r){var o=n.call(this,e,r),s=o[0],l=a[0],c=a[1],u=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,Sa(s,function(e){e.r=+u(e.value)}),Sa(s,qa),i){var h=i*(t?1:Math.max(2*s.r/l,2*s.r/c))/2;Sa(s,function(e){e.r+=h}),Sa(s,qa),Sa(s,function(e){e.r-=h})}return La(s,l/2,c/2,t?1:1/Math.max(2*s.r/l,2*s.r/c)),o}var t,n=bo.layout.hierarchy().sort(Ma),i=0,a=[1,1];return e.size=function(t){return arguments.length?(a=t,e):a},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(i=+t,e):i},na(e,n)},bo.layout.cluster=function(){function e(e,r){var o,s=t.call(this,e,r),l=s[0],c=0;Sa(l,function(e){var t=e.children;t&&t.length?(e.x=Ia(t),e.y=Qa(t)):(e.x=o?c+=n(e,o):0,e.y=0,o=e)});var u=Oa(l),h=$a(l),f=u.x-n(u,h)/2,d=h.x+n(h,u)/2;return Sa(l,a?function(e){e.x=(e.x-l.x)*i[0],e.y=(l.y-e.y)*i[1]}:function(e){e.x=(e.x-f)/(d-f)*i[0],e.y=(1-(l.y?e.y/l.y:1))*i[1]}),s}var t=bo.layout.hierarchy().sort(null).value(null),n=va,i=[1,1],a=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(a=null==(i=t),e):a?null:i},e.nodeSize=function(t){return arguments.length?(a=null!=(i=t),e):a?i:null},na(e,t)},bo.layout.treemap=function(){function e(e,t){for(var n,i,a=-1,r=e.length;++a<r;)i=(n=e[a]).value*(0>t?0:t),n.area=isNaN(i)||0>=i?0:i}function t(n){var r=n.children;if(r&&r.length){var o,s,l,c=h(n),u=[],f=r.slice(),p=1/0,m="slice"===d?c.dx:"dice"===d?c.dy:"slice-dice"===d?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(e(f,c.dx*c.dy/n.value),u.area=0;(l=f.length)>0;)u.push(o=f[l-1]),u.area+=o.area,"squarify"!==d||(s=i(u,m))<=p?(f.pop(),p=s):(u.area-=u.pop().area,a(u,m,c,!1),m=Math.min(c.dx,c.dy),u.length=u.area=0,p=1/0);u.length&&(a(u,m,c,!0),u.length=u.area=0),r.forEach(t)}}function n(t){var i=t.children;if(i&&i.length){var r,o=h(t),s=i.slice(),l=[];for(e(s,o.dx*o.dy/t.value),l.area=0;r=s.pop();)l.push(r),l.area+=r.area,null!=r.z&&(a(l,r.z?o.dx:o.dy,o,!s.length),l.length=l.area=0);i.forEach(n)}}function i(e,t){for(var n,i=e.area,a=0,r=1/0,o=-1,s=e.length;++o<s;)(n=e[o].area)&&(r>n&&(r=n),n>a&&(a=n));return i*=i,t*=t,i?Math.max(t*a*p/i,i/(t*r*p)):1/0}function a(e,t,n,i){var a,r=-1,o=e.length,s=n.x,c=n.y,u=t?l(e.area/t):0;if(t==n.dx){for((i||u>n.dy)&&(u=n.dy);++r<o;)a=e[r],a.x=s,a.y=c,a.dy=u,s+=a.dx=Math.min(n.x+n.dx-s,u?l(a.area/u):0);a.z=!0,a.dx+=n.x+n.dx-s,n.y+=u,n.dy-=u}else{for((i||u>n.dx)&&(u=n.dx);++r<o;)a=e[r],a.x=s,a.y=c,a.dx=u,c+=a.dy=Math.min(n.y+n.dy-c,u?l(a.area/u):0);a.z=!1,a.dy+=n.y+n.dy-c,n.x+=u,n.dx-=u}}function r(i){var a=o||s(i),r=a[0];return r.x=0,r.y=0,r.dx=c[0],r.dy=c[1],o&&s.revalue(r),e([r],r.dx*r.dy/r.value),(o?n:t)(r),f&&(o=a),a}var o,s=bo.layout.hierarchy(),l=Math.round,c=[1,1],u=null,h=Ra,f=!1,d="squarify",p=.5*(1+Math.sqrt(5));return r.size=function(e){return arguments.length?(c=e,r):c},r.padding=function(e){function t(t){var n=e.call(r,t,t.depth);return null==n?Ra(t):za(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return za(t,e)}if(!arguments.length)return u;var i;return h=null==(u=e)?Ra:"function"==(i=typeof e)?t:"number"===i?(e=[e,e,e,e],n):n,r},r.round=function(e){return arguments.length?(l=e?Math.round:Number,r):l!=Number},r.sticky=function(e){return arguments.length?(f=e,o=null,r):f},r.ratio=function(e){return arguments.length?(p=e,r):p},r.mode=function(e){return arguments.length?(d=e+"",r):d},na(r,s)},bo.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,i,a;do n=2*Math.random()-1,i=2*Math.random()-1,a=n*n+i*i;while(!a||a>1);return e+t*n*Math.sqrt(-2*Math.log(a)/a)}},logNormal:function(){var e=bo.random.normal.apply(bo,arguments);return function(){return Math.exp(e())}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t/e}}},bo.scale={};var xl={floor:dt,ceil:dt};bo.scale.linear=function(){return Va([0,1],[0,1],ki,!1)},bo.scale.log=function(){return ir(bo.scale.linear().domain([0,1]),10,!0,[1,10])};var Cl=bo.format(".0e"),Sl={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};bo.scale.pow=function(){return ar(bo.scale.linear(),1,[0,1])},bo.scale.sqrt=function(){return bo.scale.pow().exponent(.5)},bo.scale.ordinal=function(){return or([],{t:"range",a:[[]]})},bo.scale.category10=function(){return bo.scale.ordinal().range(jl)},bo.scale.category20=function(){return bo.scale.ordinal().range(Fl)},bo.scale.category20b=function(){return bo.scale.ordinal().range(El)},bo.scale.category20c=function(){return bo.scale.ordinal().range(Ml)};var jl=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],Fl=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],El=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],Ml=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];bo.scale.quantile=function(){return sr([],[])},bo.scale.quantize=function(){return lr(0,1,[0,1])},bo.scale.threshold=function(){return cr([.5],[0,1])},bo.scale.identity=function(){return ur([0,1])},bo.svg.arc=function(){function e(){var e=t.apply(this,arguments),r=n.apply(this,arguments),o=i.apply(this,arguments)+Bl,s=a.apply(this,arguments)+Bl,l=(o>s&&(l=o,o=s,s=l),s-o),c=Yo>l?"0":"1",u=Math.cos(o),h=Math.sin(o),f=Math.cos(s),d=Math.sin(s);return l>=Tl?e?"M0,"+r+"A"+r+","+r+" 0 1,1 0,"+-r+"A"+r+","+r+" 0 1,1 0,"+r+"M0,"+e+"A"+e+","+e+" 0 1,0 0,"+-e+"A"+e+","+e+" 0 1,0 0,"+e+"Z":"M0,"+r+"A"+r+","+r+" 0 1,1 0,"+-r+"A"+r+","+r+" 0 1,1 0,"+r+"Z":e?"M"+r*u+","+r*h+"A"+r+","+r+" 0 "+c+",1 "+r*f+","+r*d+"L"+e*f+","+e*d+"A"+e+","+e+" 0 "+c+",0 "+e*u+","+e*h+"Z":"M"+r*u+","+r*h+"A"+r+","+r+" 0 "+c+",1 "+r*f+","+r*d+"L0,0Z"}var t=hr,n=fr,i=dr,a=pr;return e.innerRadius=function(n){return arguments.length?(t=ft(n),e):t},e.outerRadius=function(t){return arguments.length?(n=ft(t),e):n},e.startAngle=function(t){return arguments.length?(i=ft(t),e):i},e.endAngle=function(t){return arguments.length?(a=ft(t),e):a},e.centroid=function(){var e=(t.apply(this,arguments)+n.apply(this,arguments))/2,r=(i.apply(this,arguments)+a.apply(this,arguments))/2+Bl;return[Math.cos(r)*e,Math.sin(r)*e]},e};var Bl=-Yo/2,Tl=2*Yo-1e-6;bo.svg.line.radial=function(){var e=On(mr);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Wn.reverse=Kn,Kn.reverse=Wn,bo.svg.area=function(){return gr(dt)},bo.svg.area.radial=function(){var e=gr(mr);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},bo.svg.chord=function(){function e(e,s){var l=t(this,r,e,s),c=t(this,o,e,s);return"M"+l.p0+i(l.r,l.p1,l.a1-l.a0)+(n(l,c)?a(l.r,l.p1,l.r,l.p0):a(l.r,l.p1,c.r,c.p0)+i(c.r,c.p1,c.a1-c.a0)+a(c.r,c.p1,l.r,l.p0))+"Z"}function t(e,t,n,i){var a=t.call(e,n,i),r=s.call(e,a,i),o=l.call(e,a,i)+Bl,u=c.call(e,a,i)+Bl;return{r:r,a0:o,a1:u,p0:[r*Math.cos(o),r*Math.sin(o)],p1:[r*Math.cos(u),r*Math.sin(u)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function i(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Yo)+",1 "+t}function a(e,t,n,i){return"Q 0,0 "+i}var r=Bn,o=Tn,s=br,l=dr,c=pr;return e.radius=function(t){return arguments.length?(s=ft(t),e):s},e.source=function(t){return arguments.length?(r=ft(t),e):r},e.target=function(t){return arguments.length?(o=ft(t),e):o},e.startAngle=function(t){return arguments.length?(l=ft(t),e):l},e.endAngle=function(t){return arguments.length?(c=ft(t),e):c},e},bo.svg.diagonal=function(){function e(e,a){var r=t.call(this,e,a),o=n.call(this,e,a),s=(r.y+o.y)/2,l=[r,{x:r.x,y:s},{x:o.x,y:s},o];return l=l.map(i),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=Bn,n=Tn,i=vr;return e.source=function(n){return arguments.length?(t=ft(n),e):t},e.target=function(t){return arguments.length?(n=ft(t),e):n},e.projection=function(t){return arguments.length?(i=t,e):i},e},bo.svg.diagonal.radial=function(){var e=bo.svg.diagonal(),t=vr,n=e.projection;return e.projection=function(e){return arguments.length?n(yr(t=e)):t},e},bo.svg.symbol=function(){function e(e,i){return(Al.get(t.call(this,e,i))||kr)(n.call(this,e,i))}var t=_r,n=wr;return e.type=function(n){return arguments.length?(t=ft(n),e):t},e.size=function(t){return arguments.length?(n=ft(t),e):n},e};var Al=bo.map({circle:kr,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Ll)),n=t*Ll;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Pl),n=t*Pl/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Pl),n=t*Pl/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});bo.svg.symbolTypes=Al.keys();var ql,Dl,Pl=Math.sqrt(3),Ll=Math.tan(30*es),Nl=[],Ql=0;Nl.call=Io.call,Nl.empty=Io.empty,Nl.node=Io.node,Nl.size=Io.size,bo.transition=function(e){return arguments.length?ql?e.transition():e:Ro.transition()},bo.transition.prototype=Nl,Nl.select=function(e){var t,n,i,a=this.id,r=[];e=b(e);for(var o=-1,s=this.length;++o<s;){r.push(t=[]);for(var l=this[o],c=-1,u=l.length;++c<u;)(i=l[c])&&(n=e.call(i,i.__data__,c,o))?("__data__"in i&&(n.__data__=i.__data__),jr(n,c,a,i.__transition__[a]),t.push(n)):t.push(null)}return xr(r,a)},Nl.selectAll=function(e){var t,n,i,a,r,o=this.id,s=[];e=v(e);for(var l=-1,c=this.length;++l<c;)for(var u=this[l],h=-1,f=u.length;++h<f;)if(i=u[h]){r=i.__transition__[o],n=e.call(i,i.__data__,h,l),s.push(t=[]);for(var d=-1,p=n.length;++d<p;)(a=n[d])&&jr(a,d,o,r),t.push(a)}return xr(s,o)},Nl.filter=function(e){var t,n,i,a=[];"function"!=typeof e&&(e=E(e));for(var r=0,o=this.length;o>r;r++){a.push(t=[]);for(var n=this[r],s=0,l=n.length;l>s;s++)(i=n[s])&&e.call(i,i.__data__,s)&&t.push(i)}return xr(a,this.id,this.time).ease(this.ease())},Nl.tween=function(e,t){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(e):B(this,null==t?function(t){t.__transition__[n].tween.remove(e)}:function(i){i.__transition__[n].tween.set(e,t)})},Nl.attr=function(e,t){function n(){this.removeAttribute(s)}function i(){this.removeAttributeNS(s.space,s.local)}function a(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(s);return n!==e&&(t=o(n,e),function(e){this.setAttribute(s,t(e))})})}function r(e){return null==e?i:(e+="",function(){var t,n=this.getAttributeNS(s.space,s.local);return n!==e&&(t=o(n,e),function(e){this.setAttributeNS(s.space,s.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var o="transform"==e?Ui:ki,s=bo.ns.qualify(e);return Cr(this,"attr."+e,t,s.local?r:a)},Nl.attrTween=function(e,t){function n(e,n){var i=t.call(this,e,n,this.getAttribute(a));return i&&function(e){this.setAttribute(a,i(e))}}function i(e,n){var i=t.call(this,e,n,this.getAttributeNS(a.space,a.local));return i&&function(e){this.setAttributeNS(a.space,a.local,i(e))}}var a=bo.ns.qualify(e);return this.tween("attr."+e,a.local?i:n)},Nl.style=function(e,t,n){function i(){this.style.removeProperty(e)}function a(t){return null==t?i:(t+="",function(){var i,a=wo.getComputedStyle(this,null).getPropertyValue(e);return a!==t&&(i=ki(a,t),function(t){this.style.setProperty(e,i(t),n)})})}var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return Cr(this,"style."+e,t,a)},Nl.styleTween=function(e,t,n){function i(i,a){var r=t.call(this,i,a,wo.getComputedStyle(this,null).getPropertyValue(e));return r&&function(t){this.style.setProperty(e,r(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,i)},Nl.text=function(e){return Cr(this,"text",e,Sr)},Nl.remove=function(){return this.each("end.transition",function(){var e;!this.__transition__&&(e=this.parentNode)&&e.removeChild(this)})},Nl.ease=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].ease:("function"!=typeof e&&(e=bo.ease.apply(bo,arguments)),B(this,function(n){n.__transition__[t].ease=e}))},Nl.delay=function(e){var t=this.id;return B(this,"function"==typeof e?function(n,i,a){n.__transition__[t].delay=0|e.call(n,n.__data__,i,a)}:(e|=0,function(n){n.__transition__[t].delay=e}))},Nl.duration=function(e){var t=this.id;return B(this,"function"==typeof e?function(n,i,a){n.__transition__[t].duration=Math.max(1,0|e.call(n,n.__data__,i,a))}:(e=Math.max(1,0|e),function(n){n.__transition__[t].duration=e}))},Nl.each=function(e,t){var n=this.id;if(arguments.length<2){var i=Dl,a=ql;ql=n,B(this,function(t,i,a){Dl=t.__transition__[n],e.call(t,t.__data__,i,a)}),Dl=i,ql=a}else B(this,function(i){var a=i.__transition__[n];(a.event||(a.event=bo.dispatch("start","end"))).on(e,t)});return this},Nl.transition=function(){for(var e,t,n,i,a=this.id,r=++Ql,o=[],s=0,l=this.length;l>s;s++){o.push(e=[]);for(var t=this[s],c=0,u=t.length;u>c;c++)(n=t[c])&&(i=Object.create(n.__transition__[a]),i.delay+=i.duration,jr(n,c,r,i)),e.push(n)}return xr(o,r)},bo.svg.axis=function(){function e(e){e.each(function(){var e,h=bo.select(this),f=null==c?n.ticks?n.ticks.apply(n,l):n.domain():c,d=null==t?n.tickFormat?n.tickFormat.apply(n,l):String:t,p=Mr(n,f,u),m=h.selectAll(".tick.minor").data(p,String),g=m.enter().insert("line",".tick").attr("class","tick minor").style("opacity",1e-6),b=bo.transition(m.exit()).style("opacity",1e-6).remove(),v=bo.transition(m).style("opacity",1),y=h.selectAll(".tick.major").data(f,String),w=y.enter().insert("g",".domain").attr("class","tick major").style("opacity",1e-6),_=bo.transition(y.exit()).style("opacity",1e-6).remove(),k=bo.transition(y).style("opacity",1),x=Ua(n),C=h.selectAll(".domain").data([0]),S=(C.enter().append("path").attr("class","domain"),bo.transition(C)),j=n.copy(),F=this.__chart__||j;this.__chart__=j,w.append("line"),w.append("text");var E=w.select("line"),M=k.select("line"),B=y.select("text").text(d),T=w.select("text"),A=k.select("text");switch(i){case"bottom":e=Fr,g.attr("y2",r),v.attr("x2",0).attr("y2",r),E.attr("y2",a),T.attr("y",Math.max(a,0)+s),M.attr("x2",0).attr("y2",a),A.attr("x",0).attr("y",Math.max(a,0)+s),B.attr("dy",".71em").style("text-anchor","middle"),S.attr("d","M"+x[0]+","+o+"V0H"+x[1]+"V"+o);break;case"top":e=Fr,g.attr("y2",-r),v.attr("x2",0).attr("y2",-r),E.attr("y2",-a),T.attr("y",-(Math.max(a,0)+s)),M.attr("x2",0).attr("y2",-a),A.attr("x",0).attr("y",-(Math.max(a,0)+s)),B.attr("dy","0em").style("text-anchor","middle"),S.attr("d","M"+x[0]+","+-o+"V0H"+x[1]+"V"+-o);break;case"left":e=Er,g.attr("x2",-r),v.attr("x2",-r).attr("y2",0),E.attr("x2",-a),T.attr("x",-(Math.max(a,0)+s)),M.attr("x2",-a).attr("y2",0),A.attr("x",-(Math.max(a,0)+s)).attr("y",0),B.attr("dy",".32em").style("text-anchor","end"),S.attr("d","M"+-o+","+x[0]+"H0V"+x[1]+"H"+-o);break;case"right":e=Er,g.attr("x2",r),v.attr("x2",r).attr("y2",0),E.attr("x2",a),T.attr("x",Math.max(a,0)+s),M.attr("x2",a).attr("y2",0),A.attr("x",Math.max(a,0)+s).attr("y",0),B.attr("dy",".32em").style("text-anchor","start"),S.attr("d","M"+o+","+x[0]+"H0V"+x[1]+"H"+o)}if(n.rangeBand){var q=j.rangeBand()/2,D=function(e){return j(e)+q};w.call(e,D),k.call(e,D)}else w.call(e,F),k.call(e,j),_.call(e,j),g.call(e,F),v.call(e,j),b.call(e,j)})}var t,n=bo.scale.linear(),i=Il,a=6,r=6,o=6,s=3,l=[10],c=null,u=0;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(i=t in Ol?t+"":Il,e):i},e.ticks=function(){return arguments.length?(l=arguments,e):l},e.tickValues=function(t){return arguments.length?(c=t,e):c},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t,n){if(!arguments.length)return a;var i=arguments.length-1;return a=+t,r=i>1?+n:a,o=i>0?+arguments[i]:a,e},e.tickPadding=function(t){return arguments.length?(s=+t,e):s},e.tickSubdivide=function(t){return arguments.length?(u=+t,e):u},e};var Il="bottom",Ol={top:1,right:1,bottom:1,left:1};bo.svg.brush=function(){function e(r){r.each(function(){var r,o=bo.select(this),u=o.selectAll(".background").data([0]),h=o.selectAll(".extent").data([0]),f=o.selectAll(".resize").data(c,String);o.style("pointer-events","all").on("mousedown.brush",a).on("touchstart.brush",a),u.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),h.enter().append("rect").attr("class","extent").style("cursor","move"),f.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return $l[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null
}).attr("width",6).attr("height",6).style("visibility","hidden"),f.style("display",e.empty()?"none":null),f.exit().remove(),s&&(r=Ua(s),u.attr("x",r[0]).attr("width",r[1]-r[0]),n(o)),l&&(r=Ua(l),u.attr("y",r[0]).attr("height",r[1]-r[0]),i(o)),t(o)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+u[+/e$/.test(e)][0]+","+u[+/^s/.test(e)][1]+")"})}function n(e){e.select(".extent").attr("x",u[0][0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",u[1][0]-u[0][0])}function i(e){e.select(".extent").attr("y",u[0][1]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",u[1][1]-u[0][1])}function a(){function a(){var e=bo.event.changedTouches;return e?bo.touches(y,e)[0]:bo.mouse(y)}function c(){32==bo.event.keyCode&&(j||(b=null,E[0]-=u[1][0],E[1]-=u[1][1],j=2),d())}function f(){32==bo.event.keyCode&&2==j&&(E[0]+=u[1][0],E[1]+=u[1][1],j=0,d())}function p(){var e=a(),r=!1;v&&(e[0]+=v[0],e[1]+=v[1]),j||(bo.event.altKey?(b||(b=[(u[0][0]+u[1][0])/2,(u[0][1]+u[1][1])/2]),E[0]=u[+(e[0]<b[0])][0],E[1]=u[+(e[1]<b[1])][1]):b=null),C&&m(e,s,0)&&(n(k),r=!0),S&&m(e,l,1)&&(i(k),r=!0),r&&(t(k),_({type:"brush",mode:j?"move":"resize"}))}function m(e,t,n){var i,a,o=Ua(t),s=o[0],l=o[1],c=E[n],f=u[1][n]-u[0][n];return j&&(s-=c,l-=f+c),i=h[n]?Math.max(s,Math.min(l,e[n])):e[n],j?a=(i+=c)+f:(b&&(c=Math.max(s,Math.min(l,2*b[n]-i))),i>c?(a=i,i=c):a=c),u[0][n]!==i||u[1][n]!==a?(r=null,u[0][n]=i,u[1][n]=a,!0):void 0}function g(){p(),k.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),bo.select("body").style("cursor",null),M.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),F(),_({type:"brushend"})}var b,v,y=this,w=bo.select(bo.event.target),_=o.of(y,arguments),k=bo.select(y),x=w.datum(),C=!/^(n|s)$/.test(x)&&s,S=!/^(e|w)$/.test(x)&&l,j=w.classed("extent"),F=L(),E=a(),M=bo.select(wo).on("keydown.brush",c).on("keyup.brush",f);if(bo.event.changedTouches?M.on("touchmove.brush",p).on("touchend.brush",g):M.on("mousemove.brush",p).on("mouseup.brush",g),j)E[0]=u[0][0]-E[0],E[1]=u[0][1]-E[1];else if(x){var B=+/w$/.test(x),T=+/^n/.test(x);v=[u[1-B][0]-E[0],u[1-T][1]-E[1]],E[0]=u[B][0],E[1]=u[T][1]}else bo.event.altKey&&(b=E.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null),bo.select("body").style("cursor",w.style("cursor")),_({type:"brushstart"}),p()}var r,o=m(e,"brushstart","brush","brushend"),s=null,l=null,c=Rl[0],u=[[0,0],[0,0]],h=[!0,!0];return e.x=function(t){return arguments.length?(s=t,c=Rl[!s<<1|!l],e):s},e.y=function(t){return arguments.length?(l=t,c=Rl[!s<<1|!l],e):l},e.clamp=function(t){return arguments.length?(s&&l?h=[!!t[0],!!t[1]]:(s||l)&&(h[+!s]=!!t),e):s&&l?h:s||l?h[+!s]:null},e.extent=function(t){var n,i,a,o,c;return arguments.length?(r=[[0,0],[0,0]],s&&(n=t[0],i=t[1],l&&(n=n[0],i=i[0]),r[0][0]=n,r[1][0]=i,s.invert&&(n=s(n),i=s(i)),n>i&&(c=n,n=i,i=c),u[0][0]=0|n,u[1][0]=0|i),l&&(a=t[0],o=t[1],s&&(a=a[1],o=o[1]),r[0][1]=a,r[1][1]=o,l.invert&&(a=l(a),o=l(o)),a>o&&(c=a,a=o,o=c),u[0][1]=0|a,u[1][1]=0|o),e):(t=r||u,s&&(n=t[0][0],i=t[1][0],r||(n=u[0][0],i=u[1][0],s.invert&&(n=s.invert(n),i=s.invert(i)),n>i&&(c=n,n=i,i=c))),l&&(a=t[0][1],o=t[1][1],r||(a=u[0][1],o=u[1][1],l.invert&&(a=l.invert(a),o=l.invert(o)),a>o&&(c=a,a=o,o=c))),s&&l?[[n,a],[i,o]]:s?[n,i]:l&&[a,o])},e.clear=function(){return r=null,u[0][0]=u[0][1]=u[1][0]=u[1][1]=0,e},e.empty=function(){return s&&u[0][0]===u[1][0]||l&&u[0][1]===u[1][1]},bo.rebind(e,o,"on")};var $l={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Rl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];bo.time={};var zl=Date,Hl=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Br.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ul.setUTCDate.apply(this._,arguments)},setDay:function(){Ul.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ul.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ul.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ul.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ul.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ul.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ul.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ul.setTime.apply(this._,arguments)}};var Ul=Date.prototype,Wl="%a %b %e %X %Y",Kl="%m/%d/%Y",Xl="%H:%M:%S",Zl=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Vl=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Yl=["January","February","March","April","May","June","July","August","September","October","November","December"],Jl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];bo.time.year=Tr(function(e){return e=bo.time.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),bo.time.years=bo.time.year.range,bo.time.years.utc=bo.time.year.utc.range,bo.time.day=Tr(function(e){var t=new zl(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),bo.time.days=bo.time.day.range,bo.time.days.utc=bo.time.day.utc.range,bo.time.dayOfYear=function(e){var t=bo.time.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},Hl.forEach(function(e,t){e=e.toLowerCase(),t=7-t;var n=bo.time[e]=Tr(function(e){return(e=bo.time.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=bo.time.year(e).getDay();return Math.floor((bo.time.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});bo.time[e+"s"]=n.range,bo.time[e+"s"].utc=n.utc.range,bo.time[e+"OfYear"]=function(e){var n=bo.time.year(e).getDay();return Math.floor((bo.time.dayOfYear(e)+(n+t)%7)/7)}}),bo.time.week=bo.time.sunday,bo.time.weeks=bo.time.sunday.range,bo.time.weeks.utc=bo.time.sunday.utc.range,bo.time.weekOfYear=bo.time.sundayOfYear,bo.time.format=function(e){function t(t){for(var i,a,r,o=[],s=-1,l=0;++s<n;)37===e.charCodeAt(s)&&(o.push(e.substring(l,s)),null!=(a=lc[i=e.charAt(++s)])&&(i=e.charAt(++s)),(r=cc[i])&&(i=r(t,null==a?"e"===i?" ":"0":a)),o.push(i),l=s+1);return o.push(e.substring(l,s)),o.join("")}var n=e.length;return t.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},i=qr(n,e,t,0);if(i!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var a=new zl;return"j"in n?a.setFullYear(n.y,0,n.j):"w"in n&&("W"in n||"U"in n)?(a.setFullYear(n.y,0,1),a.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(a.getDay()+5)%7:n.w+7*n.U-(a.getDay()+6)%7)):a.setFullYear(n.y,n.m,n.d),a.setHours(n.H,n.M,n.S,n.L),a},t.toString=function(){return e},t};var Gl=Dr(Zl),ec=Pr(Zl),tc=Dr(Vl),nc=Pr(Vl),ic=Dr(Yl),ac=Pr(Yl),rc=Dr(Jl),oc=Pr(Jl),sc=/^%/,lc={"-":"",_:" ",0:"0"},cc={a:function(e){return Vl[e.getDay()]},A:function(e){return Zl[e.getDay()]},b:function(e){return Jl[e.getMonth()]},B:function(e){return Yl[e.getMonth()]},c:bo.time.format(Wl),d:function(e,t){return Lr(e.getDate(),t,2)},e:function(e,t){return Lr(e.getDate(),t,2)},H:function(e,t){return Lr(e.getHours(),t,2)},I:function(e,t){return Lr(e.getHours()%12||12,t,2)},j:function(e,t){return Lr(1+bo.time.dayOfYear(e),t,3)},L:function(e,t){return Lr(e.getMilliseconds(),t,3)},m:function(e,t){return Lr(e.getMonth()+1,t,2)},M:function(e,t){return Lr(e.getMinutes(),t,2)},p:function(e){return e.getHours()>=12?"PM":"AM"},S:function(e,t){return Lr(e.getSeconds(),t,2)},U:function(e,t){return Lr(bo.time.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Lr(bo.time.mondayOfYear(e),t,2)},x:bo.time.format(Kl),X:bo.time.format(Xl),y:function(e,t){return Lr(e.getFullYear()%100,t,2)},Y:function(e,t){return Lr(e.getFullYear()%1e4,t,4)},Z:ao,"%":function(){return"%"}},uc={a:Nr,A:Qr,b:Rr,B:zr,c:Hr,d:Yr,e:Yr,H:Gr,I:Gr,j:Jr,L:no,m:Vr,M:eo,p:io,S:to,U:Or,w:Ir,W:$r,x:Ur,X:Wr,y:Xr,Y:Kr,"%":ro},hc=/^\s*\d+/,fc=bo.map({am:0,pm:1});bo.time.format.utc=function(e){function t(e){try{zl=Br;var t=new zl;return t._=e,n(t)}finally{zl=Date}}var n=bo.time.format(e);return t.parse=function(e){try{zl=Br;var t=n.parse(e);return t&&t._}finally{zl=Date}},t.toString=n.toString,t};var dc=bo.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");bo.time.format.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?oo:dc,oo.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},oo.toString=dc.toString,bo.time.second=Tr(function(e){return new zl(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),bo.time.seconds=bo.time.second.range,bo.time.seconds.utc=bo.time.second.utc.range,bo.time.minute=Tr(function(e){return new zl(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),bo.time.minutes=bo.time.minute.range,bo.time.minutes.utc=bo.time.minute.utc.range,bo.time.hour=Tr(function(e){var t=e.getTimezoneOffset()/60;return new zl(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),bo.time.hours=bo.time.hour.range,bo.time.hours.utc=bo.time.hour.utc.range,bo.time.month=Tr(function(e){return e=bo.time.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),bo.time.months=bo.time.month.range,bo.time.months.utc=bo.time.month.utc.range;var pc=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],mc=[[bo.time.second,1],[bo.time.second,5],[bo.time.second,15],[bo.time.second,30],[bo.time.minute,1],[bo.time.minute,5],[bo.time.minute,15],[bo.time.minute,30],[bo.time.hour,1],[bo.time.hour,3],[bo.time.hour,6],[bo.time.hour,12],[bo.time.day,1],[bo.time.day,2],[bo.time.week,1],[bo.time.month,1],[bo.time.month,3],[bo.time.year,1]],gc=[[bo.time.format("%Y"),Rt],[bo.time.format("%B"),function(e){return e.getMonth()}],[bo.time.format("%b %d"),function(e){return 1!=e.getDate()}],[bo.time.format("%a %d"),function(e){return e.getDay()&&1!=e.getDate()}],[bo.time.format("%I %p"),function(e){return e.getHours()}],[bo.time.format("%I:%M"),function(e){return e.getMinutes()}],[bo.time.format(":%S"),function(e){return e.getSeconds()}],[bo.time.format(".%L"),function(e){return e.getMilliseconds()}]],bc=bo.scale.linear(),vc=co(gc);mc.year=function(e,t){return bc.domain(e.map(ho)).ticks(t).map(uo)},bo.time.scale=function(){return so(bo.scale.linear(),mc,vc)};var yc=mc.map(function(e){return[e[0].utc,e[1]]}),wc=[[bo.time.format.utc("%Y"),Rt],[bo.time.format.utc("%B"),function(e){return e.getUTCMonth()}],[bo.time.format.utc("%b %d"),function(e){return 1!=e.getUTCDate()}],[bo.time.format.utc("%a %d"),function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],[bo.time.format.utc("%I %p"),function(e){return e.getUTCHours()}],[bo.time.format.utc("%I:%M"),function(e){return e.getUTCMinutes()}],[bo.time.format.utc(":%S"),function(e){return e.getUTCSeconds()}],[bo.time.format.utc(".%L"),function(e){return e.getUTCMilliseconds()}]],_c=co(wc);return yc.year=function(e,t){return bc.domain(e.map(po)).ticks(t).map(fo)},bo.time.scale.utc=function(){return so(bo.scale.linear(),yc,_c)},bo.text=pt(function(e){return e.responseText}),bo.json=function(e,t){return mt(e,"application/json",mo,t)},bo.html=function(e,t){return mt(e,"text/html",go,t)},bo.xml=pt(function(e){return e.responseXML}),bo}();