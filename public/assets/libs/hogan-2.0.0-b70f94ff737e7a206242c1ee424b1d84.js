/*
 *  Copyright 2011 Twitter, Inc.
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
var Hogan={};!function(e,t){function i(e){return String(null===e||void 0===e?"":e)}function n(e){return e=i(e),c.test(e)?e.replace(a,"&amp;").replace(r,"&lt;").replace(s,"&gt;").replace(o,"&#39;").replace(l,"&quot;"):e}e.Template=function(e,i,n,a){this.r=e||this.r,this.c=n,this.options=a,this.text=i||"",this.buf=t?[]:""},e.Template.prototype={r:function(){return""},v:n,t:i,render:function(e,t,i){return this.ri([e],t||{},i)},ri:function(e,t,i){return this.r(e,t,i)},rp:function(e,t,i,n){var a=i[e];return a?(this.c&&"string"==typeof a&&(a=this.c.compile(a,this.options)),a.ri(t,i,n)):""},rs:function(e,t,i){var n=e[e.length-1];if(!u(n))return i(e,t,this),void 0;for(var a=0;a<n.length;a++)e.push(n[a]),i(e,t,this),e.pop()},s:function(e,t,i,n,a,r,s){var o;return u(e)&&0===e.length?!1:("function"==typeof e&&(e=this.ls(e,t,i,n,a,r,s)),o=""===e||!!e,!n&&o&&t&&t.push("object"==typeof e?e:t[t.length-1]),o)},d:function(e,t,i,n){var a=e.split("."),r=this.f(a[0],t,i,n),s=null;if("."===e&&u(t[t.length-2]))return t[t.length-1];for(var o=1;o<a.length;o++)r&&"object"==typeof r&&a[o]in r?(s=r,r=r[a[o]]):r="";return n&&!r?!1:(n||"function"!=typeof r||(t.push(s),r=this.lv(r,t,i),t.pop()),r)},f:function(e,t,i,n){for(var a=!1,r=null,s=!1,o=t.length-1;o>=0;o--)if(r=t[o],r&&"object"==typeof r&&e in r){a=r[e],s=!0;break}return s?(n||"function"!=typeof a||(a=this.lv(a,t,i)),a):n?!1:""},ho:function(e,t,i,n,a){var r=this.c,s=this.options;s.delimiters=a;var n=e.call(t,n);return n=null==n?String(n):n.toString(),this.b(r.compile(n,s).render(t,i)),!1},b:t?function(e){this.buf.push(e)}:function(e){this.buf+=e},fl:t?function(){var e=this.buf.join("");return this.buf=[],e}:function(){var e=this.buf;return this.buf="",e},ls:function(e,t,i,n,a,r,s){var o=t[t.length-1],l=null;if(!n&&this.c&&e.length>0)return this.ho(e,o,i,this.text.substring(a,r),s);if(l=e.call(o),"function"==typeof l){if(n)return!0;if(this.c)return this.ho(l,o,i,this.text.substring(a,r),s)}return l},lv:function(e,t,n){var a=t[t.length-1],r=e.call(a);return"function"==typeof r&&(r=i(r.call(a)),this.c&&~r.indexOf("{{"))?this.c.compile(r,this.options).render(a,n):i(r)}};var a=/&/g,r=/</g,s=/>/g,o=/\'/g,l=/\"/g,c=/[&<>\"\']/,u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}("undefined"!=typeof exports?exports:Hogan),function(e){function t(e){"}"===e.n.substr(e.n.length-1)&&(e.n=e.n.substring(0,e.n.length-1))}function i(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function n(e,t,i){if(t.charAt(i)!=e.charAt(0))return!1;for(var n=1,a=e.length;a>n;n++)if(t.charAt(i+n)!=e.charAt(n))return!1;return!0}function a(e,t,i,n){for(var o=[],l=null,c=null;e.length>0;)if(c=e.shift(),"#"==c.tag||"^"==c.tag||r(c,n))i.push(c),c.nodes=a(e,c.tag,i,n),o.push(c);else{if("/"==c.tag){if(0===i.length)throw new Error("Closing tag without opener: /"+c.n);if(l=i.pop(),c.n!=l.n&&!s(c.n,l.n,n))throw new Error("Nesting error: "+l.n+" vs. "+c.n);return l.end=c.i,o}o.push(c)}if(i.length>0)throw new Error("missing closing tag: "+i.pop().n);return o}function r(e,t){for(var i=0,n=t.length;n>i;i++)if(t[i].o==e.n)return e.tag="#",!0}function s(e,t,i){for(var n=0,a=i.length;a>n;n++)if(i[n].c==e&&i[n].o==t)return!0}function o(e){return e.replace(w,"\\\\").replace(b,'\\"').replace(v,"\\n").replace(y,"\\r")}function l(e){return~e.indexOf(".")?"d":"f"}function c(e){for(var t="",i=0,n=e.length;n>i;i++){var a=e[i].tag;"#"==a?t+=u(e[i].nodes,e[i].n,l(e[i].n),e[i].i,e[i].end,e[i].otag+" "+e[i].ctag):"^"==a?t+=h(e[i].nodes,e[i].n,l(e[i].n)):"<"==a||">"==a?t+=f(e[i]):"{"==a||"&"==a?t+=d(e[i].n,l(e[i].n)):"\n"==a?t+=m('"\\n"'+(e.length-1==i?"":" + i")):"_v"==a?t+=p(e[i].n,l(e[i].n)):void 0===a&&(t+=m('"'+o(e[i])+'"'))}return t}function u(e,t,i,n,a,r){return"if(_.s(_."+i+'("'+o(t)+'",c,p,1),c,p,0,'+n+","+a+',"'+r+'")){_.rs(c,p,function(c,p,_){'+c(e)+"});c.pop();}"}function h(e,t,i){return"if(!_.s(_."+i+'("'+o(t)+'",c,p,1),c,p,1,0,0,"")){'+c(e)+"};"}function f(e){return'_.b(_.rp("'+o(e.n)+'",c,p,"'+(e.indent||"")+'"));'}function d(e,t){return"_.b(_.t(_."+t+'("'+o(e)+'",c,p,0)));'}function p(e,t){return"_.b(_.v(_."+t+'("'+o(e)+'",c,p,0)));'}function m(e){return"_.b("+e+");"}var g=/\S/,b=/\"/g,v=/\n/g,y=/\r/g,w=/\\/g,_={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};e.scan=function(e,a){function r(){b.length>0&&(v.push(new String(b)),b="")}function s(){for(var e=!0,t=x;t<v.length;t++)if(e=v[t].tag&&_[v[t].tag]<_._v||!v[t].tag&&null===v[t].match(g),!e)return!1;return e}function o(e,t){if(r(),e&&s())for(var i,n=x;n<v.length;n++)v[n].tag||((i=v[n+1])&&">"==i.tag&&(i.indent=v[n].toString()),v.splice(n,1));else t||v.push({tag:"\n"});y=!1,x=v.length}function l(e,t){var n="="+C,a=e.indexOf(n,t),r=i(e.substring(e.indexOf("=",t)+1,a)).split(" ");return k=r[0],C=r[1],a+n.length-1}var c=e.length,u=0,h=1,f=2,d=u,p=null,m=null,b="",v=[],y=!1,w=0,x=0,k="{{",C="}}";for(a&&(a=a.split(" "),k=a[0],C=a[1]),w=0;c>w;w++)d==u?n(k,e,w)?(--w,r(),d=h):"\n"==e.charAt(w)?o(y):b+=e.charAt(w):d==h?(w+=k.length-1,m=_[e.charAt(w+1)],p=m?e.charAt(w+1):"_v","="==p?(w=l(e,w),d=u):(m&&w++,d=f),y=w):n(C,e,w)?(v.push({tag:p,n:i(b),otag:k,ctag:C,i:"/"==p?y-C.length:w+k.length}),b="",w+=C.length-1,d=u,"{"==p&&("}}"==C?w++:t(v[v.length-1]))):b+=e.charAt(w);return o(y,!0),v},e.generate=function(t,i,n){var a='var _=this;_.b(i=i||"");'+c(t)+"return _.fl();";return n.asString?"function(c,p,i){"+a+";}":new e.Template(new Function("c","p","i",a),i,e,n)},e.parse=function(e,t,i){return i=i||{},a(e,"",[],i.sectionTags||[])},e.cache={},e.compile=function(e,t){t=t||{};var i=e+"||"+!!t.asString,n=this.cache[i];return n?n:(n=this.generate(this.parse(this.scan(e,t.delimiters),e,t),e,t),this.cache[i]=n)}}("undefined"!=typeof exports?exports:Hogan);