/*
 *  Copyright 2011 Twitter, Inc.
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
var Hogan={};!function(e,t){function n(e){return String(null===e||void 0===e?"":e)}function i(e){return e=n(e),c.test(e)?e.replace(a,"&amp;").replace(r,"&lt;").replace(o,"&gt;").replace(s,"&#39;").replace(l,"&quot;"):e}e.Template=function(e,n,i,a){this.r=e||this.r,this.c=i,this.options=a,this.text=n||"",this.buf=t?[]:""},e.Template.prototype={r:function(){return""},v:i,t:n,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n){return this.r(e,t,n)},rp:function(e,t,n,i){var a=n[e];return a?(this.c&&"string"==typeof a&&(a=this.c.compile(a,this.options)),a.ri(t,n,i)):""},rs:function(e,t,n){var i=e[e.length-1];if(!u(i))return void n(e,t,this);for(var a=0;a<i.length;a++)e.push(i[a]),n(e,t,this),e.pop()},s:function(e,t,n,i,a,r,o){var s;return u(e)&&0===e.length?!1:("function"==typeof e&&(e=this.ls(e,t,n,i,a,r,o)),s=""===e||!!e,!i&&s&&t&&t.push("object"==typeof e?e:t[t.length-1]),s)},d:function(e,t,n,i){var a=e.split("."),r=this.f(a[0],t,n,i),o=null;if("."===e&&u(t[t.length-2]))return t[t.length-1];for(var s=1;s<a.length;s++)r&&"object"==typeof r&&a[s]in r?(o=r,r=r[a[s]]):r="";return i&&!r?!1:(i||"function"!=typeof r||(t.push(o),r=this.lv(r,t,n),t.pop()),r)},f:function(e,t,n,i){for(var a=!1,r=null,o=!1,s=t.length-1;s>=0;s--)if(r=t[s],r&&"object"==typeof r&&e in r){a=r[e],o=!0;break}return o?(i||"function"!=typeof a||(a=this.lv(a,t,n)),a):i?!1:""},ho:function(e,t,n,i,a){var r=this.c,o=this.options;o.delimiters=a;var i=e.call(t,i);return i=null==i?String(i):i.toString(),this.b(r.compile(i,o).render(t,n)),!1},b:t?function(e){this.buf.push(e)}:function(e){this.buf+=e},fl:t?function(){var e=this.buf.join("");return this.buf=[],e}:function(){var e=this.buf;return this.buf="",e},ls:function(e,t,n,i,a,r,o){var s=t[t.length-1],l=null;if(!i&&this.c&&e.length>0)return this.ho(e,s,n,this.text.substring(a,r),o);if(l=e.call(s),"function"==typeof l){if(i)return!0;if(this.c)return this.ho(l,s,n,this.text.substring(a,r),o)}return l},lv:function(e,t,i){var a=t[t.length-1],r=e.call(a);return"function"==typeof r&&(r=n(r.call(a)),this.c&&~r.indexOf("{{"))?this.c.compile(r,this.options).render(a,i):n(r)}};var a=/&/g,r=/</g,o=/>/g,s=/\'/g,l=/\"/g,c=/[&<>\"\']/,u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}("undefined"!=typeof exports?exports:Hogan),function(e){function t(e){"}"===e.n.substr(e.n.length-1)&&(e.n=e.n.substring(0,e.n.length-1))}function n(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function i(e,t,n){if(t.charAt(n)!=e.charAt(0))return!1;for(var i=1,a=e.length;a>i;i++)if(t.charAt(n+i)!=e.charAt(i))return!1;return!0}function a(e,t,n,i){for(var s=[],l=null,c=null;e.length>0;)if(c=e.shift(),"#"==c.tag||"^"==c.tag||r(c,i))n.push(c),c.nodes=a(e,c.tag,n,i),s.push(c);else{if("/"==c.tag){if(0===n.length)throw new Error("Closing tag without opener: /"+c.n);if(l=n.pop(),c.n!=l.n&&!o(c.n,l.n,i))throw new Error("Nesting error: "+l.n+" vs. "+c.n);return l.end=c.i,s}s.push(c)}if(n.length>0)throw new Error("missing closing tag: "+n.pop().n);return s}function r(e,t){for(var n=0,i=t.length;i>n;n++)if(t[n].o==e.n)return e.tag="#",!0}function o(e,t,n){for(var i=0,a=n.length;a>i;i++)if(n[i].c==e&&n[i].o==t)return!0}function s(e){return e.replace(w,"\\\\").replace(b,'\\"').replace(v,"\\n").replace(y,"\\r")}function l(e){return~e.indexOf(".")?"d":"f"}function c(e){for(var t="",n=0,i=e.length;i>n;n++){var a=e[n].tag;"#"==a?t+=u(e[n].nodes,e[n].n,l(e[n].n),e[n].i,e[n].end,e[n].otag+" "+e[n].ctag):"^"==a?t+=f(e[n].nodes,e[n].n,l(e[n].n)):"<"==a||">"==a?t+=h(e[n]):"{"==a||"&"==a?t+=d(e[n].n,l(e[n].n)):"\n"==a?t+=m('"\\n"'+(e.length-1==n?"":" + i")):"_v"==a?t+=p(e[n].n,l(e[n].n)):void 0===a&&(t+=m('"'+s(e[n])+'"'))}return t}function u(e,t,n,i,a,r){return"if(_.s(_."+n+'("'+s(t)+'",c,p,1),c,p,0,'+i+","+a+',"'+r+'")){_.rs(c,p,function(c,p,_){'+c(e)+"});c.pop();}"}function f(e,t,n){return"if(!_.s(_."+n+'("'+s(t)+'",c,p,1),c,p,1,0,0,"")){'+c(e)+"};"}function h(e){return'_.b(_.rp("'+s(e.n)+'",c,p,"'+(e.indent||"")+'"));'}function d(e,t){return"_.b(_.t(_."+t+'("'+s(e)+'",c,p,0)));'}function p(e,t){return"_.b(_.v(_."+t+'("'+s(e)+'",c,p,0)));'}function m(e){return"_.b("+e+");"}var g=/\S/,b=/\"/g,v=/\n/g,y=/\r/g,w=/\\/g,x={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};e.scan=function(e,a){function r(){b.length>0&&(v.push(new String(b)),b="")}function o(){for(var e=!0,t=_;t<v.length;t++)if(e=v[t].tag&&x[v[t].tag]<x._v||!v[t].tag&&null===v[t].match(g),!e)return!1;return e}function s(e,t){if(r(),e&&o())for(var n,i=_;i<v.length;i++)v[i].tag||((n=v[i+1])&&">"==n.tag&&(n.indent=v[i].toString()),v.splice(i,1));else t||v.push({tag:"\n"});y=!1,_=v.length}function l(e,t){var i="="+C,a=e.indexOf(i,t),r=n(e.substring(e.indexOf("=",t)+1,a)).split(" ");return k=r[0],C=r[1],a+i.length-1}var c=e.length,u=0,f=1,h=2,d=u,p=null,m=null,b="",v=[],y=!1,w=0,_=0,k="{{",C="}}";for(a&&(a=a.split(" "),k=a[0],C=a[1]),w=0;c>w;w++)d==u?i(k,e,w)?(--w,r(),d=f):"\n"==e.charAt(w)?s(y):b+=e.charAt(w):d==f?(w+=k.length-1,m=x[e.charAt(w+1)],p=m?e.charAt(w+1):"_v","="==p?(w=l(e,w),d=u):(m&&w++,d=h),y=w):i(C,e,w)?(v.push({tag:p,n:n(b),otag:k,ctag:C,i:"/"==p?y-C.length:w+k.length}),b="",w+=C.length-1,d=u,"{"==p&&("}}"==C?w++:t(v[v.length-1]))):b+=e.charAt(w);return s(y,!0),v},e.generate=function(t,n,i){var a='var _=this;_.b(i=i||"");'+c(t)+"return _.fl();";return i.asString?"function(c,p,i){"+a+";}":new e.Template(new Function("c","p","i",a),n,e,i)},e.parse=function(e,t,n){return n=n||{},a(e,"",[],n.sectionTags||[])},e.cache={},e.compile=function(e,t){t=t||{};var n=e+"||"+!!t.asString,i=this.cache[n];return i?i:(i=this.generate(this.parse(this.scan(e,t.delimiters),e,t),e,t),this.cache[n]=i)}}("undefined"!=typeof exports?exports:Hogan);