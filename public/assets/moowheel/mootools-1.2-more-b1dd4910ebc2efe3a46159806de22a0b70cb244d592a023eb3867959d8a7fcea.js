var Asset=new Hash({javascript:function(e,t){t=$extend({onload:$empty,document:document,check:$lambda(!0)},t);var n=new Element("script",{src:e,type:"text/javascript"}),r=t.onload.bind(n),i=t.check,o=t.document;if(delete t.onload,delete t.check,delete t.document,n.addEvents({load:r,readystatechange:function(){["loaded","complete"].contains(this.readyState)&&r()}}).setProperties(t),Browser.Engine.webkit419)var a=function(){$try(i)&&($clear(a),r())}.periodical(50);return n.inject(o.head)},css:function(e,t){return new Element("link",$merge({rel:"stylesheet",media:"screen",type:"text/css",href:e},t)).inject(document.head)},image:function(e,t){t=$merge({onload:$empty,onabort:$empty,onerror:$empty},t);var n=new Image,r=$(n)||new Element("img");return["load","abort","error"].each(function(e){var i="on"+e,o=t[i];delete t[i],n[i]=function(){n&&(r.parentNode||(r.width=n.width,r.height=n.height),n=n.onload=n.onabort=n.onerror=null,o.delay(1,r,r),r.fireEvent(e,r,1))}}),n.src=r.src=e,n&&n.complete&&n.onload.delay(1),r.setProperties(t)},images:function(e,t){t=$merge({onComplete:$empty,onProgress:$empty},t),e.push||(e=[e]);var n=[],r=0;return e.each(function(i){var o=new Asset.image(i,{onload:function(){t.onProgress.call(this,r,e.indexOf(i)),r++,r==e.length&&t.onComplete()}});n.push(o)}),new Elements(n)}});