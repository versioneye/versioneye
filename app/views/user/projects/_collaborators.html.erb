
<p>
  Add a project collaborator by adding his username or email address.
</p>

<div>
  <%= form_tag(add_collaborator_user_project_path(id: params[:id]),  class: 'form-group', style: 'vertical-align:top;') do %>
    <div class="input-append">

      <input id="collaborator_username" name="collaborator[username]" class="typeahead  form-control" type="text" autofocus="autofocus" autocomplete="off" style="width: 400px; margin-top: -5px; display: inline-block;" />

      <button class="btn btn-primary" onclick="preventSubmit('collaborator_username', 'collaborator username')" type="submit" >
        Add collaborator
      </button>
    </div>
  <% end %>
</div>


<script type="text/javascript">

    jQuery(document).ready(function(){
      jQuery("input#collaborator_username").typeahead({
        name: "users",
        limit: 10,
        allowDuplicates: true,
        remote: {
          url: "/users/autocomplete?term=%QUERY"
        },
        engine: Hogan,
        template: "{{username}} - ({{ fullname }})"
      });
      console.debug("Collaborators autocomplete is initialized.");
    });

</script>
